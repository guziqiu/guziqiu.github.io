<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>LinuxåŸºç¡€</title>
    <url>/2021/01/17/Linux%E5%9F%BA%E7%A1%80/</url>
    <content><![CDATA[<p>2020.11.18-2020.12.20</p>
<h1 id="ä¸€ã€åŸºç¡€çŸ¥è¯†"><a href="#ä¸€ã€åŸºç¡€çŸ¥è¯†" class="headerlink" title="ä¸€ã€åŸºç¡€çŸ¥è¯†"></a>ä¸€ã€åŸºç¡€çŸ¥è¯†</h1><h2 id="1-vimçš„åŸºæœ¬ä½¿ç”¨"><a href="#1-vimçš„åŸºæœ¬ä½¿ç”¨" class="headerlink" title="1.vimçš„åŸºæœ¬ä½¿ç”¨"></a>1.<code>vim</code>çš„åŸºæœ¬ä½¿ç”¨</h2><a id="more"></a>

<blockquote>
<p><code>pwd</code>        (print working directory)</p>
<p><code>$0whoamiaptapt </code></p>
<p><code>updateapt</code> </p>
<p><code>upgrade</code><br><code>apt-cache search XXX</code>        (æœç´¢XXXè½¯ä»¶)<br><code>apt remove XXX</code>        (å¸è½½XXXè½¯ä»¶)<br><code>dpkg -i xxx.dep</code>        (ä½¿ç”¨dpkgç¨‹åºå®‰è£…xxx.dep)(å®‰è£… = install -&gt; -i)<br><code>dpkg -r</code>         (ä½¿ç”¨dpkgå¸è½½è½¯ä»¶)(å¸è½½ = remove -&gt; -r)</p>
</blockquote>
<h2 id="2-Terminal"><a href="#2-Terminal" class="headerlink" title="2.Terminal"></a>2.<code>Terminal</code></h2><p>ç»ˆç«¯<code>( terminal )= tty </code>(Teletypewriterï¼Œ ç”µä¼ æ‰“å°æœº)ï¼Œä½œç”¨æ˜¯æä¾›ä¸€ä¸ªå‘½ä»¤çš„è¾“å…¥è¾“å‡ºç¯ å¢ƒï¼Œåœ¨<code>linux</code>æ“ä½œç³»ç»Ÿä¸‹ä½¿ç”¨ç»„åˆé”® <code>ctrl + alt + T</code> æ‰“å¼€çš„å°±æ˜¯ç»ˆç«¯ï¼Œå¯ä»¥è®¤ä¸º <code>terminal</code> å’Œ <code>tty </code>æ˜¯ åŒä¹‰è¯ã€‚</p>
<h2 id="3-shell"><a href="#3-shell" class="headerlink" title="3.shell"></a>3.<code>shell</code></h2><p><code>shell</code>æ˜¯ä¸€ç§äººæœºäº¤äº’çš„æ¥å£ã€‚ <code>shell</code> æœ‰å£³çš„æ„æ€ï¼Œæ˜¯æŒ‡ â€œæä¾›ä½¿ç”¨è€…ä½¿ç”¨ç•Œé¢â€ çš„è½¯ä»¶ï¼Œæ˜¯ä¸€ç§ å‘½ä»¤è§£æå™¨,æ˜¯<code>Linux</code>å†…æ ¸çš„ä¸€ä¸ªå£³ï¼Œè´Ÿè´£å¤–ç•Œä¸Linuxå†…æ ¸çš„äº¤äº’ã€‚</p>
<blockquote>
<p><code>windows</code> çš„cmdå°±æ˜¯ä¸€ç§<code>shell</code>ã€‚æ‰€ä»¥ <code>shell</code> å¹¶ä¸åªæ˜¯æŒ‡å‘½ä»¤è¯­è¨€<code>-Bash/Zsh</code>ã€‚ å…¶å®GUIæœ¬èº«ä¹Ÿæ˜¯ä¸€ç§<code>shell</code>.</p>
</blockquote>
<p>ç”¨æˆ·åœ¨ <code>shell</code> ä¸­æäº¤å‘½ä»¤ï¼Œ <code>shell</code> è´Ÿè´£æ¥æ”¶ç”¨æˆ·çš„å‘½ä»¤ï¼Œå¹¶æ‰®æ¼”å‘½ä»¤è§£æå™¨çš„â»†è‰²ã€‚ </p>
<p>å½“ä½ æ‰“å¼€ä¸€ä¸ª <code>Terminal</code> æ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šå°† Terminal å’Œ Shell å…³è”èµ·æ¥ï¼Œå½“æˆ‘ä»¬åœ¨ <code>Terminal</code> ä¸­è¾“å…¥å‘½ä»¤çš„æ—¶å€™ï¼Œ <code>Shell</code> å°±è´Ÿè´£è§£é‡Šå‘½ä»¤ã€‚</p>
<h2 id="3ã€å‘½ä»¤"><a href="#3ã€å‘½ä»¤" class="headerlink" title="3ã€å‘½ä»¤"></a>3ã€å‘½ä»¤</h2><blockquote>
<p>å‘½ä»¤æ˜¯äººå’Œè®¡ç®—æœºäº¤äº’çš„åŸºæœ¬å•ä½ï¼Œäººä½¿ç”¨å‘½ä»¤ å°†è¦åšä»€ä¹ˆäº‹ä¼ è¾¾ç»™è®¡ç®—æœºï¼Œè®¡ç®—æœºåšå‡ºè§£ æï¼Œå¹¶åšå‡ºå›åº”ã€‚</p>
</blockquote>
<p><strong>å‘½ä»¤ä¹Ÿæœ‰è‡ªå·±çš„è¯­æ³•ç»“æ„</strong>:</p>
<p>å’Œäººè¯´è¯ä¸€æ ·ï¼Œå‘½ä»¤çš„ä¸»è¦ç»“æ„ä¹Ÿå¯ä»¥çœ‹åšä¸ºä¸»è°“å®¾çš„ç®€å•å¥å’Œå¤æ‚å¥ï¼Œåœ¨å‘½ä»¤ä¸­ï¼Œçœç•¥ä¸»è¯­</p>
<blockquote>
<p>ä¸¾ä¸ªä¾‹å­</p>
</blockquote>
<p><code>cp(è°“è¯­åŠ¨è¯) fileA(å®¾è¯­) fileB(å®¾è¯­)</code></p>
<p> <code>cp(è°“è¯­åŠ¨è¯) -ar(æ–¹å¼çŠ¶è¯­) fileA(å®¾è¯­) fileB(å®¾è¯­)</code></p>
<p><strong>å‘½ä»¤ç»†èŠ‚</strong></p>
<blockquote>
<p>Linuxå‘½ä»¤ç”±ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ç»„æˆ: å‘½ä»¤å ï¼Œ åˆ†éš”ç¬¦ ï¼Œ é€‰é¡¹ å’Œ æ“ä½œå¯¹è±¡ ç»„æˆã€‚ </p>
</blockquote>
<p><strong>å‘½ä»¤å</strong></p>
<p>å‘½ä»¤åæ ‡è¯†äº†å‘½ä»¤çš„åŠŸèƒ½ï¼Œå¦‚cpï¼Œrmï¼Œmvï¼Œrenameï¼Œfdiskç­‰ç­‰ï¼Œéƒ½èƒ½å¾ˆè½»æ˜“çš„çœ‹å‡ºè¯¥å‘½ä»¤çš„åŠŸèƒ½ï¼Œ è¿˜æœ‰ä¸€äº›å‘½ä»¤ï¼Œæœ‰äºŒçº§å­å‘½ä»¤ï¼Œå¦‚apt-get install | removeï¼Œinstallå’Œremoveå°±æ˜¯apt-getçš„å­å‘½ä»¤ã€‚</p>
<p><strong>åˆ†éš”ç¬¦</strong></p>
<p>  åˆ†éš”ç¬¦é€šå¸¸ä¸ºç©ºæ ¼ï¼Œè¿ç»­çš„å¤šä¸ªç©ºæ ¼ä¼šè¢«è§†ä¸ºä¸€ä¸ªç©ºæ ¼ã€‚</p>
<blockquote>
<p>ä¸€äº›ç‰¹æ®Šçš„ç¬¦å·ä¹Ÿå±äºåˆ†éš”ç¬¦ï¼Œä¾‹å¦‚ç®¡é“<code>|</code>ï¼Œé‡å®šå‘<code>&gt;,&lt;&lt;,&lt;,&gt;&gt;,</code>åå°è¿è¡Œ<code>&amp;</code>ï¼Œåºåˆ—æ‰§è¡Œ<code>&amp;&amp;```ã€;</code>éƒ½ æ˜¯ç‰¹æ®Šçš„åˆ†éš”ç¬¦ï¼Œåœ¨ä½¿ç”¨è¿™äº›ç‰¹æ®Šç¬¦å·çš„æ—¶å€™ï¼Œä¸éœ€è¦é¢å¤–åŠ ç©ºæ ¼ï¼Œä½†ä¸ºäº†ä½¿å‘½ä»¤æ›´æ˜“è¯»ï¼Œé€šå¸¸ä¼š åŠ ä¸Šç©ºæ ¼ã€‚</p>
</blockquote>
<p><strong>é€‰é¡¹</strong></p>
<ul>
<li>å‘½ä»¤çš„é€‰é¡¹é€šå¸¸ç”¨ <code>-</code> è¿æ¥ï¼Œé€šå¸¸ä¸ºä¸€ä¸ªå­—æ¯ï¼Œæ˜¯é€‰é¡¹çš„é¦–å­—æ¯ã€‚å¤§å¤šæ•°å‘½ä»¤éƒ½å¯ä»¥ä½¿ç”¨ <code>-h</code> æ¥ æŸ¥çœ‹è¯¥å‘½ä»¤çš„å¸®åŠ©ã€‚</li>
<li>å‘½ä»¤çš„é€‰é¡¹ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>--</code> æ¥å¼•å¯¼ï¼Œæ¥çš„æ˜¯é€‰é¡¹çš„å…¨ç¨‹ï¼Œæ•ˆæœä¸â€”è¿æ¥å•ä¸ªå­—æ¯æ˜¯ä¸€æ ·çš„ã€‚</li>
</ul>
<p><strong>æ“ä½œå¯¹è±¡</strong></p>
<p>   æ“ä½œå¯¹è±¡ä¸ºè¯¥å‘½ä»¤åŠ¨ä½œçš„æ‰¿å—ç€ã€‚</p>
<p><strong>æ ¼å¼çº¦å®š</strong></p>
<ul>
<li>ä½¿ç”¨ <code>[]</code> æ¥æ ‡è®°å¯ä»¥é€‰æ‹©çš„é€‰é¡¹</li>
<li>ä½¿ç”¨ <code>|</code> æ¥è¡¨ç¤ºä¸èƒ½åŒæ—¶ä½¿ç”¨çš„å‚æ•° </li>
<li>é€‰é¡¹é€šå¸¸ç´§è·Ÿå‘½ä»¤åï¼Œå½“ç„¶ï¼Œåœ¨å¾ˆå¤šæ—¶å€™æˆ‘ä»¬å¯ä»¥çœç•¥å‘½ä»¤çš„é€‰é¡¹è€Œä½¿ç”¨é»˜è®¤å‚æ•°</li>
</ul>
<h2 id="4-ç¨‹åºä¸è¿›ç¨‹"><a href="#4-ç¨‹åºä¸è¿›ç¨‹" class="headerlink" title="4.ç¨‹åºä¸è¿›ç¨‹"></a><strong>4.ç¨‹åºä¸è¿›ç¨‹</strong></h2><blockquote>
<p>é‚£ä¹ˆä»€ä¹ˆæ˜¯ç¨‹åºå‘¢?</p>
<blockquote>
<p> è®¡ç®—æœºç¨‹åºæ˜¯æŒ‡ä¸€ç»„æŒ‡ç¤ºè®¡ç®—æœºæ‰§è¡ŒåŠ¨ä½œæˆ–åšå‡ºåˆ¤æ–­çš„æŒ‡ä»¤ï¼Œé€šå¸¸ç”¨æŸç§ç¨‹åºè®¾è®¡è¯­è¨€<br> ç¼–å†™ï¼Œè¿è¡ŒäºæŸç§ç›®æ ‡ä½“ç³»ç»“æ„ä¸Šã€‚</p>
</blockquote>
</blockquote>
<blockquote>
<p>ä»€ä¹ˆåˆæ˜¯è¿›ç¨‹å‘¢?</p>
<blockquote>
<p>è¿›ç¨‹æ˜¯ç¨‹åºåœ¨å†…å­˜ä¸­çš„é•œåƒã€‚</p>
</blockquote>
</blockquote>
<h2 id="5-è·¯å¾„"><a href="#5-è·¯å¾„" class="headerlink" title="5.è·¯å¾„"></a>5.è·¯å¾„</h2><p><strong>ç»å¯¹è·¯å¾„</strong></p>
<p>â€‹    ç»å¯¹è·¯å¾„çš„èµ·å§‹ç‚¹ä¸ºæ ¹ç›®å½• <code>/</code> ,ä¾‹å¦‚ <code>/usr/bin/cp</code> å°±æ˜¯ä¸€ä¸ªç»å¯¹è·¯å¾„ã€‚</p>
<p><strong>ç›¸å¯¹è·¯å¾„</strong> </p>
<p>â€‹    ç›¸å¯¹è·¯å¾„çš„èµ·å§‹ç‚¹ä¸ºå½“å‰è·¯å¾„ <code>.</code> ï¼Œå‡å¦‚ç”¨æˆ·å½“å‰ç›®å½•ä¸º <code>/home/apricity/</code> ï¼Œé‚£ä¹ˆåŒæ ·çš„æ–‡ä»¶ <code>cp</code> ,å…¶ ç›¸å¯¹è·¯å¾„ä¸º <code>../../usr/bin/cp</code> ã€‚</p>
<p><strong>è¿œç¨‹è·¯å¾„</strong></p>
<blockquote>
<p>åœ¨å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬ä¼šéœ€è¦è®¿é—®æœ¬æœºä¹‹å¤–çš„èµ„æºï¼Œè¿™ä¸ªæ—¶å€™è¿œç¨‹è·¯å¾„å°±æœ‰äº†ç”¨æ­¦ä¹‹åœ°äº†ã€‚</p>
</blockquote>
<p>è¿œç¨‹è·¯å¾„çš„ä¸€èˆ¬è¡¨ç¤ºæ–¹æ³•ä¸º: <code>åè®®://ç”¨æˆ·å:å¯†ç @ä½ç½®/è·¯å¾„:ç«¯å£</code> æ¯”å¦‚: <a href="http://baidu.com/">http://baidu.com</a></p>
<p>â€‹    <code>ftp://user:passwd@ftp.baidu.com:21</code><br>  è¿œç¨‹è·¯å¾„æ ¹æ®åº”ç”¨çš„ä¸åŒï¼Œå…·ä½“è¡¨ç¤ºæ–¹æ³•å’Œæ‰€éœ€è¦çš„å‚æ•°éƒ½ä¸å¤ªä¸€è‡´ï¼Œä»ä»¥ä¸Šä¸¤ä¸ªè¿œç¨‹è·¯å¾„å°±å¯ä»¥<br>çœ‹å‡ºã€‚</p>
<p><strong>è·¯å¾„ç›¸å…³çš„å‘½ä»¤</strong></p>
<blockquote>
<p><code>cd</code> #change directory</p>
</blockquote>
<blockquote>
<p><code>ls</code> #list<br><code>pwd</code> #print working directory</p>
</blockquote>
<p><strong>ç‰¹æ®Šè·¯å¾„</strong></p>
<blockquote>
<p><code>~</code> å®¶ç›®å½•<br><code>-</code> ä¸Šæ¬¡å·¥ä½œç›®å½•</p>
</blockquote>
<h2 id="6-è½¯ä»¶"><a href="#6-è½¯ä»¶" class="headerlink" title="6.è½¯ä»¶"></a><strong>6.è½¯ä»¶</strong></h2><p>é€šå¸¸ï¼Œä¸€ä¸ªè½¯ä»¶åŒ…å«çš„å†…å®¹ä¼šåˆ†åˆ«è¢«æ‹·â»‰åˆ°åŒçº§åˆ«çš„ <code>bin lib share</code> å’Œ <code>/etc</code> ç›®å½•ä¸‹ã€‚</p>
<blockquote>
<p><code>bin</code> å­˜æ”¾ç¨‹åºçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚åœ¨ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­å°†è¯¥è·¯å¾„æ·»åŠ è¿›å»ï¼Œå°±å¯ä»¥ç›´æ¥æ‰§è¡Œç¨‹åº. </p>
<p><code>lib</code> åº“æ–‡ä»¶é›†ä¸­å­˜æ”¾ï¼Œæ–¹ä¾¿å…±äº«ã€‚<br><code>share</code> å­˜æ”¾ç¨‹åºéœ€è¦çš„å…¶ä»–èµ„æº.<br><code>/etc</code> é…ç½®æ–‡ä»¶å­˜æ”¾è·¯å¾„ï¼Œå¤§éƒ¨åˆ†çš„ç¨‹åºçš„é…ç½®æ–‡ä»¶éƒ½å¯ä»¥åœ¨è¿™ä¸ªè·¯å¾„ä¸‹æ‰¾åˆ°</p>
</blockquote>
<h2 id="7-é…ç½®æ–¹å¼"><a href="#7-é…ç½®æ–¹å¼" class="headerlink" title="7.é…ç½®æ–¹å¼"></a>7.<strong>é…ç½®æ–¹å¼</strong></h2><blockquote>
<p><code>/etc/network/interface</code> æ–‡ä»¶ä¸ºUbuntuçš„ç½‘ç»œé…ç½®æ–‡ä»¶ï¼Œé€šè¿‡ä¿®æ”¹è¯¥æ–‡ä»¶ï¼Œå¹¶é‡å¯ç½‘ç»œï¼Œ å°±å¯ä»¥å®ç°ç½‘ç»œçš„é…ç½®å·¥ä½œã€‚</p>
</blockquote>
<p>ç›´æ¥ä½¿ç”¨ifconfigå‘½ä»¤æ¥ç›´æ¥ä¿®æ”¹ç½‘ç»œé…ç½®:</p>
<p><code>ifconfig eth0 172.17.211.175</code></p>
<p>è¿™æ¡å‘½ä»¤å°†æŠŠè®¾å¤‡<code> eth0</code> çš„<code>ip</code>åœ°å€æ›´æ–°ä¸º <code>172.17.211.175</code> ã€‚</p>
<h2 id="8-éšè—æ–‡ä»¶"><a href="#8-éšè—æ–‡ä»¶" class="headerlink" title="8.éšè—æ–‡ä»¶"></a>8.éšè—æ–‡ä»¶</h2><p>Linuxçš„éšè—æ–‡ä»¶éƒ½æ˜¯ä»¥<code> .</code> å¼€å¤´çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æ‰€æœ‰ä»¥ <code>.</code> å¼€å¤´çš„æ–‡ä»¶éƒ½ä¼šè¢«ç³»ç»Ÿè¯†åˆ«ä¸ºéšè—æ–‡ä»¶ã€‚</p>
<p>ä½¿ç”¨<code> ls</code> å‘½ä»¤æ·»åŠ  <code>a</code> é€‰é¡¹ï¼Œå°±å¯ä»¥æ˜¾ç¤ºéšè—æ–‡ä»¶ã€‚ è¿™é‡Œæœ‰ä¸¤ä¸ªç‰¹æ®Šçš„ç›®å½• <code>.</code> å’Œ<code> ..</code> ,åˆ†åˆ«ä¸ºå½“å‰ç›®å½•å’Œçˆ¶ç›®å½•ã€‚</p>
<h2 id="9-æ–‡ä»¶ç±»å‹"><a href="#9-æ–‡ä»¶ç±»å‹" class="headerlink" title="9.æ–‡ä»¶ç±»å‹"></a>9.æ–‡ä»¶ç±»å‹</h2><p>ä½¿ç”¨ <code>ll</code> å‘½ä»¤å¯ä»¥æŸ¥çœ‹å½“å‰æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰æ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯ã€‚</p>
<blockquote>
<p><code>ll</code> ç­‰æ•ˆäº <code>ls -al</code></p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">apricity@qiu ~ % ll                                                                                                                                                           [0]</span><br><span class="line">total 40K</span><br><span class="line">-rw-rw-r-- 1 apricity apricity    0 Nov 22 16:39 aaa.txt</span><br><span class="line">drwxrwxr-x 7 apricity apricity 4.0K Nov 20 19:08 autojump</span><br><span class="line">drwxrwxr-x 2 apricity apricity 4.0K Nov 25 11:34 Cè¯­è¨€</span><br><span class="line">drwxrwxr-x 3 apricity apricity 4.0K Nov 19 14:42 guziqiu</span><br><span class="line">drwxrwxr-x 2 apricity apricity 4.0K Nov 20 19:33 haizei_oj</span><br><span class="line">-rw-rw-r-- 1 apricity apricity 8.3K May 25  2020 install_zsh.sh</span><br><span class="line">drwxrwxr-x 4 apricity apricity 4.0K Nov 22 14:10 linuxåŸºç¡€</span><br><span class="line">drwxrwxr-x 2 apricity apricity 4.0K Nov 22 20:46 <span class="built_in">test</span></span><br><span class="line">-rw-rw-r-- 1 apricity apricity    0 Nov 12 01:14 update</span><br><span class="line">drwxrwxr-x 7 apricity apricity 4.0K Nov 12 00:49 zsh-syntax-highlighting</span><br></pre></td></tr></table></figure>
<p>â€‹        <strong>è¯¥å‘½ä»¤ä¸»è¦è¾“å‡ºäº†ä¸ƒåˆ—å†…å®¹ï¼Œåˆ†åˆ«ä¸º:æƒé™ã€æ–‡ä»¶æ•°ã€æ‰€å±ç”¨æˆ·ã€æ‰€å±ç¾¤ç»„ã€æ–‡ä»¶å¤§å°ã€å¸¸â»…æ—¥</strong><br><strong>æœŸã€æ–‡ä»¶åã€‚</strong><br>          <strong>ç¬¬ä¸€åˆ—æƒé™ï¼Œä¸»è¦å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å››ä¸ªéƒ¨åˆ†:æ–‡ä»¶ç±»å‹ï¼Œæ‰€å±ç”¨æˆ·æƒé™ï¼Œæ‰€å±ç»„æƒé™ï¼Œå…¶ä»–ç”¨æˆ·æƒ</strong><br><strong>é™</strong>ã€‚</p>
<blockquote>
<p>ä»¥åˆšæ‰æ‰§è¡Œ<code>ll</code>çš„ç»“æœä¸­çš„ <code>../</code> ç›®å½•çš„æƒé™ä¸ºä¾‹:</p>
<table>
<thead>
<tr>
<th align="center">æ–‡ä»¶ç±»å‹</th>
<th align="center">æ‰€å±ç”¨æˆ·æƒé™</th>
<th align="center">æ‰€å±ç¾¤ç»„æƒé™</th>
<th align="center">å…¶ä»–ç”¨æˆ·æƒé™</th>
</tr>
</thead>
<tbody><tr>
<td align="center">d</td>
<td align="center">rwx</td>
<td align="center">r-x</td>
<td align="center">r-x</td>
</tr>
</tbody></table>
</blockquote>
<ul>
<li><p>ç¬¬ä¸€éƒ¨åˆ†æ–‡ä»¶ç±»å‹ä¸º d ,ä»£è¡¨è¿™ä¸ªæ–‡ä»¶æ˜¯ä¸€ä¸ªç›®å½•(directory)ï¼Œç›®å½•æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ–‡ä»¶; </p>
</li>
<li><p>ç¬¬äºŒéƒ¨åˆ†æ‰€å±ç”¨æˆ·æƒé™ä¸º rwx ï¼Œä»£è¡¨è¯¥æ–‡ä»¶æ‹¥æœ‰è€…æ‹¥æœ‰å¯è¯»(read),å¯å†™(write),å¯æ‰§è¡Œ(execute) çš„æƒé™;</p>
</li>
<li><p>ç¬¬ä¸‰éƒ¨åˆ†æ‰€å±ç¾¤ç»„æƒé™ä¸º r-x ï¼Œä»£è¡¨ä¸è¯¥æ–‡ä»¶æ‹¥æœ‰è€…åœ¨ä¸€ä¸ªç¾¤ç»„çš„ç”¨æˆ·å…·æœ‰å¯è¯»ï¼Œå¯æ‰§è¡Œçš„æƒ é™ï¼Œåœ¨è¿™é‡Œ<code> -</code> é¡¶æ›¿äº†<code>w</code>çš„ä½ç½®ï¼Œä»£è¡¨æ²¡æœ‰å†™æƒé™; </p>
</li>
<li><p>ç¬¬å››éƒ¨åˆ†å…¶ä»–ç”¨æˆ·æƒé™åŒæ ·ä¸ºå¯è¯»ï¼Œå¯æ‰§è¡Œã€‚</p>
</li>
</ul>
<blockquote>
<p><code>rwx</code> çš„é¡ºåºæ˜¯å›ºå®šçš„!</p>
</blockquote>
<p>Linuxä¸­çš„æ–‡ä»¶ç±»å‹é™¤äº†ç›®å½• d ä¹‹å¤–ï¼Œæ€»å…±æœ‰7ç§æ–‡ä»¶ç±»å‹ï¼Œ</p>
<ul>
<li><code>-</code> regular file æ™®é€šæ–‡ä»¶</li>
<li><code>d</code> directoryç›®å½• </li>
<li><code>l</code> linké“¾æ¥</li>
<li><code>b</code>  block å—è®¾å¤‡ å­˜å‚¨æ•°æ®ä»¥ä¾›ç³»ç»Ÿå­˜å–çš„æ¥å£è®¾å¤‡ï¼Œä¹Ÿå°±æ˜¯ç¡¬ç›˜</li>
<li><code>c</code>   character å­—ç¬¦è®¾å¤‡ ä¸²å£è®¾å¤‡ï¼Œé”®ç›˜ï¼Œé¼ æ ‡ç­‰</li>
<li><code>s</code> socketå¥—æ¥å­—<code>//åº”ç”¨å±‚å’Œåº•å±‚çš„æ¥å£</code></li>
<li><code>p</code> pipeç®¡é“</li>
</ul>
<p>å¯¹äºæ™®é€šæ–‡ä»¶åˆå¯ä»¥åˆ†ä¸ºä»¥ä¸‹ä¸‰ç§:</p>
<ul>
<li><p>çº¯æ–‡æœ¬æ–‡ä»¶</p>
<p>â€‹        çº¯æ–‡æœ¬æ–‡ä»¶ä½¿ç”¨<code>ASCII</code>ç¼–ç ï¼Œè¿™æ˜¯<code>Linux</code>ç³»ç»Ÿä¸­æœ€å¸¸â»…çš„ä¸€ç§æ–‡ä»¶ç±»å‹ï¼Œä¹‹æ‰€ä»¥æˆä¸ºçº¯æ–‡æœ¬æ–‡ä»¶ï¼Œæ˜¯å›  ä¸ºè¿™ç§ç±»å‹çš„æ–‡ä»¶æ˜¯æˆ‘ä»¬å¯ä»¥ç›´æ¥è¯»å–çš„å†…å®¹ï¼Œåœ¨<code>Linux</code>ï¼Œå‡ ä¹æ‰€æœ‰çš„é…ç½®æ–‡ä»¶éƒ½å±äºè¿™ç§ç±»å‹ã€‚</p>
</li>
<li><p>äºŒè¿›åˆ¶æ–‡ä»¶ </p>
<p>â€‹        äºŒè¿›åˆ¶æ–‡ä»¶æ˜¯ç³»ç»Ÿä¸­çš„å¯æ‰§è¡Œæ–‡ä»¶(ä¸åŒ…æ‹¬è„šæœ¬)ï¼Œè®¡ç®—æœºåªèƒ½è®¤è¯†å¹¶æ‰§è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶ã€‚äºŒè¿›åˆ¶æ–‡ä»¶ä¸èƒ½ä½¿ç”¨ <code>cat</code> ç­‰å‘½ä»¤ç›´æ¥è¯»å‡ºã€‚ </p>
</li>
<li><p>æ•°æ®æ ¼å¼çš„æ–‡ä»¶</p>
<p>åœ¨ä¸€äº›ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œéœ€è¦è¯»å–ç‰¹å®šæ ¼å¼çš„æ–‡ä»¶ï¼Œè¿™ç§æ–‡ä»¶è¢«ç§°ä¸ºæ•°æ®æ–‡ä»¶(data file)ã€‚è¿™ç§æ–‡ä»¶ é€šå¸¸ä¹Ÿä¸èƒ½ä½¿ç”¨<code>cat</code>å‘½ä»¤è¯»å‡ºã€‚ ä¾‹å¦‚: <code>/var/log/wtmp</code> æ–‡ä»¶ã€‚</p>
</li>
</ul>
<blockquote>
<p>ä½¿ç”¨<code>ll</code>å‘½ä»¤æŸ¥çœ‹æ–‡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°è¯¥æ–‡ä»¶ä¸ºæ™®é€šæ–‡ä»¶   <code>ll</code> == <code>ls -l</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ll /var/<span class="built_in">log</span>/wtmp</span><br><span class="line"></span><br><span class="line">&gt;-rw-rw-r-- 1 root utmp 8832 Apr 27 11:50 /var/<span class="built_in">log</span>/wtmp</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨fileå‘½ä»¤æŸ¥çœ‹é—®ä»·è¯¦æƒ…ï¼Œè¿”å›ä¸º <code>data</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;file /var/<span class="built_in">log</span>/wtmp</span><br><span class="line">&gt;/var/<span class="built_in">log</span>/wtmp: data</span><br></pre></td></tr></table></figure>


</blockquote>
<h2 id="10-æ–‡ä»¶æƒé™"><a href="#10-æ–‡ä»¶æƒé™" class="headerlink" title="10.æ–‡ä»¶æƒé™"></a>10.æ–‡ä»¶æƒé™</h2><p>â€‹        </p>
<blockquote>
<p>æ–‡ä»¶çš„æƒé™åŒ…å«ä¸‰ç»„( <code>u</code> ç”¨æˆ·ï¼Œ<code> g</code> ç¾¤ç»„ï¼Œ<code> o</code> å…¶ä»–ç”¨æˆ·)ï¼Œæ¯ä¸€ç»„åˆéƒ½åŒ…å« ä¸‰ç»„å…·ä½“çš„æƒé™(<code>r</code>è¯»ï¼Œ<code>w</code>å†™ï¼Œ<code>x</code>æ‰§è¡Œ)ã€‚    </p>
</blockquote>
<p>â€‹            å¯¹äºæ–‡ä»¶æƒé™ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨ä¸‹é¢çš„æ–¹å¼æ¥è¡¨ç¤º:</p>
<table>
<thead>
<tr>
<th align="center">r</th>
<th align="center">w</th>
<th align="center">x</th>
<th align="center">r</th>
<th align="center">w</th>
<th align="center">x</th>
<th align="center">r</th>
<th align="center">w</th>
<th align="center">x</th>
</tr>
</thead>
<tbody><tr>
<td align="center">(2^2) 4</td>
<td align="center">(2^1) 2</td>
<td align="center">(2^0) 1</td>
<td align="center">(2^2) 4</td>
<td align="center">(2^1) 2</td>
<td align="center">(2^0) 1</td>
<td align="center">(2^2) 4</td>
<td align="center">(2^1) 2</td>
<td align="center">(2^0) 1</td>
</tr>
</tbody></table>
<p>ä¹Ÿå°±æ˜¯æƒé™çš„æ¯ä¸€ç»„éƒ½ç”±ä¸‰ä¸ªåè¿›åˆ¶çš„æ•°å­—è¡¨ç¤ºï¼Œè¯¥ç»„çš„çš„æƒé™å°±å¯ä»¥ç®€å•çš„ç”¨ç€ä¸‰ä¸ªåè¿›åˆ¶çš„æ•°</p>
<p>å­—ç›¸åŠ å¾—åˆ°ã€‚</p>
<blockquote>
<p>ä¸€ä¸ªæƒé™ä¸º<code> rwxr-xr-x</code> çš„æ–‡ä»¶ï¼Œåˆ™å®ƒçš„æƒé™å¯ä»¥ä½¿ç”¨ <code>755</code> æ¥è¡¨ç¤ºã€‚</p>
</blockquote>
<h2 id="11-ä¸æ–‡ä»¶æƒé™æœ‰å…³çš„å‘½ä»¤"><a href="#11-ä¸æ–‡ä»¶æƒé™æœ‰å…³çš„å‘½ä»¤" class="headerlink" title="11.ä¸æ–‡ä»¶æƒé™æœ‰å…³çš„å‘½ä»¤"></a>11.<strong>ä¸æ–‡ä»¶æƒé™æœ‰å…³çš„å‘½ä»¤</strong></h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">chmod <span class="comment">#æ›´æ”¹æ–‡ä»¶æƒé™ </span></span><br><span class="line">chown <span class="comment">#æ›´æ”¹æ–‡ä»¶æ‰€å±ç”¨æˆ· </span></span><br><span class="line">chgrp <span class="comment">#æ›´æ”¹æ–‡ä»¶æ‰€å±ç»„</span></span><br></pre></td></tr></table></figure>


<ul>
<li>chmod çš„ç”¨æ³•</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">chmod a+x file <span class="comment">#ç»™fileæ–‡ä»¶çš„ugoéƒ½èµ‹äºˆæ‰§è¡Œçš„æƒé™</span></span><br><span class="line">chmod o-x file <span class="comment">#å°†fileæ–‡ä»¶oå‡å»æ‰§è¡Œæƒé™</span></span><br><span class="line">chmod 755 file <span class="comment">#è®¾ç½®fileæ–‡ä»¶çš„æƒé™ä¸ºrwxr-xr-x</span></span><br><span class="line">chmod u=rwx,go=rx file <span class="comment">#è®¾ç½®fileæ–‡ä»¶çš„æƒé™ä¸ºrwxr-xr-x</span></span><br></pre></td></tr></table></figure>


<ul>
<li>chown çš„ç”¨æ³•</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">chown guziqiu:apricity file <span class="comment">#ä¿®æ”¹fileçš„æ‰€å±ç”¨æˆ·æ˜¯guziqiu,æ‰€å±ç»„ä¸ºapricity</span></span><br><span class="line"> chown -R guziqiu:apricity directory </span><br><span class="line"> <span class="comment">#ä¿®æ”¹ç›®å½•directoryåŠç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶çš„æ‰€å±ç”¨æˆ·æ˜¯guziqiuï¼Œ æ‰€å±ç»„ä¸ºzpricity</span></span><br><span class="line"> chown guziqiu file <span class="comment">#ä¿®æ”¹fileçš„æ‰€å±ç”¨æˆ·ä¸ºguziqiu</span></span><br></pre></td></tr></table></figure>


<ul>
<li>chgrp çš„ç”¨æ³•</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">chgrp root file <span class="comment">#ä¿®æ”¹fileæ‰€å±çš„ç»„ä¸ºroot</span></span><br></pre></td></tr></table></figure>


<h2 id="12-ç”¨æˆ·"><a href="#12-ç”¨æˆ·" class="headerlink" title="12.ç”¨æˆ·"></a>12.ç”¨æˆ·</h2><blockquote>
<p><code>Linux</code>æœ‰ä¸¤ç±»ç”¨æˆ·,åˆ†åˆ«æ˜¯ <code>root</code> å’Œ <code>æ™®é€šç”¨æˆ·</code> ã€‚</p>
</blockquote>
<ul>
<li><p>è¶…çº§ç®¡ç†å‘˜: <code>root</code></p>
<p><code>root</code> æ‹¥æœ‰ç³»ç»Ÿçš„å®Œå…¨æ§åˆ¶æƒï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨<code>Linux</code>ç³»ç»Ÿçš„æ—¶å€™ï¼Œéœ€è¦æ…é‡ä½¿ç”¨<code>root</code>ç”¨æˆ·ï¼Œæ›´å¤šçš„è‡ªç”± ä¸æƒé™åŒæ ·ä¹Ÿæ„å‘³ç€æ›´å¤§çš„â»›é™©ã€‚</p>
</li>
<li><p>æ™®é€šç”¨æˆ·</p>
<p>æ™®é€šç”¨æˆ·æ‹¥æœ‰çš„æƒé™å°±æ²¡æœ‰ <code>root</code> ç”¨æˆ·é‚£ä¹ˆå¤§äº†ï¼Œå®ƒåªèƒ½åšç³»ç»Ÿå…è®¸åšçš„äº‹ã€‚æ™®é€šç”¨æˆ·å¯ä»¥æ‰§è¡Œå¤§ éƒ¨åˆ†çš„å‘½ä»¤ï¼Œä½†æ˜¯<code>root</code>ä¸“æœ‰çš„å‘½ä»¤å´ä¸èƒ½æ‰§è¡Œã€‚</p>
</li>
</ul>
<p>å¯ä»¥ä½¿ç”¨ su å‘½ä»¤æ¥åˆ‡æ¢ç”¨æˆ·:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">:~$ whoami</span><br><span class="line">guziqiu</span><br><span class="line">:~$ su - root</span><br><span class="line">Password:</span><br><span class="line">:~<span class="comment"># whoami</span></span><br><span class="line">root</span><br><span class="line">:~<span class="comment"># su - guziqiu</span></span><br><span class="line">:~$ whoami</span><br><span class="line">guziqiu</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>su - guziqiu</code></p>
<p><code>-</code>ä»£è¡¨ä¸€æ¬¡å®Œæ•´çš„é‡æ–°ç™»å½•</p>
</blockquote>
<p>é€€å‡º</p>
<p><code>control +D</code></p>
<p><code>exit </code></p>
<p><code>logout</code></p>
<h2 id="13-å…¶ä»–å‘½ä»¤"><a href="#13-å…¶ä»–å‘½ä»¤" class="headerlink" title="13.å…¶ä»–å‘½ä»¤"></a>13.å…¶ä»–å‘½ä»¤</h2><p><code>id</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">apricity@qiu ~ % id                                                                                                                                                 [0]</span><br><span class="line">uid=1000(apricity) gid=1000(apricity) groups=1000(apricity),27(sudo)</span><br><span class="line">//ç”¨æˆ·ï¼Œç»„ï¼Œå…¶ä»–ç»„</span><br></pre></td></tr></table></figure>




<p>1.ç«è½¦åŠ¨ç”»</p>
<p>â€‹    <code>sl</code></p>
<p>2.<code>apt-build moo</code> </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">apt-build moo </span><br><span class="line"></span><br><span class="line">         (__)    ~</span><br><span class="line">         (oo)   /</span><br><span class="line">     _____\/___/</span><br><span class="line">    /  /\ / /</span><br><span class="line">   ~  /  * /</span><br><span class="line">     / ___/</span><br><span class="line">*----/\</span><br><span class="line">    /  \</span><br><span class="line">   /   /</span><br><span class="line">  ~    ~</span><br><span class="line">...<span class="string">&quot;Have you danced today? Discow!&quot;</span>...</span><br></pre></td></tr></table></figure>


<p>3.cowsay</p>
<p>ç”¨ASCIIå­—ç¬¦æ‰“å°ç‰›ï¼Œç¾Šç­‰åŠ¨ç‰©ï¼Œè¿˜æœ‰ä¸ªcowthinkï¼Œè¿™ä¸ªæ˜¯å¥¶ç‰›æƒ³ï¼Œé‚£ä¸ªæ˜¯å¥¶ç‰›è¯´ï¼Œå“ˆå“ˆï¼Œå·®ä¸å¤š</p>
<p><code>sudo apt-get install cowsay</code></p>
<p><code>cowsay -f tux &quot;å‘çˆ¹å•Š&quot;</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">________</span><br><span class="line">&lt; å‘çˆ¹å•Š &gt;</span><br><span class="line"> --------</span><br><span class="line">   \</span><br><span class="line">    \</span><br><span class="line">        .--.</span><br><span class="line">       |o_o |</span><br><span class="line">       |:_/ |</span><br><span class="line">      //   \ \</span><br><span class="line">     (|     | )</span><br><span class="line">    /&#x27;\_   _/`\</span><br><span class="line">    \___)=(___/</span><br></pre></td></tr></table></figure>


<ol start="4">
<li><code>cmatrix</code> å‘½ä»¤</li>
</ol>
<p>è¿™ä¸ªå¾ˆé…·ï¼ã€Šé»‘å®¢å¸å›½ã€‹é‚£ç§çŸ©é˜µé£æ ¼çš„åŠ¨ç”»æ•ˆæœ</p>
<p> <code>sudo apt-get install cmatrix</code></p>
<p><code>cmatrix</code></p>
<p><code>q</code>é€€å‡º</p>
<h1 id="äºŒã€å‘½ä»¤ç³»ç»Ÿ"><a href="#äºŒã€å‘½ä»¤ç³»ç»Ÿ" class="headerlink" title="äºŒã€å‘½ä»¤ç³»ç»Ÿ"></a>äºŒã€å‘½ä»¤ç³»ç»Ÿ</h1><p>shellã€termialã€console</p>
<blockquote>
<p>shellæ˜¯ä¸€ç§å‘½ä»¤è§£æå™¨ï¼Œå®ƒç»™ç”¨æˆ·æä¾›äº†ä¸€ä¸ªè¾“å…¥å‘½ä»¤å¹¶æ¥å—æœºå™¨è¿”å›ç»“æœçš„ç•Œé¢ã€‚</p>
</blockquote>
<p>consoleæ§åˆ¶å°ï¼Œä¸€èˆ¬consoleåªèƒ½æœ‰ä¸€ä¸ª</p>
<p>terminal,å®ƒæ˜¯ä¸€ä¸ªå°è£…ç¨‹åºï¼Œä¸€ä¸ªterminalè¿è¡Œä¸€ä¸ªshellæ¥æ‰©å……ä¸ºä¸€ä¸ªå…·å¤‡shellåŠŸèƒ½çš„çš„ç¨‹åºã€‚</p>
<blockquote>
<p>console å’Œ terminalçš„æ¦‚å¿µéƒ½æºè‡ªå¤§å‹æœºï¼Œconsoleå¯ä»¥çœ‹ä½œä¸ºä¸€ä¸ªç‰¹æ®Šçš„terminalã€‚ç°åœ¨ç”¨çš„ä¸€èˆ¬éƒ½æ˜¯å¼•ç”³ä¹‰ï¼Œä¸€èˆ¬æƒ…å†µä¸‹å¯ä»¥æ··ç”¨ã€‚</p>
</blockquote>
<p>å‘½ä»¤è¿”å›å€¼å«ä¹‰</p>
<p>[0]å¦‚æœä¸º 0ï¼Œåˆ™è¡¨ç¤ºå‘½ä»¤æ‰§è¡ŒæˆåŠŸï¼Œå…¶å®ƒå€¼åˆ™è¡¨ç¤ºé”™è¯¯ï¼Œ</p>
<p>[1]Operation not permitted</p>
<p>[2]No such file or directory</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">&quot;OS error code   1:  Operation not permitted&quot;</span><br><span class="line"> &quot;OS error code   2:  No such file or directory&quot;</span><br><span class="line"> &quot;OS error code   3:  No such process&quot;</span><br><span class="line"> &quot;OS error code   4:  Interrupted system call&quot;</span><br><span class="line"> &quot;OS error code   5:  Input/output error&quot;</span><br><span class="line"> &quot;OS error code   6:  No such device or address&quot;</span><br><span class="line"> &quot;OS error code   7:  Argument list too long&quot;</span><br><span class="line"> &quot;OS error code   8:  Exec format error&quot;</span><br><span class="line"> &quot;OS error code   9:  Bad file descriptor&quot;</span><br><span class="line"> &quot;OS error code  10:  No child processes&quot;</span><br><span class="line"> &quot;OS error code  11:  Resource temporarily unavailable&quot;</span><br><span class="line"> &quot;OS error code  12:  Cannot allocate memory&quot;</span><br><span class="line"> &quot;OS error code  13:  Permission denied&quot;</span><br><span class="line"> &quot;OS error code  14:  Bad address&quot;</span><br><span class="line"> &quot;OS error code  15:  Block device required&quot;</span><br><span class="line"> &quot;OS error code  16:  Device or resource busy&quot;</span><br><span class="line"> &quot;OS error code  17:  File exists&quot;</span><br><span class="line"> &quot;OS error code  18:  Invalid cross-device link&quot;</span><br><span class="line"> &quot;OS error code  19:  No such device&quot;</span><br><span class="line"> &quot;OS error code  20:  Not a directory&quot;</span><br><span class="line"> &quot;OS error code  21:  Is a directory&quot;</span><br><span class="line"> &quot;OS error code  22:  Invalid argument&quot;</span><br><span class="line"> &quot;OS error code  23:  Too many open files in system&quot;</span><br><span class="line"> &quot;OS error code  24:  Too many open files&quot;</span><br><span class="line"> &quot;OS error code  25:  Inappropriate ioctl for device&quot;</span><br><span class="line"> &quot;OS error code  26:  Text file busy&quot;</span><br><span class="line"> &quot;OS error code  27:  File too large&quot;</span><br><span class="line"> &quot;OS error code  28:  No space left on device&quot;</span><br><span class="line"> &quot;OS error code  29:  Illegal seek&quot;</span><br><span class="line"> &quot;OS error code  30:  Read-only file system&quot;</span><br><span class="line"> &quot;OS error code  31:  Too many links&quot;</span><br><span class="line"> &quot;OS error code  32:  Broken pipe&quot;</span><br><span class="line"> &quot;OS error code  33:  Numerical argument out of domain&quot;</span><br><span class="line"> &quot;OS error code  34:  Numerical result out of range&quot;</span><br><span class="line"> &quot;OS error code  35:  Resource deadlock avoided&quot;</span><br><span class="line"> &quot;OS error code  36:  File name too long&quot;</span><br><span class="line"> &quot;OS error code  37:  No locks available&quot;</span><br><span class="line"> &quot;OS error code  38:  Function not implemented&quot;</span><br><span class="line"> &quot;OS error code  39:  Directory not empty&quot;</span><br><span class="line"> &quot;OS error code  40:  Too many levels of symbolic links&quot;</span><br><span class="line"> &quot;OS error code  42:  No message of desired type&quot;</span><br><span class="line"> &quot;OS error code  43:  Identifier removed&quot;</span><br><span class="line"> &quot;OS error code  44:  Channel number out of range&quot;</span><br><span class="line"> &quot;OS error code  45:  Level 2 not synchronized&quot;</span><br><span class="line"> &quot;OS error code  46:  Level 3 halted&quot;</span><br><span class="line"> &quot;OS error code  47:  Level 3 reset&quot;</span><br><span class="line"> &quot;OS error code  48:  Link number out of range&quot;</span><br><span class="line"> &quot;OS error code  49:  Protocol driver not attached&quot;</span><br><span class="line"> &quot;OS error code  50:  No CSI structure available&quot;</span><br><span class="line"> &quot;OS error code  51:  Level 2 halted&quot;</span><br><span class="line"> &quot;OS error code  52:  Invalid exchange&quot;</span><br><span class="line"> &quot;OS error code  53:  Invalid request descriptor&quot;</span><br><span class="line"> &quot;OS error code  54:  Exchange full&quot;</span><br><span class="line"> &quot;OS error code  55:  No anode&quot;</span><br><span class="line"> &quot;OS error code  56:  Invalid request code&quot;</span><br><span class="line"> &quot;OS error code  57:  Invalid slot&quot;</span><br><span class="line"> &quot;OS error code  59:  Bad font file format&quot;</span><br><span class="line"> &quot;OS error code  60:  Device not a stream&quot;</span><br><span class="line"> &quot;OS error code  61:  No data available&quot;</span><br><span class="line"> &quot;OS error code  62:  Timer expired&quot;</span><br><span class="line"> &quot;OS error code  63:  Out of streams resources&quot;</span><br><span class="line"> &quot;OS error code  64:  Machine is not on the network&quot;</span><br><span class="line"> &quot;OS error code  65:  Package not installed&quot;</span><br><span class="line"> &quot;OS error code  66:  Object is remote&quot;</span><br><span class="line"> &quot;OS error code  67:  Link has been severed&quot;</span><br><span class="line"> &quot;OS error code  68:  Advertise error&quot;</span><br><span class="line"> &quot;OS error code  69:  Srmount error&quot;</span><br><span class="line"> &quot;OS error code  70:  Communication error on send&quot;</span><br><span class="line"> &quot;OS error code  71:  Protocol error&quot;</span><br><span class="line"> &quot;OS error code  72:  Multihop attempted&quot;</span><br><span class="line"> &quot;OS error code  73:  RFS specific error&quot;</span><br><span class="line"> &quot;OS error code  74:  Bad message&quot;</span><br><span class="line"> &quot;OS error code  75:  Value too large for defined data type&quot;</span><br><span class="line"> &quot;OS error code  76:  Name not unique on network&quot;</span><br><span class="line"> &quot;OS error code  77:  File descriptor in bad state&quot;</span><br><span class="line"> &quot;OS error code  78:  Remote address changed&quot;</span><br><span class="line"> &quot;OS error code  79:  Can not access a needed shared library&quot;</span><br><span class="line"> &quot;OS error code  80:  Accessing a corrupted shared library&quot;</span><br><span class="line"> &quot;OS error code  81:  .lib section in a.out corrupted&quot;</span><br><span class="line"> &quot;OS error code  82:  Attempting to link in too many shared libraries&quot;</span><br><span class="line"> &quot;OS error code  83:  Cannot exec a shared library directly&quot;</span><br><span class="line"> &quot;OS error code  84:  Invalid or incomplete multibyte or wide character&quot;</span><br><span class="line"> &quot;OS error code  85:  Interrupted system call should be restarted&quot;</span><br><span class="line"> &quot;OS error code  86:  Streams pipe error&quot;</span><br><span class="line"> &quot;OS error code  87:  Too many users&quot;</span><br><span class="line"> &quot;OS error code  88:  Socket operation on non-socket&quot;</span><br><span class="line"> &quot;OS error code  89:  Destination address required&quot;</span><br><span class="line"> &quot;OS error code  90:  Message too long&quot;</span><br><span class="line"> &quot;OS error code  91:  Protocol wrong type for socket&quot;</span><br><span class="line"> &quot;OS error code  92:  Protocol not available&quot;</span><br><span class="line"> &quot;OS error code  93:  Protocol not supported&quot;</span><br><span class="line"> &quot;OS error code  94:  Socket type not supported&quot;</span><br><span class="line"> &quot;OS error code  95:  Operation not supported&quot;</span><br><span class="line"> &quot;OS error code  96:  Protocol family not supported&quot;</span><br><span class="line"> &quot;OS error code  97:  Address family not supported by protocol&quot;</span><br><span class="line"> &quot;OS error code  98:  Address already in use&quot;</span><br><span class="line"> &quot;OS error code  99:  Cannot assign requested address&quot;</span><br><span class="line"> &quot;OS error code 100:  Network is down&quot;</span><br><span class="line"> &quot;OS error code 101:  Network is unreachable&quot;</span><br><span class="line"> &quot;OS error code 102:  Network dropped connection on reset&quot;</span><br><span class="line"> &quot;OS error code 103:  Software caused connection abort&quot;</span><br><span class="line"> &quot;OS error code 104:  Connection reset by peer&quot;</span><br><span class="line"> &quot;OS error code 105:  No buffer space available&quot;</span><br><span class="line"> &quot;OS error code 106:  Transport endpoint is already connected&quot;</span><br><span class="line"> &quot;OS error code 107:  Transport endpoint is not connected&quot;</span><br><span class="line"> &quot;OS error code 108:  Cannot send after transport endpoint shutdown&quot;</span><br><span class="line"> &quot;OS error code 109:  Too many references: cannot splice&quot;</span><br><span class="line"> &quot;OS error code 110:  Connection timed out&quot;</span><br><span class="line"> &quot;OS error code 111:  Connection refused&quot;</span><br><span class="line"> &quot;OS error code 112:  Host is down&quot;</span><br><span class="line"> &quot;OS error code 113:  No route to host&quot;</span><br><span class="line"> &quot;OS error code 114:  Operation already in progress&quot;</span><br><span class="line"> &quot;OS error code 115:  Operation now in progress&quot;</span><br><span class="line"> &quot;OS error code 116:  Stale NFS file handle&quot;</span><br><span class="line"> &quot;OS error code 117:  Structure needs cleaning&quot;</span><br><span class="line"> &quot;OS error code 118:  Not a XENIX named type file&quot;</span><br><span class="line"> &quot;OS error code 119:  No XENIX semaphores available&quot;</span><br><span class="line"> &quot;OS error code 120:  Is a named type file&quot;</span><br><span class="line"> &quot;OS error code 121:  Remote I/O error&quot;</span><br><span class="line"> &quot;OS error code 122:  Disk quota exceeded&quot;</span><br><span class="line"> &quot;OS error code 123:  No medium found&quot;</span><br><span class="line"> &quot;OS error code 124:  Wrong medium type&quot;</span><br><span class="line"> &quot;OS error code 125:  Operation canceled&quot;</span><br><span class="line"> &quot;OS error code 126:  Required key not available&quot;</span><br><span class="line"> &quot;OS error code 127:  Key has expired&quot;</span><br><span class="line"> &quot;OS error code 128:  Key has been revoked&quot;</span><br><span class="line"> &quot;OS error code 129:  Key was rejected by service&quot;</span><br><span class="line"> &quot;OS error code 130:  Owner died&quot;</span><br><span class="line"> &quot;OS error code 131:  State not recoverable&quot;</span><br></pre></td></tr></table></figure>


<h2 id="1-Linuxå¸®åŠ©ç³»ç»Ÿ"><a href="#1-Linuxå¸®åŠ©ç³»ç»Ÿ" class="headerlink" title="1.Linuxå¸®åŠ©ç³»ç»Ÿ"></a>1.Linuxå¸®åŠ©ç³»ç»Ÿ</h2><p><code>man</code>æ‰‹å†Œ</p>
<p><code>man ls</code></p>
<p><code>ls(1)ls</code>ç¬¬ä¸€éƒ¨åˆ†</p>
<p><code>user commands</code> æ‰€å±éƒ¨åˆ†ï¼šç”¨æˆ·å‘½ä»¤</p>
<p><code>info</code>æ‰‹å†Œ</p>
<p><code>ls --time =atime -l</code> </p>
<p><code>man scanf</code></p>
<p><code>linux porgrammer&#39;s manual</code>ï¼šæ‰€å±éƒ¨åˆ†:ç³»ç»Ÿå¼€å‘è€…</p>
<blockquote>
<p>åœ¨å­¦ä¹ ä½¿ç”¨Linuxçš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šé‡åˆ°å¾ˆå¤šä»¥å‰æ²¡æœ‰ç”¨è¿‡çš„å‘½ä»¤å’ŒåŠŸèƒ½ï¼Œè¿™ä¸ªæ—¶å€™æœ€å¥½çš„è§£å†³åŠæ³•å°±æ˜¯æ±‚åŠ©äº<strong>man</strong>.</p>
</blockquote>
<p><code>man</code>çš„ä½¿ç”¨æ–¹æ³•å¾ˆç®€å•ï¼Œä¾‹å¦‚æŸ¥çœ‹<code>ls</code>çš„å¸®åŠ©æ‰‹å†Œï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨å‘½ä»¤<code>man ls</code>å³å¯æŸ¥çœ‹<code>ls</code>çš„å‘½ä»¤å¸®åŠ©ã€‚</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">LS(1)                                       User Commands                                LS(1)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">NAME  <span class="comment">#å‘½ä»¤å…¨åï¼Œç®€å•çš„è¯´æ˜åŠç”¨æ³•</span></span><br><span class="line">       ls - list directory contents</span><br><span class="line"></span><br><span class="line">SYNOPSIS <span class="comment">#åŸºæœ¬è¯­æ³•</span></span><br><span class="line">       ls [OPTION]... [FILE]...</span><br><span class="line"></span><br><span class="line">DESCRIPTION <span class="comment">#è¯¦ç»†è¯´æ˜è¯­æ³•ä¸­å‚æ•°çš„ç”¨æ³•</span></span><br><span class="line">       List information about the FILEs (the current directory by default).  Sort entries alphabetiâ€</span><br><span class="line">       cally <span class="keyword">if</span> none of -cftuvSUX nor --sort is specified.</span><br><span class="line"></span><br><span class="line">       Mandatory arguments to long options are mandatory <span class="keyword">for</span> short options too.</span><br><span class="line"></span><br><span class="line">       -a, --all</span><br><span class="line">              <span class="keyword">do</span> not ignore entries starting with .</span><br><span class="line"></span><br><span class="line">       -A, --almost-all</span><br><span class="line">              <span class="keyword">do</span> not list implied . and ..</span><br><span class="line"></span><br><span class="line">       --author</span><br><span class="line">              with -l, <span class="built_in">print</span> the author of each file</span><br><span class="line"> <span class="comment">#ä¸­é—´çœç•¥</span></span><br><span class="line">       -1     list one file per line</span><br><span class="line"></span><br><span class="line">       --<span class="built_in">help</span> display this <span class="built_in">help</span> and <span class="built_in">exit</span></span><br><span class="line"></span><br><span class="line">       --version</span><br><span class="line">              output version information and <span class="built_in">exit</span></span><br><span class="line"></span><br><span class="line">       SIZE  may be (or may be an <span class="built_in">integer</span> optionally followed by) one of following: KB 1000, K 1024,</span><br><span class="line">       MB 1000*1000, M 1024*1024, and so on <span class="keyword">for</span> G, T, P, E, Z, Y.</span><br><span class="line"></span><br><span class="line">       Using color to distinguish file types is disabled both by  default  and  with  --color=never.</span><br><span class="line">       With --color=auto, ls emits color codes only when standard output is connected to a terminal.</span><br><span class="line">       The LS_COLORS environment variable can change the settings.  Use the dircolors <span class="built_in">command</span> to <span class="built_in">set</span></span><br><span class="line">       it.</span><br><span class="line"></span><br><span class="line">   Exit status: <span class="comment">#é”™è¯¯è¿”å›å€¼</span></span><br><span class="line">       0      <span class="keyword">if</span> OK,</span><br><span class="line"></span><br><span class="line">       1      <span class="keyword">if</span> minor problems (e.g., cannot access subdirectory),</span><br><span class="line"></span><br><span class="line">       2      <span class="keyword">if</span> serious trouble (e.g., cannot access command-line argument).</span><br><span class="line"></span><br><span class="line">AUTHOR  <span class="comment">#ä½œè€…</span></span><br><span class="line">       Written by Richard M. Stallman and David MacKenzie.</span><br><span class="line"></span><br><span class="line">REPORTING BUGS <span class="comment">#bugæäº¤è”ç³»æ–¹å¼</span></span><br><span class="line">       Report ls bugs to bug-coreutils@gnu.org</span><br><span class="line">       GNU coreutils home page: &lt;http://www.gnu.org/software/coreutils/&gt;</span><br><span class="line">       General <span class="built_in">help</span> using GNU software: &lt;http://www.gnu.org/gethelp/&gt;</span><br><span class="line">       Report ls translation bugs to &lt;http://translationproject.org/team/&gt;</span><br><span class="line"></span><br><span class="line">COPYRIGHT  <span class="comment">#ç‰ˆæƒä¿æŠ¤</span></span><br><span class="line">       Copyright  Â©  2011 Free Software Foundation, Inc.  License GPLv3+: GNU GPL version 3 or later</span><br><span class="line">       &lt;http://gnu.org/licenses/gpl.html&gt;.</span><br><span class="line">       This is free software: you are free to change and redistribute it.  There is NO WARRANTY,  to</span><br><span class="line">       the extent permitted by law.</span><br><span class="line"></span><br><span class="line">SEE ALSO <span class="comment">##åœ¨å“ªé‡Œå¯ä»¥çœ‹åˆ°æ›´å¤šå…³äºè¯¥å‘½ä»¤çš„æ–‡æ¡£</span></span><br><span class="line">       The full documentation <span class="keyword">for</span> ls is maintained as a Texinfo manual.  If the info and ls programs</span><br><span class="line">       are properly installed at your site, the <span class="built_in">command</span></span><br><span class="line"></span><br><span class="line">              info coreutils <span class="string">&#x27;ls invocation&#x27;</span></span><br><span class="line"></span><br><span class="line">       should give you access to the complete manual.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">GNU coreutils 8.12.197-032bb               September 2011                                      LS(1)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>çœ¼å°–çš„åŒå­¦åº”è¯¥æ³¨æ„åˆ°äº†æ‰‹å†Œä¸­å¼€å¤´å’Œç»“å°¾çš„åœ°æ–¹å†™çš„<code>LS(1)</code>äº†ï¼Œé‚£ä¹ˆè¿™æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå®ƒä»£è¡¨çš„æ˜¯ä¸€èˆ¬ç”¨æˆ·å¯ä½¿ç”¨çš„å‘½ä»¤ã€‚</p>
</blockquote>
<p>åœ¨manä¸­ï¼Œå¸¸è§çš„å‡ ä¸ªæ•°å­—çš„å«ä¹‰å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p>
<table>
<thead>
<tr>
<th align="center">ä»£å·</th>
<th align="left">ä»£è¡¨çš„å«ä¹‰</th>
<th>ä¸¾ä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="left">ç”¨æˆ·åœ¨shellç¯å¢ƒä¸‹å¯ä»¥æ“ä½œçš„å‘½ä»¤æˆ–å¯æ‰§è¡Œæ–‡ä»¶</td>
<td><code>man 1 ls</code></td>
</tr>
<tr>
<td align="center">2</td>
<td align="left">ç³»ç»Ÿå†…æ ¸å¯è°ƒç”¨çš„å‡½æ•°å’Œå·¥å…·</td>
<td><code>man 2 reboot</code></td>
</tr>
<tr>
<td align="center">3</td>
<td align="left">ä¸€äº›å¸¸ç”¨çš„å‡½æ•°ä¸å‡½æ•°åº“ï¼Œå¤§éƒ¨åˆ†Cçš„å‡½æ•°åº“</td>
<td><code>man 3 readdir</code></td>
</tr>
<tr>
<td align="center">4</td>
<td align="left">è®¾å¤‡æ–‡ä»¶çš„è¯´æ˜ï¼Œé€šå¸¸æ˜¯åœ¨<code>/dev</code>ä¸‹çš„è®¾å¤‡</td>
<td><code>man 4 null</code></td>
</tr>
<tr>
<td align="center">5</td>
<td align="left">é…ç½®æ–‡ä»¶æˆ–æŸäº›æ–‡ä»¶çš„æ ¼å¼</td>
<td><code>man 5 interfaces</code></td>
</tr>
<tr>
<td align="center">6</td>
<td align="left">æ¸¸æˆ</td>
<td><code>man 6 lol</code> ğŸ˜‚</td>
</tr>
<tr>
<td align="center">7</td>
<td align="left">æƒ¯ä¾‹ä¸åè®®ç­‰ï¼Œä¾‹å¦‚Linuxæ–‡ä»¶ç³»ç»Ÿï¼Œç½‘ç»œåè®®ç­‰</td>
<td><code>man 7 tcp</code></td>
</tr>
<tr>
<td align="center">8</td>
<td align="left">ç³»ç»Ÿç®¡ç†å‘˜å¯ç”¨çš„å‘½ä»¤</td>
<td><code>man 8 reboot</code></td>
</tr>
<tr>
<td align="center">9</td>
<td align="left">è·Ÿkernelæœ‰å…³çš„æ–‡ä»¶</td>
<td></td>
</tr>
<tr>
<td align="center">o</td>
<td align="left">æ—§æ–‡æ¡£</td>
<td></td>
</tr>
<tr>
<td align="center">n</td>
<td align="left">æ–°æ–‡æ¡£</td>
<td></td>
</tr>
<tr>
<td align="center">l</td>
<td align="left">æœ¬åœ°æ–‡æ¡£</td>
<td></td>
</tr>
</tbody></table>
<p>åœ¨manæ‰‹å†Œä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨åˆ°çš„å¿«æ·é”®å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>å¿«æ·é”®</th>
<th>åŠŸèƒ½</th>
<th>å¿«æ·é”®</th>
<th>åŠŸèƒ½</th>
</tr>
</thead>
<tbody><tr>
<td>Ctrl+f(orward)</td>
<td>å‘ä¸‹ç¿»ä¸€é¡µ</td>
<td>Ctrl+d(own)</td>
<td>å‘ä¸‹ç¿»åŠé¡µ</td>
</tr>
<tr>
<td>Ctrl+b(ackward)</td>
<td>å‘ä¸Šç¿»ä¸€é¡µ</td>
<td>Ctrl+u(p)</td>
<td>å‘ä¸Šç¿»åŠé¡µ</td>
</tr>
<tr>
<td>/</td>
<td>æŸ¥æ‰¾</td>
<td>q(uit)</td>
<td>é€€å‡º</td>
</tr>
</tbody></table>
<p>éšå ‚ç»ƒä¹ ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">man -f            #whatis</span><br><span class="line">man -k            #apropos</span><br></pre></td></tr></table></figure>
<blockquote>
<p>åœ¨Linuxä¸­è¿˜æœ‰ä¸€ç§åœ¨çº¿æ±‚åŠ©çš„æ–¹å¼<code>info</code>,æœ‰å…´è¶£çš„å¯ä»¥äº†è§£ä¸€ä¸‹ã€‚</p>
</blockquote>
<h2 id="2-linuxå¸¸ç”¨å‘½ä»¤"><a href="#2-linuxå¸¸ç”¨å‘½ä»¤" class="headerlink" title="2.linuxå¸¸ç”¨å‘½ä»¤"></a>2.linuxå¸¸ç”¨å‘½ä»¤</h2><p>1.æ–‡ä»¶åŠç›®å½•ç›¸å…³ï¼Œæ–‡ä»¶å†…å®¹çš„ä¿®æ”¹ä¸æŸ¥çœ‹</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>ls</code>æŸ¥çœ‹ç›®å½•ä¸‹å†…å®¹</td>
<td><code>cd</code>ç›®å½•è·³è½¬</td>
</tr>
<tr>
<td><code>pwd</code>æ‰“å°å·¥ä½œç›®å½•</td>
<td><code>cp</code>æ‹·è´</td>
</tr>
<tr>
<td><code>mv</code>ç§»åŠ¨æ–‡ä»¶åŠç›®å½•</td>
<td><code>rm</code>åˆ é™¤æ–‡ä»¶åŠç›®å½•</td>
</tr>
<tr>
<td><code>mkdir</code>åˆ›å»ºç›®å½•</td>
<td><code>tree</code>æ‰“å°ç›®å½•æ ‘</td>
</tr>
<tr>
<td><code>tar</code>æ–‡ä»¶å½’æ¡£ä¸å‹ç¼©</td>
<td><code>ln</code>åˆ›å»ºé“¾æ¥æ–‡ä»¶</td>
</tr>
<tr>
<td><code>touch</code>åˆ›å»ºç©ºç™½æ–‡ä»¶</td>
<td><code>head</code>æŸ¥çœ‹æ–‡ä»¶å¤´éƒ¨</td>
</tr>
<tr>
<td><code>cat</code>æŸ¥çœ‹æ–‡ä»¶å†…å®¹</td>
<td>tailæŸ¥çœ‹æ–‡ä»¶å°¾éƒ¨</td>
</tr>
<tr>
<td><code>vim</code>æ–‡æœ¬ç¼–è¾‘å™¨</td>
<td><code>diff</code>å¯¹æ¯”æ–‡ä»¶</td>
</tr>
<tr>
<td><code>echo</code>æ‰“å°æ–‡æœ¬</td>
<td><code>grep</code>æ£€ç´¢ä¿¡æ¯</td>
</tr>
<tr>
<td><code>more</code>åˆ†é¡µæŸ¥çœ‹æ–‡ä»¶</td>
<td><code>wc</code>è®¡æ•°</td>
</tr>
<tr>
<td><code>less</code>åˆ†é¡µæŸ¥çœ‹æ–‡ä»¶</td>
<td><code>find</code>æŸ¥æ‰¾æ–‡ä»¶</td>
</tr>
<tr>
<td><code>which</code>æŸ¥æ‰¾å¯æ‰§è¡Œæ–‡ä»¶</td>
<td><code>whereis</code>æŸ¥æ‰¾å¯æ‰§è¡Œã€æºç ã€å¸®åŠ©æ‰‹å†Œ</td>
</tr>
<tr>
<td><code>locate</code>å®šä½ä»»ä½•æ–‡ä»¶</td>
<td></td>
</tr>
</tbody></table>
<p>2.ç”¨æˆ·ç›¸å…³å‘½ä»¤ï¼Œè¿›ç¨‹ç›¸å…³å‘½ä»¤</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>useradd</code>æ–°å»ºç”¨æˆ·</td>
<td><code>chgrp</code>ä¿®æ”¹æ‰€å±ç»„</td>
</tr>
<tr>
<td><code>userdel</code>åˆ é™¤ç”¨æˆ·</td>
<td><code>chmod</code>ä¿®æ”¹æ–‡ä»¶æƒé™</td>
</tr>
<tr>
<td><code>usermod</code>ä¿®æ”¹ç”¨æˆ·</td>
<td><code>chown</code>ä¿®æ”¹æ–‡ä»¶æ‰€å±ç”¨æˆ·</td>
</tr>
<tr>
<td><code>passwd</code>ä¿®æ”¹å¯†ç </td>
<td><code>logout</code>é€€å‡ºç”¨æˆ·</td>
</tr>
<tr>
<td><code>su</code>åˆ‡æ¢ç”¨æˆ·</td>
<td><code>exit</code>é€€å‡ºç”¨æˆ·</td>
</tr>
<tr>
<td><code>sudo</code>è·å–ç®¡ç†å‘˜æƒé™</td>
<td></td>
</tr>
<tr>
<td><code>ps</code>æ‰“å°è¿›ç¨‹</td>
<td><code>ctrl+z</code>æŒ‚èµ·å‰å°ä»»åŠ¡</td>
</tr>
<tr>
<td><code>kill</code>æ€æ­»è¿›ç¨‹</td>
<td><code>fg</code>å°†è¿›ç¨‹è°ƒè‡³å‰å°è¿è¡Œ</td>
</tr>
<tr>
<td><code>pkill</code>æ‰¹é‡æ€æ­»è¿›ç¨‹</td>
<td><code>bg</code>è®©æŒ‚èµ·çš„è¿›ç¨‹åå°æ‰§è¡Œ</td>
</tr>
<tr>
<td><code>killall</code>æ‰¹é‡æ€æ­»è¿›ç¨‹</td>
<td><code>jobs</code>æŸ¥çœ‹æŒ‚èµ·å’Œåå°è¿›ç¨‹</td>
</tr>
<tr>
<td><code>crotab</code>å®šæ—¶ä»»åŠ¡</td>
<td></td>
</tr>
</tbody></table>
<p>3.ç³»ç»Ÿä¿¡æ¯å‘½ä»¤è·å–</p>
<table>
<thead>
<tr>
<th><code>date</code> æŸ¥çœ‹æ—¶é—´</th>
<th><code>dstat</code>æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯</th>
</tr>
</thead>
<tbody><tr>
<td><code>df</code>æŸ¥çœ‹æ–‡ä»¶ç³»ç»Ÿ</td>
<td><code>nmon</code>æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯</td>
</tr>
<tr>
<td><code>du</code>è·å–ç›®å½•æ–‡ä»¶å¤§å°</td>
<td><code>ifconfig</code>æŸ¥çœ‹IPä¿¡æ¯</td>
</tr>
<tr>
<td><code>free</code>æŸ¥çœ‹å†…å­˜</td>
<td><code>uname</code>æŸ¥çœ‹OSä¿¡æ¯</td>
</tr>
<tr>
<td><code>top</code>æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯</td>
<td><code>last</code>æŸ¥çœ‹æœ€è¿‘ç™»å½•</td>
</tr>
<tr>
<td><code>htop</code>æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯</td>
<td><code>who</code>æŸ¥çœ‹å½“å‰ç™»å½•</td>
</tr>
</tbody></table>
<p>4.å…¶ä»–å‘½ä»¤</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>ssh</code>è¿œç¨‹è¿æ¥</td>
<td><code>poweroff</code>å…³æœº</td>
</tr>
<tr>
<td><code>scp</code>è¿œç¨‹æ‹·è´</td>
<td><code>reboot</code>é‡å¯</td>
</tr>
<tr>
<td><code>wget</code>è·å–<code>http</code>æ–‡ä»¶</td>
<td></td>
</tr>
<tr>
<td><code>ping</code>æµ‹è¯•è¿œç¨‹ä¸»æœº</td>
<td></td>
</tr>
</tbody></table>
<h1 id="ä¸‰ã€zsh"><a href="#ä¸‰ã€zsh" class="headerlink" title="ä¸‰ã€zsh"></a>ä¸‰ã€zsh</h1><h3 id="1-é€šé…ç¬¦"><a href="#1-é€šé…ç¬¦" class="headerlink" title="1.é€šé…ç¬¦"></a>1.é€šé…ç¬¦</h3><ul>
<li><p>ï¼Ÿ</p>
<p>ä»£è¡¨<strong>å•ä¸ªä»»æ„å­—ç¬¦</strong></p>
</li>
<li><p>*</p>
<p>ä»£è¡¨<strong>ä»»æ„å‡ ä¸ªä»»æ„å­—ç¬¦</strong></p>
</li>
</ul>
<blockquote>
<p>è¯·çœ‹ä¸‹é¢çš„ä¾‹å­ï¼Œå¹¶è‡ªå·±åŠ¨æ‰‹å°è¯•ä¸€ä¸‹é€šé…ç¬¦çš„ä½¿ç”¨</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">suyelu@HaiZei-Tech:~$ ls</span><br><span class="line">a.log  code  HaiZei  helloworld  ä½ å¥½world</span><br><span class="line">suyelu@HaiZei-Tech:~$ ls *ld</span><br><span class="line">helloworld  ä½ å¥½world</span><br><span class="line">suyelu@HaiZei-Tech:~$ ls ??world</span><br><span class="line">ä½ å¥½world</span><br><span class="line">suyelu@HaiZei-Tech:~$ ls ?????world</span><br><span class="line">helloworld</span><br><span class="line">suyelu@HaiZei-Tech:~$</span><br></pre></td></tr></table></figure>
<p>é™¤äº†*<strong>**å’Œ</strong>?**è¿™ä¸¤ä¸ªé€šé…ç¬¦ä¹‹å¤–ï¼ŒLinuxä¸­è¿˜æœ‰ä¸‹é¢å‡ ç§é€šé…ç¬¦</p>
<table>
<thead>
<tr>
<th>é€šé…ç¬¦</th>
<th>å«ä¹‰</th>
<th>ä¸¾ä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td>[list]</td>
<td>åŒ¹é…listä¸­çš„ä»»æ„å•ä¸€å­—ç¬¦</td>
<td>a[xyz]b  aä¸bä¹‹é—´æœ‰ä¸”åªæœ‰ä¸€ä¸ªå­—ç¬¦, ä¸”åªèƒ½æ˜¯xæˆ–yæˆ–z, å¦‚: axb, ayb, azbã€‚</td>
</tr>
<tr>
<td>[!list]</td>
<td>åŒ¹é…é™¤listä¸­çš„ä»»æ„å•ä¸€å­—ç¬¦</td>
<td>a[!0-9]b  aä¸bä¹‹é—´æœ‰ä¸”åªæœ‰ä¸€ä¸ªå­—ç¬¦, ä½†ä¸èƒ½æ˜¯æ•°å­—, å¦‚axb, aab, a-bç­‰</td>
</tr>
<tr>
<td>[c1-c2]</td>
<td>åŒ¹é…c1-c2ä¸­çš„ä»»æ„å•ä¸€å­—ç¬¦</td>
<td>a[0-9]b  aä¸bä¹‹é—´æœ‰ä¸”åªæœ‰ä¸€ä¸ªå­—ç¬¦ï¼Œè¯¥å­—ç¬¦æ˜¯0-9ä¹‹é—´çš„æ•°å­—ï¼Œå¦‚a0b, a1bï¼Œâ€¦ ï¼Œa9bã€‚</td>
</tr>
<tr>
<td>{string1,string2,â€¦}</td>
<td>åŒ¹é… sring1 æˆ– string2 (æˆ–æ›´å¤š)å…¶ä¸€å­—ç¬¦ä¸²</td>
<td>a{abc,xyz,123}b    aä¸bä¹‹é—´åªèƒ½æ˜¯abcæˆ–xyzæˆ–123è¿™ä¸‰ä¸ªå­—ç¬¦ä¸²ä¹‹ä¸€ã€‚</td>
</tr>
</tbody></table>
<h3 id="2-ä»»åŠ¡ç®¡ç†"><a href="#2-ä»»åŠ¡ç®¡ç†" class="headerlink" title="2.ä»»åŠ¡ç®¡ç†"></a>2.ä»»åŠ¡ç®¡ç†</h3><p><code>PATH=$&#123;PATH&#125;:.</code></p>
<p>locate</p>
<p>1.<code>&amp;</code></p>
<p>åœ¨å‘½ä»¤çš„åé¢åŠ ä¸Š**<code>&amp;</code>**è¡¨ç¤ºåå°æ‰§è¡Œçš„æ„æ€</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">command &amp;</span><br></pre></td></tr></table></figure>


<p>2.<code>;</code></p>
<p>åœ¨å‘½ä»¤ä¹‹é—´ä»¥**<code>;</code>**ç›¸è¿ï¼Œè¡¨ç¤ºé¡ºåºæ‰§è¡Œçš„æ„æ€</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">command1;command2</span><br></pre></td></tr></table></figure>
<p>3.<strong><code>&amp;&amp;</code></strong></p>
<p>å‘½ä»¤ä¹‹é—´ä»¥**<code>&amp;&amp;</code>**ç›¸è¿æ—¶ï¼Œåªæœ‰ç¬¬ä¸€ä¸ªå‘½ä»¤æˆåŠŸæ‰§è¡Œï¼Œç¬¬äºŒä¸ªå‘½ä»¤æ‰ä¼šæ‰§è¡Œ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">command1 &amp;&amp; command2</span><br></pre></td></tr></table></figure>


<p>4.<strong><code>||</code></strong></p>
<p>å‘½ä»¤ä¹‹é—´ä»¥**<code>||</code>**ç›¸è¿æ—¶ï¼Œå¦‚æœå‰ä¸€ä¸ªå‘½ä»¤æ‰§è¡Œå¤±è´¥ï¼Œåˆ™æ‰§è¡Œç¬¬äºŒä¸ªå‘½ä»¤</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">command1 || command2</span><br></pre></td></tr></table></figure>
<p>5.<strong><code>``</code></strong></p>
<p>å‘½ä»¤ä¸­å¦‚æœåŒ…å«å¦ä¸€ä¸ªå‘½ä»¤ï¼Œåˆ™ç”¨ç¬¦å·**<code>** å°†å®ƒåŒ…æ‹¬èµ·æ¥ï¼Œåœ¨æ‰§è¡Œçš„æ—¶å€™ç³»ç»Ÿå°†ä¼˜å…ˆæ‰§è¡Œ**</code>**ä¸­çš„å­å‘½ä»¤ï¼Œç„¶åå°†å…¶ç»“æœä»£å…¥çˆ¶å‘½ä»¤ç»§ç»­æ‰§è¡Œ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">command1 `command2`</span><br></pre></td></tr></table></figure>
<p>6.<strong><code>ctrl + z</code></strong></p>
<p>åœ¨shellä¸­æ‰§è¡Œå‘½ä»¤æ—¶ï¼ŒåŒæ—¶æŒ‰ä¸‹**<code>ctrl + z</code>**å¯ä»¥å°†æš‚æ—¶æŒ‚èµ·</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">suyelu@HaiZei-Tech:~$ vim helloworld.c</span><br><span class="line"></span><br><span class="line">[1]+  Stopped                 vim helloworld.c</span><br><span class="line">suyelu@HaiZei-Tech:~$</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ä»€ä¹ˆæ˜¯æŒ‚èµ·ï¼Ÿ</p>
</blockquote>
<ol start="7">
<li><p><strong><code>bg</code></strong></p>
<p>æ‰§è¡Œ**<code>bg</code>**å‘½ä»¤ï¼Œå¯ä»¥å°†æŒ‚èµ·çš„å‘½ä»¤åå°è¿è¡Œ</p>
</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">suyelu@HaiZei-Tech:~$ vim helloworld.c</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[1]+  Stopped                 vim helloworld.c</span><br><span class="line">suyelu@HaiZei-Tech:~$ bg</span><br><span class="line">[1]+ vim helloworld.c &amp;</span><br><span class="line">suyelu@HaiZei-Tech:~$</span><br></pre></td></tr></table></figure>


<ol start="8">
<li><p><strong><code>fg</code></strong></p>
<p>æ‰§è¡Œå‘½ä»¤**<code>fg</code>**å¯ä»¥å°†åå°æ‰§è¡Œçš„å‘½ä»¤è½¬ä¸ºå‰å°æ‰§è¡Œ</p>
</li>
<li><p><strong><code>jobs</code></strong></p>
<p>åœ¨Linuxç³»ç»Ÿä¸­ï¼Œæ‰§è¡Œ**<code>jobs</code>**å‘½ä»¤å¯ä»¥æŸ¥çœ‹æ‰€æœ‰åœ¨åå°æ‰§è¡Œå’ŒæŒ‚èµ·çš„ä»»åŠ¡ä»¥åŠä»»åŠ¡ç¼–å·</p>
</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">suyelu@HaiZei-Tech:~/code$ jobs</span><br><span class="line">[1]-  Stopped                 vim a.c  (wd: ~)</span><br><span class="line">[2]+  Stopped                 vim b.c  (wd: ~)</span><br><span class="line">[3]   Running                 ./a.out &amp;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å°è¯•æ‰§è¡Œ<strong>fg</strong>å’Œ<strong>bg</strong>åŠ ä¸Šä»»åŠ¡ç¼–å·ï¼Œçœ‹çœ‹æ˜¯ä»€ä¹ˆæ•ˆæœ</p>
</blockquote>
<p>%æ²¡æœ‰è¾“å…¥æ¢è¡Œç¬¦zshè¾“å‡ºä¸€ä¸ª%åº§ä½æ ‡è®°</p>
<p>/tmpé›¶æ—¶æ–‡ä»¶å¤¹</p>
<p>BIOSï¼šå¼€æœºæ£€æµ‹</p>
<blockquote>
<p>æ£€æµ‹ç¡¬ä»¶ç¯å¢ƒ</p>
<p>Boot Loaderè¯»å†…æ ¸æ–‡ä»¶</p>
<p>/sbin/init å¯åŠ¨è¿›ç¨‹</p>
<p>åŠ è½½ç£ç›˜</p>
</blockquote>
<p>guziqiu: x :</p>
<p>xä»£è¡¨å¯†ç å ä½ç¬¦</p>
<h3 id="3-ç®¡é“ã€é‡å®šå‘"><a href="#3-ç®¡é“ã€é‡å®šå‘" class="headerlink" title="3.ç®¡é“ã€é‡å®šå‘"></a>3.ç®¡é“ã€é‡å®šå‘</h3><ol>
<li><p><code>&gt;</code></p>
<p>é‡å®šå‘ç¬¦</p>
</li>
<li><p><code>&gt;&gt;</code></p>
<p>ä½œç”¨äº**&gt;<strong>åŸºæœ¬ç›¸åŒï¼Œä¸åŒçš„æ˜¯</strong>&gt;&gt;<strong>å°†å†…å®¹è¿½åŠ åˆ°æ–‡ä»¶çš„æœ«å°¾ï¼Œè€Œ</strong>&gt;**å†…å®¹è¦†ç›–åŸæ–‡ä»¶</p>
</li>
<li><p><code>&lt;</code></p>
<p>ä¸**&gt;**åˆšå¥½ç›¸åï¼Œæ˜¯ä»æ–‡ä»¶åˆ°å‘½ä»¤çš„é‡å®šå‘ã€‚å®ƒå°†æ–‡ä»¶çš„å†…å®¹è¾“å‡ºåˆ°å‘½ä»¤ä½œä¸ºè¾“å…¥</p>
</li>
<li><p><code>&lt;&lt;</code> æ ‡è®°æ–‡ä»¶ç»“å°¾</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cat &gt;&gt; &#x2F;etc&#x2F;sysconfig&#x2F;network &lt;&lt; EOF</span><br><span class="line">HOSTNAME&#x3D;$HOST_NAME</span><br><span class="line">EOF </span><br></pre></td></tr></table></figure>
<h3 id="4-è½¬ä¹‰ç¬¦"><a href="#4-è½¬ä¹‰ç¬¦" class="headerlink" title="4.è½¬ä¹‰ç¬¦"></a>4.è½¬ä¹‰ç¬¦</h3><blockquote>
<p>åœ¨Linuxä¸­è½¬ä¹‰ç¬¦**<code>\</code><strong>çš„åº”ç”¨ååˆ†å¹¿æ³›ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œè½¬ä¹‰ç¬¦è¿˜åŒ…æ‹¬</strong>â€œâ€<strong>å’Œ</strong>â€˜â€™**ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>å­—ç¬¦</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>â€˜â€™</td>
<td>ç¡¬è½¬ä¹‰,ç¡¬å¼•ç”¨ï¼Œå…¶å†…éƒ¨æ‰€æœ‰çš„shellå…ƒå­—ç¬¦ã€é€šé…ç¬¦éƒ½ä¼šè¢«å…³æ‰ã€‚æ³¨æ„ï¼Œç¡¬è½¬ä¹‰ä¸­ä¸å…è®¸å‡ºç°â€™(å•å¼•å·)ã€‚</td>
</tr>
<tr>
<td>â€œâ€</td>
<td>è½¯è½¬ä¹‰ï¼Œè½¯å¼•ç”¨ï¼Œå…¶å†…éƒ¨åªå…è®¸å‡ºç°ç‰¹å®šçš„shellå…ƒå­—ç¬¦($,`,\)ï¼š$ç”¨äºå˜é‡å€¼æ›¿æ¢ã€`ç”¨äºå‘½ä»¤æ›¿æ¢ã€\ç”¨äºè½¬ä¹‰å•ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td>\</td>
<td>åæ–œæ ï¼Œè½¬ä¹‰ï¼Œå»é™¤å…¶åç´§è·Ÿçš„å…ƒå­—ç¬¦æˆ–é€šé…ç¬¦çš„ç‰¹æ®Šæ„ä¹‰ã€‚</td>
</tr>
</tbody></table>
<p>ä¸‹è¡¨æ˜¯éƒ¨åˆ†è½¬ä¹‰å­—ç¬¦å¯¹åº”è¡¨ï¼š</p>
<table>
<thead>
<tr>
<th>è½¬ä¹‰å­—ç¬¦</th>
<th>æ„ä¹‰</th>
<th>ASCIIç å€¼ï¼ˆåè¿›åˆ¶ï¼‰</th>
</tr>
</thead>
<tbody><tr>
<td>\a</td>
<td>å“é“ƒ(BEL)</td>
<td>007</td>
</tr>
<tr>
<td>\b</td>
<td>é€€æ ¼(BS) ï¼Œå°†å½“å‰ä½ç½®ç§»åˆ°å‰ä¸€åˆ—</td>
<td>008</td>
</tr>
<tr>
<td>\f</td>
<td>æ¢é¡µ(FF)ï¼Œå°†å½“å‰ä½ç½®ç§»åˆ°ä¸‹é¡µå¼€å¤´</td>
<td>012</td>
</tr>
<tr>
<td>\n</td>
<td>æ¢è¡Œ(LF) ï¼Œå°†å½“å‰ä½ç½®ç§»åˆ°ä¸‹ä¸€è¡Œå¼€å¤´</td>
<td>010</td>
</tr>
<tr>
<td>\r</td>
<td>å›è½¦(CR) ï¼Œå°†å½“å‰ä½ç½®ç§»åˆ°æœ¬è¡Œå¼€å¤´</td>
<td>013</td>
</tr>
<tr>
<td>\t</td>
<td>æ°´å¹³åˆ¶è¡¨(HT) ï¼ˆè·³åˆ°ä¸‹ä¸€ä¸ªTABä½ç½®ï¼‰</td>
<td>009</td>
</tr>
<tr>
<td>\v</td>
<td>å‚ç›´åˆ¶è¡¨(VT)</td>
<td>011</td>
</tr>
<tr>
<td>\\</td>
<td>ä»£è¡¨ä¸€ä¸ªåæ–œçº¿å­—ç¬¦â€™â€™&#39;</td>
<td>092</td>
</tr>
<tr>
<td>&#39;</td>
<td>ä»£è¡¨ä¸€ä¸ªå•å¼•å·ï¼ˆæ’‡å·ï¼‰å­—ç¬¦</td>
<td>039</td>
</tr>
<tr>
<td>&quot;</td>
<td>ä»£è¡¨ä¸€ä¸ªåŒå¼•å·å­—ç¬¦</td>
<td>034</td>
</tr>
<tr>
<td>?</td>
<td>ä»£è¡¨ä¸€ä¸ªé—®å·</td>
<td>063</td>
</tr>
<tr>
<td>\0</td>
<td>ç©ºå­—ç¬¦(NULL)</td>
<td>000</td>
</tr>
<tr>
<td>\nnn</td>
<td>1åˆ°3ä½å…«è¿›åˆ¶æ•°æ‰€ä»£è¡¨çš„ä»»æ„å­—ç¬¦</td>
<td>ä¸‰ä½å…«è¿›åˆ¶</td>
</tr>
<tr>
<td>\xnnn</td>
<td>1åˆ°3ä½åå…­è¿›åˆ¶æ‰€ä»£è¡¨çš„ä»»æ„å­—ç¬¦</td>
<td>ä¸‰ä½åå…­è¿›åˆ¶</td>
</tr>
</tbody></table>
<h4 id="è½¬ä¹‰ç¬¦åœ¨Shellä¸­çš„åº”ç”¨"><a href="#è½¬ä¹‰ç¬¦åœ¨Shellä¸­çš„åº”ç”¨" class="headerlink" title="è½¬ä¹‰ç¬¦åœ¨Shellä¸­çš„åº”ç”¨"></a>è½¬ä¹‰ç¬¦åœ¨Shellä¸­çš„åº”ç”¨</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">suyelu@HaiZei-Tech:~$ echo -e &quot;\044&quot;</span><br><span class="line"><span class="meta">$</span></span><br><span class="line"><span class="bash">suyelu@HaiZei-Tech:~$ <span class="built_in">echo</span>  <span class="string">&quot;\044&quot;</span></span></span><br><span class="line">\044</span><br><span class="line">suyelu@HaiZei-Tech:~$ echo  $&#x27;\044&#x27;</span><br><span class="line"><span class="meta">$</span></span><br><span class="line"><span class="bash">suyelu@HaiZei-Tech:~$ <span class="built_in">echo</span>  $<span class="string">&#x27;\44&#x27;</span></span></span><br><span class="line"><span class="meta">$</span></span><br></pre></td></tr></table></figure>




<h2 id="é™„å½•1-Shellå…ƒå­—ç¬¦"><a href="#é™„å½•1-Shellå…ƒå­—ç¬¦" class="headerlink" title="é™„å½•1 Shellå…ƒå­—ç¬¦"></a>é™„å½•1 Shellå…ƒå­—ç¬¦</h2><blockquote>
</blockquote>
<table>
<thead>
<tr>
<th>å­—ç¬¦</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>=</td>
<td>å˜é‡å=å€¼ï¼Œä¸ºå˜é‡èµ‹å€¼ã€‚æ³¨æ„=å·¦å³ç´§è·Ÿå˜é‡åå’Œå€¼ï¼Œä¸­é—´ä¸è¦æœ‰ç©ºæ ¼</td>
</tr>
<tr>
<td>``</td>
<td>å–å‘½ä»¤çš„æ‰§è¡Œç»“æœï¼Œä¸ä¸‹æ–‡çš„$æœ‰ç›¸ä¼¼ä¹‹å¤„</td>
</tr>
<tr>
<td>$</td>
<td>å˜é‡å€¼æ›¿æ¢ï¼Œ$å˜é‡åæ›¿æ¢ä¸ºshellå˜é‡çš„å€¼;ä¸ºé¿å…åœ¨æ–‡æœ¬è¿æ¥æ—¶æ··æ·†ï¼Œè¯·ä½¿ç”¨${å˜é‡å};$0â€¦$9 ä»£è¡¨shellæ–‡ä»¶çš„å‚æ•°ã€‚**$()<strong>åŒ``;</strong>${}<strong>é™å®šå˜é‡åçš„èŒƒå›´ï¼›</strong>$[]**æ•´æ•°è®¡ç®—ï¼›</td>
</tr>
<tr>
<td>&gt;</td>
<td>prog &gt; file å°†æ ‡å‡†è¾“å‡ºé‡å®šå‘åˆ°æ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td>&gt;&gt;</td>
<td>prog &gt;&gt; file å°†æ ‡å‡†è¾“å‡ºè¿½åŠ åˆ°æ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td>&lt;</td>
<td>prog &lt; file ä»æ–‡ä»¶fileä¸­è·å–æ ‡å‡†è¾“å…¥</td>
</tr>
<tr>
<td>&lt;&lt;</td>
<td></td>
</tr>
<tr>
<td>|</td>
<td>ç®¡é“å‘½ä»¤ï¼Œä¾‹ï¼šp1 | p2 å°†p1çš„æ ‡å‡†è¾“å‡ºä½œä¸ºp2çš„æ ‡å‡†è¾“å…¥</td>
</tr>
<tr>
<td>&amp;</td>
<td>åå°è¿è¡Œå‘½ä»¤ï¼Œæœ€å¤§å¥½å¤„æ˜¯æ— éœ€ç­‰å¾…å‘½ä»¤æ‰§è¡Œç»“æŸï¼Œå°±å¯ä»¥åœ¨åŒä¸€å‘½ä»¤è¡Œä¸‹ç»§ç»­è¾“å…¥å‘½ä»¤</td>
</tr>
<tr>
<td>()</td>
<td>åœ¨å­shellä¸­æ‰§è¡Œå‘½ä»¤,åœ¨å­è¿›ç¨‹ä¸­æ‰§è¡Œ</td>
</tr>
<tr>
<td>{}</td>
<td>åœ¨å½“å‰shellä¸­æ‰§è¡Œå‘½ä»¤ï¼Œæˆ–ç”¨åœ¨å˜é‡æ›¿æ¢çš„ç•Œå®šèŒƒå›´(ä¾‹å¦‚ä¸Šé¢çš„${å˜é‡å}ç”¨æ³•)ã€‚</td>
</tr>
<tr>
<td>[]</td>
<td>å­—ç¬¦é€šé…ï¼ŒåŒ¹é…æ‹¬å·å†…ä¹‹ä¸€</td>
</tr>
<tr>
<td>;</td>
<td>å‘½ä»¤ç»“æŸç¬¦ã€‚ä¾‹å¦‚p1;p2è¡¨ç¤ºå…ˆæ‰§è¡Œp1,å†æ‰§è¡Œp2</td>
</tr>
<tr>
<td>&amp;&amp;</td>
<td>å‰ä¸€ä¸ªå‘½ä»¤æ‰§è¡ŒæˆåŠŸåï¼Œæ‰ç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ªå‘½ä»¤ã€‚ä¾‹ï¼šp1 &amp;&amp; p2 ;è‹¥p1æ‰§è¡ŒæˆåŠŸåï¼Œæ‰æ‰§è¡Œp2,åä¹‹ï¼Œä¸æ‰§è¡Œp2;</td>
</tr>
<tr>
<td>||</td>
<td>å‰ä¸€ä¸ªå‘½ä»¤æ‰§è¡Œå¤±è´¥åï¼Œæ‰ç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ªå‘½ä»¤ã€‚ä¾‹ï¼šp1 || p2 ;è‹¥p1æ‰§è¡ŒæˆåŠŸåï¼Œä¸æ‰§è¡Œp2,åä¹‹ï¼Œæ‰æ‰§è¡Œp2;</td>
</tr>
<tr>
<td>!</td>
<td>æ‰§è¡Œå†å²è®°å½•ä¸­çš„å‘½ä»¤**!731**;åŒ¹é…æœ€è¿‘çš„ä¸€æ¬¡å‘½ä»¤**!echo**;å–é<strong>ls /dev/sda[!1]</strong>;ç»“æœå–å**! echo ok ;echo $?**</td>
</tr>
<tr>
<td>%</td>
<td><strong>% 1</strong>ç›¸å½“äº<strong>fg 1</strong></td>
</tr>
<tr>
<td>^</td>
<td>å–éï¼Œå’Œ**!<strong>é›·åŒï¼›</strong><code>^string1^string2^</code>**å°†ä¸Šä¸€å‘½ä»¤çš„string1æ›¿æ¢ä¸ºstring2</td>
</tr>
<tr>
<td>~</td>
<td>homeç›®å½•</td>
</tr>
<tr>
<td>#</td>
<td>æ³¨é‡Š</td>
</tr>
<tr>
<td>*</td>
<td>é€šé…ç¬¦ï¼Œä»»æ„å­—ç¬¦</td>
</tr>
<tr>
<td>?</td>
<td>é€šé…ç¬¦ï¼Œä»»ä¸€å­—ç¬¦</td>
</tr>
<tr>
<td>.</td>
<td>å½“å‰ç›®å½•ï¼›source</td>
</tr>
<tr>
<td>-</td>
<td>å‡å·ï¼›ä¸Šæ¬¡å·¥ä½œç›®å½•</td>
</tr>
<tr>
<td>:</td>
<td>çœŸå€¼ï¼›ç©ºå‘½ä»¤</td>
</tr>
<tr>
<td>\</td>
<td>è½¬ä¹‰</td>
</tr>
<tr>
<td>/</td>
<td>ç›®å½•åˆ†å‰²ç¬¦</td>
</tr>
</tbody></table>
<h2 id="é™„å½•2-ASCIIç -å¯¹ç…§è¡¨"><a href="#é™„å½•2-ASCIIç -å¯¹ç…§è¡¨" class="headerlink" title="é™„å½•2 ASCIIç  å¯¹ç…§è¡¨"></a>é™„å½•2 ASCIIç  å¯¹ç…§è¡¨</h2><table>
<thead>
<tr>
<th>Bin(äºŒè¿›åˆ¶)</th>
<th>Oct(å…«è¿›åˆ¶)</th>
<th>Dec(åè¿›åˆ¶)</th>
<th>Hex(åå…­è¿›åˆ¶)</th>
<th>ç¼©å†™/å­—ç¬¦</th>
<th>è§£é‡Š</th>
</tr>
</thead>
<tbody><tr>
<td>0000 0000</td>
<td>0</td>
<td>0</td>
<td>00</td>
<td>NUL(null)</td>
<td>ç©ºå­—ç¬¦</td>
</tr>
<tr>
<td>0000 0001</td>
<td>1</td>
<td>1</td>
<td>01</td>
<td>SOH(start of headline)</td>
<td>æ ‡é¢˜å¼€å§‹</td>
</tr>
<tr>
<td>0000 0010</td>
<td>2</td>
<td>2</td>
<td>02</td>
<td>STX (start of text)</td>
<td>æ­£æ–‡å¼€å§‹</td>
</tr>
<tr>
<td>0000 0011</td>
<td>3</td>
<td>3</td>
<td>03</td>
<td>ETX (end of text)</td>
<td>æ­£æ–‡ç»“æŸ</td>
</tr>
<tr>
<td>0000 0100</td>
<td>4</td>
<td>4</td>
<td>04</td>
<td>EOT (end of transmission)</td>
<td>ä¼ è¾“ç»“æŸ</td>
</tr>
<tr>
<td>0000 0101</td>
<td>5</td>
<td>5</td>
<td>05</td>
<td>ENQ (enquiry)</td>
<td>è¯·æ±‚</td>
</tr>
<tr>
<td>0000 0110</td>
<td>6</td>
<td>6</td>
<td>06</td>
<td>ACK (acknowledge)</td>
<td>æ”¶åˆ°é€šçŸ¥</td>
</tr>
<tr>
<td>0000 0111</td>
<td>7</td>
<td>7</td>
<td>07</td>
<td>BEL (bell)</td>
<td>å“é“ƒ</td>
</tr>
<tr>
<td>0000 1000</td>
<td>10</td>
<td>8</td>
<td>08</td>
<td>BS (backspace)</td>
<td>é€€æ ¼</td>
</tr>
<tr>
<td>0000 1001</td>
<td>11</td>
<td>9</td>
<td>09</td>
<td>HT (horizontal tab)</td>
<td>æ°´å¹³åˆ¶è¡¨ç¬¦</td>
</tr>
<tr>
<td>0000 1010</td>
<td>12</td>
<td>10</td>
<td>0A</td>
<td>LF (NL line feed, new line)</td>
<td>æ¢è¡Œé”®</td>
</tr>
<tr>
<td>0000 1011</td>
<td>13</td>
<td>11</td>
<td>0B</td>
<td>VT (vertical tab)</td>
<td>å‚ç›´åˆ¶è¡¨ç¬¦</td>
</tr>
<tr>
<td>0000 1100</td>
<td>14</td>
<td>12</td>
<td>0C</td>
<td>FF (NP form feed, new page)</td>
<td>æ¢é¡µé”®</td>
</tr>
<tr>
<td>0000 1101</td>
<td>15</td>
<td>13</td>
<td>0D</td>
<td>CR (carriage return)</td>
<td>å›è½¦é”®</td>
</tr>
<tr>
<td>0000 1110</td>
<td>16</td>
<td>14</td>
<td>0E</td>
<td>SO (shift out)</td>
<td>ä¸ç”¨åˆ‡æ¢</td>
</tr>
<tr>
<td>0000 1111</td>
<td>17</td>
<td>15</td>
<td>0F</td>
<td>SI (shift in)</td>
<td>å¯ç”¨åˆ‡æ¢</td>
</tr>
<tr>
<td>0001 0000</td>
<td>20</td>
<td>16</td>
<td>10</td>
<td>DLE (data link escape)</td>
<td>æ•°æ®é“¾è·¯è½¬ä¹‰</td>
</tr>
<tr>
<td>0001 0001</td>
<td>21</td>
<td>17</td>
<td>11</td>
<td>DC1 (device control 1)</td>
<td>è®¾å¤‡æ§åˆ¶1</td>
</tr>
<tr>
<td>0001 0010</td>
<td>22</td>
<td>18</td>
<td>12</td>
<td>DC2 (device control 2)</td>
<td>è®¾å¤‡æ§åˆ¶2</td>
</tr>
<tr>
<td>0001 0011</td>
<td>23</td>
<td>19</td>
<td>13</td>
<td>DC3 (device control 3)</td>
<td>è®¾å¤‡æ§åˆ¶3</td>
</tr>
<tr>
<td>0001 0100</td>
<td>24</td>
<td>20</td>
<td>14</td>
<td>DC4 (device control 4)</td>
<td>è®¾å¤‡æ§åˆ¶4</td>
</tr>
<tr>
<td>0001 0101</td>
<td>25</td>
<td>21</td>
<td>15</td>
<td>NAK (negative acknowledge)</td>
<td>æ‹’ç»æ¥æ”¶</td>
</tr>
<tr>
<td>0001 0110</td>
<td>26</td>
<td>22</td>
<td>16</td>
<td>SYN (synchronous idle)</td>
<td>åŒæ­¥ç©ºé—²</td>
</tr>
<tr>
<td>0001 0111</td>
<td>27</td>
<td>23</td>
<td>17</td>
<td>ETB (end of trans. block)</td>
<td>ç»“æŸä¼ è¾“å—</td>
</tr>
<tr>
<td>0001 1000</td>
<td>30</td>
<td>24</td>
<td>18</td>
<td>CAN (cancel)</td>
<td>å–æ¶ˆ</td>
</tr>
<tr>
<td>0001 1001</td>
<td>31</td>
<td>25</td>
<td>19</td>
<td>EM (end of medium)</td>
<td>åª’ä»‹ç»“æŸ</td>
</tr>
<tr>
<td>0001 1010</td>
<td>32</td>
<td>26</td>
<td>1A</td>
<td>SUB (substitute)</td>
<td>ä»£æ›¿</td>
</tr>
<tr>
<td>0001 1011</td>
<td>33</td>
<td>27</td>
<td>1B</td>
<td>ESC (escape)</td>
<td>æ¢ç (æº¢å‡º)</td>
</tr>
<tr>
<td>0001 1100</td>
<td>34</td>
<td>28</td>
<td>1C</td>
<td>FS (file separator)</td>
<td>æ–‡ä»¶åˆ†éš”ç¬¦</td>
</tr>
<tr>
<td>0001 1101</td>
<td>35</td>
<td>29</td>
<td>1D</td>
<td>GS (group separator)</td>
<td>åˆ†ç»„ç¬¦</td>
</tr>
<tr>
<td>0001 1110</td>
<td>36</td>
<td>30</td>
<td>1E</td>
<td>RS (record separator)</td>
<td>è®°å½•åˆ†éš”ç¬¦</td>
</tr>
<tr>
<td>0001 1111</td>
<td>37</td>
<td>31</td>
<td>1F</td>
<td>US (unit separator)</td>
<td>å•å…ƒåˆ†éš”ç¬¦</td>
</tr>
<tr>
<td>0010 0000</td>
<td>40</td>
<td>32</td>
<td>20</td>
<td>(space)</td>
<td>ç©ºæ ¼</td>
</tr>
<tr>
<td>0010 0001</td>
<td>41</td>
<td>33</td>
<td>21</td>
<td>!</td>
<td>å¹å·</td>
</tr>
<tr>
<td>0010 0010</td>
<td>42</td>
<td>34</td>
<td>22</td>
<td>â€œ</td>
<td>åŒå¼•å·</td>
</tr>
<tr>
<td>0010 0011</td>
<td>43</td>
<td>35</td>
<td>23</td>
<td>#</td>
<td>äº•å·</td>
</tr>
<tr>
<td>0010 0100</td>
<td>44</td>
<td>36</td>
<td>24</td>
<td>$</td>
<td>ç¾å…ƒç¬¦</td>
</tr>
<tr>
<td>0010 0101</td>
<td>45</td>
<td>37</td>
<td>25</td>
<td>%</td>
<td>ç™¾åˆ†å·</td>
</tr>
<tr>
<td>0010 0110</td>
<td>46</td>
<td>38</td>
<td>26</td>
<td>&amp;</td>
<td>å’Œå·</td>
</tr>
<tr>
<td>0010 0111</td>
<td>47</td>
<td>39</td>
<td>27</td>
<td>â€˜</td>
<td>é—­å•å¼•å·</td>
</tr>
<tr>
<td>0010 1000</td>
<td>50</td>
<td>40</td>
<td>28</td>
<td>(</td>
<td>å¼€æ‹¬å·</td>
</tr>
<tr>
<td>0010 1001</td>
<td>51</td>
<td>41</td>
<td>29</td>
<td>)</td>
<td>é—­æ‹¬å·</td>
</tr>
<tr>
<td>0010 1010</td>
<td>52</td>
<td>42</td>
<td>2A</td>
<td>*</td>
<td>æ˜Ÿå·</td>
</tr>
<tr>
<td>0010 1011</td>
<td>53</td>
<td>43</td>
<td>2B</td>
<td>+</td>
<td>åŠ å·</td>
</tr>
<tr>
<td>0010 1100</td>
<td>54</td>
<td>44</td>
<td>2C</td>
<td>,</td>
<td>é€—å·</td>
</tr>
<tr>
<td>0010 1101</td>
<td>55</td>
<td>45</td>
<td>2D</td>
<td>-</td>
<td>å‡å·/ç ´æŠ˜å·</td>
</tr>
<tr>
<td>0010 1110</td>
<td>56</td>
<td>46</td>
<td>2E</td>
<td>.</td>
<td>å¥å·</td>
</tr>
<tr>
<td>00101111</td>
<td>57</td>
<td>47</td>
<td>2F</td>
<td>/</td>
<td>æ–œæ </td>
</tr>
<tr>
<td>00110000</td>
<td>60</td>
<td>48</td>
<td>30</td>
<td>0</td>
<td>æ•°å­—0</td>
</tr>
<tr>
<td>00110001</td>
<td>61</td>
<td>49</td>
<td>31</td>
<td>1</td>
<td>æ•°å­—1</td>
</tr>
<tr>
<td>00110010</td>
<td>62</td>
<td>50</td>
<td>32</td>
<td>2</td>
<td>æ•°å­—2</td>
</tr>
<tr>
<td>00110011</td>
<td>63</td>
<td>51</td>
<td>33</td>
<td>3</td>
<td>æ•°å­—3</td>
</tr>
<tr>
<td>00110100</td>
<td>64</td>
<td>52</td>
<td>34</td>
<td>4</td>
<td>æ•°å­—4</td>
</tr>
<tr>
<td>00110101</td>
<td>65</td>
<td>53</td>
<td>35</td>
<td>5</td>
<td>æ•°å­—5</td>
</tr>
<tr>
<td>00110110</td>
<td>66</td>
<td>54</td>
<td>36</td>
<td>6</td>
<td>æ•°å­—6</td>
</tr>
<tr>
<td>00110111</td>
<td>67</td>
<td>55</td>
<td>37</td>
<td>7</td>
<td>æ•°å­—7</td>
</tr>
<tr>
<td>00111000</td>
<td>70</td>
<td>56</td>
<td>38</td>
<td>8</td>
<td>æ•°å­—8</td>
</tr>
<tr>
<td>00111001</td>
<td>71</td>
<td>57</td>
<td>39</td>
<td>9</td>
<td>æ•°å­—9</td>
</tr>
<tr>
<td>00111010</td>
<td>72</td>
<td>58</td>
<td>3A</td>
<td>:</td>
<td>å†’å·</td>
</tr>
<tr>
<td>00111011</td>
<td>73</td>
<td>59</td>
<td>3B</td>
<td>;</td>
<td>åˆ†å·</td>
</tr>
<tr>
<td>00111100</td>
<td>74</td>
<td>60</td>
<td>3C</td>
<td>&lt;</td>
<td>å°äº</td>
</tr>
<tr>
<td>00111101</td>
<td>75</td>
<td>61</td>
<td>3D</td>
<td>=</td>
<td>ç­‰å·</td>
</tr>
<tr>
<td>00111110</td>
<td>76</td>
<td>62</td>
<td>3E</td>
<td>&gt;</td>
<td>å¤§äº</td>
</tr>
<tr>
<td>00111111</td>
<td>77</td>
<td>63</td>
<td>3F</td>
<td>?</td>
<td>é—®å·</td>
</tr>
<tr>
<td>01000000</td>
<td>100</td>
<td>64</td>
<td>40</td>
<td>@</td>
<td>ç”µå­é‚®ä»¶ç¬¦å·</td>
</tr>
<tr>
<td>01000001</td>
<td>101</td>
<td>65</td>
<td>41</td>
<td>A</td>
<td>å¤§å†™å­—æ¯A</td>
</tr>
<tr>
<td>01000010</td>
<td>102</td>
<td>66</td>
<td>42</td>
<td>B</td>
<td>å¤§å†™å­—æ¯B</td>
</tr>
<tr>
<td>01000011</td>
<td>103</td>
<td>67</td>
<td>43</td>
<td>C</td>
<td>å¤§å†™å­—æ¯C</td>
</tr>
<tr>
<td>01000100</td>
<td>104</td>
<td>68</td>
<td>44</td>
<td>D</td>
<td>å¤§å†™å­—æ¯D</td>
</tr>
<tr>
<td>01000101</td>
<td>105</td>
<td>69</td>
<td>45</td>
<td>E</td>
<td>å¤§å†™å­—æ¯E</td>
</tr>
<tr>
<td>01000110</td>
<td>106</td>
<td>70</td>
<td>46</td>
<td>F</td>
<td>å¤§å†™å­—æ¯F</td>
</tr>
<tr>
<td>01000111</td>
<td>107</td>
<td>71</td>
<td>47</td>
<td>G</td>
<td>å¤§å†™å­—æ¯G</td>
</tr>
<tr>
<td>01001000</td>
<td>110</td>
<td>72</td>
<td>48</td>
<td>H</td>
<td>å¤§å†™å­—æ¯H</td>
</tr>
<tr>
<td>01001001</td>
<td>111</td>
<td>73</td>
<td>49</td>
<td>I</td>
<td>å¤§å†™å­—æ¯I</td>
</tr>
<tr>
<td>01001010</td>
<td>112</td>
<td>74</td>
<td>4A</td>
<td>J</td>
<td>å¤§å†™å­—æ¯J</td>
</tr>
<tr>
<td>01001011</td>
<td>113</td>
<td>75</td>
<td>4B</td>
<td>K</td>
<td>å¤§å†™å­—æ¯K</td>
</tr>
<tr>
<td>01001100</td>
<td>114</td>
<td>76</td>
<td>4C</td>
<td>L</td>
<td>å¤§å†™å­—æ¯L</td>
</tr>
<tr>
<td>01001101</td>
<td>115</td>
<td>77</td>
<td>4D</td>
<td>M</td>
<td>å¤§å†™å­—æ¯M</td>
</tr>
<tr>
<td>01001110</td>
<td>116</td>
<td>78</td>
<td>4E</td>
<td>N</td>
<td>å¤§å†™å­—æ¯N</td>
</tr>
<tr>
<td>01001111</td>
<td>117</td>
<td>79</td>
<td>4F</td>
<td>O</td>
<td>å¤§å†™å­—æ¯O</td>
</tr>
<tr>
<td>01010000</td>
<td>120</td>
<td>80</td>
<td>50</td>
<td>P</td>
<td>å¤§å†™å­—æ¯P</td>
</tr>
<tr>
<td>01010001</td>
<td>121</td>
<td>81</td>
<td>51</td>
<td>Q</td>
<td>å¤§å†™å­—æ¯Q</td>
</tr>
<tr>
<td>01010010</td>
<td>122</td>
<td>82</td>
<td>52</td>
<td>R</td>
<td>å¤§å†™å­—æ¯R</td>
</tr>
<tr>
<td>01010011</td>
<td>123</td>
<td>83</td>
<td>53</td>
<td>S</td>
<td>å¤§å†™å­—æ¯S</td>
</tr>
<tr>
<td>01010100</td>
<td>124</td>
<td>84</td>
<td>54</td>
<td>T</td>
<td>å¤§å†™å­—æ¯T</td>
</tr>
<tr>
<td>01010101</td>
<td>125</td>
<td>85</td>
<td>55</td>
<td>U</td>
<td>å¤§å†™å­—æ¯U</td>
</tr>
<tr>
<td>01010110</td>
<td>126</td>
<td>86</td>
<td>56</td>
<td>V</td>
<td>å¤§å†™å­—æ¯V</td>
</tr>
<tr>
<td>01010111</td>
<td>127</td>
<td>87</td>
<td>57</td>
<td>W</td>
<td>å¤§å†™å­—æ¯W</td>
</tr>
<tr>
<td>01011000</td>
<td>130</td>
<td>88</td>
<td>58</td>
<td>X</td>
<td>å¤§å†™å­—æ¯X</td>
</tr>
<tr>
<td>01011001</td>
<td>131</td>
<td>89</td>
<td>59</td>
<td>Y</td>
<td>å¤§å†™å­—æ¯Y</td>
</tr>
<tr>
<td>01011010</td>
<td>132</td>
<td>90</td>
<td>5A</td>
<td>Z</td>
<td>å¤§å†™å­—æ¯Z</td>
</tr>
<tr>
<td>01011011</td>
<td>133</td>
<td>91</td>
<td>5B</td>
<td>[</td>
<td>å¼€æ–¹æ‹¬å·</td>
</tr>
<tr>
<td>01011100</td>
<td>134</td>
<td>92</td>
<td>5C</td>
<td>\</td>
<td>åæ–œæ </td>
</tr>
<tr>
<td>01011101</td>
<td>135</td>
<td>93</td>
<td>5D</td>
<td>]</td>
<td>é—­æ–¹æ‹¬å·</td>
</tr>
<tr>
<td>01011110</td>
<td>136</td>
<td>94</td>
<td>5E</td>
<td>^</td>
<td>è„±å­—ç¬¦</td>
</tr>
<tr>
<td>01011111</td>
<td>137</td>
<td>95</td>
<td>5F</td>
<td>_</td>
<td>ä¸‹åˆ’çº¿</td>
</tr>
<tr>
<td>01100000</td>
<td>140</td>
<td>96</td>
<td>60</td>
<td>`</td>
<td>å¼€å•å¼•å·</td>
</tr>
<tr>
<td>01100001</td>
<td>141</td>
<td>97</td>
<td>61</td>
<td>a</td>
<td>å°å†™å­—æ¯a</td>
</tr>
<tr>
<td>01100010</td>
<td>142</td>
<td>98</td>
<td>62</td>
<td>b</td>
<td>å°å†™å­—æ¯b</td>
</tr>
<tr>
<td>01100011</td>
<td>143</td>
<td>99</td>
<td>63</td>
<td>c</td>
<td>å°å†™å­—æ¯c</td>
</tr>
<tr>
<td>01100100</td>
<td>144</td>
<td>100</td>
<td>64</td>
<td>d</td>
<td>å°å†™å­—æ¯d</td>
</tr>
<tr>
<td>01100101</td>
<td>145</td>
<td>101</td>
<td>65</td>
<td>e</td>
<td>å°å†™å­—æ¯e</td>
</tr>
<tr>
<td>01100110</td>
<td>146</td>
<td>102</td>
<td>66</td>
<td>f</td>
<td>å°å†™å­—æ¯f</td>
</tr>
<tr>
<td>01100111</td>
<td>147</td>
<td>103</td>
<td>67</td>
<td>g</td>
<td>å°å†™å­—æ¯g</td>
</tr>
<tr>
<td>01101000</td>
<td>150</td>
<td>104</td>
<td>68</td>
<td>h</td>
<td>å°å†™å­—æ¯h</td>
</tr>
<tr>
<td>01101001</td>
<td>151</td>
<td>105</td>
<td>69</td>
<td>i</td>
<td>å°å†™å­—æ¯i</td>
</tr>
<tr>
<td>01101010</td>
<td>152</td>
<td>106</td>
<td>6A</td>
<td>j</td>
<td>å°å†™å­—æ¯j</td>
</tr>
<tr>
<td>01101011</td>
<td>153</td>
<td>107</td>
<td>6B</td>
<td>k</td>
<td>å°å†™å­—æ¯k</td>
</tr>
<tr>
<td>01101100</td>
<td>154</td>
<td>108</td>
<td>6C</td>
<td>l</td>
<td>å°å†™å­—æ¯l</td>
</tr>
<tr>
<td>01101101</td>
<td>155</td>
<td>109</td>
<td>6D</td>
<td>m</td>
<td>å°å†™å­—æ¯m</td>
</tr>
<tr>
<td>01101110</td>
<td>156</td>
<td>110</td>
<td>6E</td>
<td>n</td>
<td>å°å†™å­—æ¯n</td>
</tr>
<tr>
<td>01101111</td>
<td>157</td>
<td>111</td>
<td>6F</td>
<td>o</td>
<td>å°å†™å­—æ¯o</td>
</tr>
<tr>
<td>01110000</td>
<td>160</td>
<td>112</td>
<td>70</td>
<td>p</td>
<td>å°å†™å­—æ¯p</td>
</tr>
<tr>
<td>01110001</td>
<td>161</td>
<td>113</td>
<td>71</td>
<td>q</td>
<td>å°å†™å­—æ¯q</td>
</tr>
<tr>
<td>01110010</td>
<td>162</td>
<td>114</td>
<td>72</td>
<td>r</td>
<td>å°å†™å­—æ¯r</td>
</tr>
<tr>
<td>01110011</td>
<td>163</td>
<td>115</td>
<td>73</td>
<td>s</td>
<td>å°å†™å­—æ¯s</td>
</tr>
<tr>
<td>01110100</td>
<td>164</td>
<td>116</td>
<td>74</td>
<td>t</td>
<td>å°å†™å­—æ¯t</td>
</tr>
<tr>
<td>01110101</td>
<td>165</td>
<td>117</td>
<td>75</td>
<td>u</td>
<td>å°å†™å­—æ¯u</td>
</tr>
<tr>
<td>01110110</td>
<td>166</td>
<td>118</td>
<td>76</td>
<td>v</td>
<td>å°å†™å­—æ¯v</td>
</tr>
<tr>
<td>01110111</td>
<td>167</td>
<td>119</td>
<td>77</td>
<td>w</td>
<td>å°å†™å­—æ¯w</td>
</tr>
<tr>
<td>01111000</td>
<td>170</td>
<td>120</td>
<td>78</td>
<td>x</td>
<td>å°å†™å­—æ¯x</td>
</tr>
<tr>
<td>01111001</td>
<td>171</td>
<td>121</td>
<td>79</td>
<td>y</td>
<td>å°å†™å­—æ¯y</td>
</tr>
<tr>
<td>01111010</td>
<td>172</td>
<td>122</td>
<td>7A</td>
<td>z</td>
<td>å°å†™å­—æ¯z</td>
</tr>
<tr>
<td>01111011</td>
<td>173</td>
<td>123</td>
<td>7B</td>
<td>{</td>
<td>å¼€èŠ±æ‹¬å·</td>
</tr>
<tr>
<td>01111100</td>
<td>174</td>
<td>124</td>
<td>7C</td>
<td>|</td>
<td>å‚çº¿</td>
</tr>
<tr>
<td>01111101</td>
<td>175</td>
<td>125</td>
<td>7D</td>
<td>}</td>
<td>é—­èŠ±æ‹¬å·</td>
</tr>
<tr>
<td>01111110</td>
<td>176</td>
<td>126</td>
<td>7E</td>
<td>~</td>
<td>æ³¢æµªå·</td>
</tr>
<tr>
<td>01111111</td>
<td>177</td>
<td>127</td>
<td>7F</td>
<td>DEL (delete)</td>
<td>åˆ é™¤</td>
</tr>
</tbody></table>
<h1 id="å››ã€linuxç³»ç»Ÿä¿¡æ¯è·å–"><a href="#å››ã€linuxç³»ç»Ÿä¿¡æ¯è·å–" class="headerlink" title="å››ã€linuxç³»ç»Ÿä¿¡æ¯è·å–"></a>å››ã€linuxç³»ç»Ÿä¿¡æ¯è·å–</h1><table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>åŠŸèƒ½</th>
</tr>
</thead>
<tbody><tr>
<td><code>update</code></td>
<td>æ‰“å°ç³»ç»Ÿè¿è¡Œæ—¶é•¿å’Œå¹³å‡è´Ÿè½½</td>
</tr>
<tr>
<td><code>who</code></td>
<td>æ˜¾ç¤ºå½“å‰ç³»ç»Ÿç™»å½•çš„ç”¨æˆ·ä¿¡æ¯</td>
</tr>
<tr>
<td><code>last</code></td>
<td>æ˜¾ç¤ºç”¨æˆ·æœ€è¿‘ç™»å½•ä¿¡æ¯</td>
</tr>
<tr>
<td><code>date</code></td>
<td>æ˜¾ç¤ºæˆ–è®¾ç½®ç³»ç»Ÿæ—¶é—´ä¸æ—¥æœŸ</td>
</tr>
<tr>
<td><code>w</code></td>
<td>å½“å‰ç™»å½•ç”¨æˆ·åˆ—è¡¨åŠæ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡</td>
</tr>
<tr>
<td><code>whoami</code></td>
<td>æ‰“å°å½“å‰æœ‰æ•ˆçš„ç”¨æˆ·åç§°</td>
</tr>
<tr>
<td><code>uname</code></td>
<td>æ‰“å°å½“å‰ç³»ç»Ÿä¿¡æ¯</td>
</tr>
<tr>
<td><code>cal</code></td>
<td>æ˜¾ç¤ºæ—¥å†</td>
</tr>
</tbody></table>
<p><code>uptime</code>ç³»ç»Ÿè¿è¡Œæ—¶é•¿</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">apricity@qiu ~ % uptime</span><br><span class="line"> 14:28:15 up 6 days, 22:24,  1 user,  load average: 1.88, 1.19, 1.01</span><br></pre></td></tr></table></figure>


<p><code>w</code>è·å–å½“å‰ç”¨æˆ·å’Œæ­£åœ¨æ‰§è¡Œçš„è¿›ç¨‹</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">apricity@qiu ~ % w                                                                                                        [127]</span><br><span class="line"> 14:33:51 up 6 days, 22:29,  1 user,  load average: 0.96, 0.95, 0.95</span><br><span class="line">USER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT</span><br><span class="line">apricity pts/0    112.54.13.167    14:00    1.00s  3.35s  0.00s w</span><br></pre></td></tr></table></figure>


<p><code>tty</code>è™šæ‹Ÿç»ˆç«¯  <code>from</code> ä»å“ªé‡Œç™»å½•ï¼Œ<code>loging</code>åœ¨ä»€ä¹ˆæ—¶å€™ç™»å½•</p>
<p><code> last | grep  -v &quot;wtmp begins&quot; | grep -v &quot;^$&quot; | grep -v &quot;reboot&quot; |Æ’ |sort | uniq -c | sort -n -r  | head -n 2</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">ä¸Šä¸€æ¬¡ç™»å½•åœç•™äº†å¤šé•¿æ—¶é—´</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>






<p><code>uname</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">apricity@qiu linuxåŸºç¡€ % uname -a</span><br><span class="line">Linux qiu 4.15.0-117-generic #118-Ubuntu SMP Fri Sep 4 20:02:41 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">apricity@qiu linux % date +&quot;%Y-%m-%d %H:%M:%S&quot;                                                                        [0]</span><br><span class="line">2020-11-29 15:40:28</span><br></pre></td></tr></table></figure>




<p>calæ—¥å†</p>
<h1 id="äº”ã€shellç¼–ç¨‹"><a href="#äº”ã€shellç¼–ç¨‹" class="headerlink" title="äº”ã€shellç¼–ç¨‹"></a>äº”ã€shellç¼–ç¨‹</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"><span class="meta">#</span><span class="bash">è¿™æ˜¯æ³¨é‡Š</span></span><br><span class="line"><span class="meta">#</span><span class="bash">  ï¼ä¸æ˜¯æ³¨é‡Šï¼ŒæŒ‡å®šè§£é‡Šå™¨,å›ºå®šæ ¼å¼</span></span><br><span class="line">echo &#x27;hello&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">:&lt;&lt;EOF</span><br><span class="line">æ³¨é‡Šçš„ä»£ç ...</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure>




<h2 id="1-å˜é‡ä¸å±€éƒ¨å˜é‡"><a href="#1-å˜é‡ä¸å±€éƒ¨å˜é‡" class="headerlink" title="1.å˜é‡ä¸å±€éƒ¨å˜é‡"></a>1.å˜é‡ä¸å±€éƒ¨å˜é‡</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">å˜é‡</span></span><br><span class="line">apricity@qiu 1.shell % a=123                                                                                          [0]</span><br><span class="line">apricity@qiu 1.shell % echo $a                                                                                        [0]</span><br><span class="line">123</span><br><span class="line"></span><br><span class="line">apricity@qiu 1.shell % a = 123</span><br><span class="line">zsh: command not found: a</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>å˜é‡çš„å®šä¹‰</p>
<p>â€‹    a=12</p>
<p>å±€éƒ¨å˜é‡</p>
<p>â€‹    local a=12</p>
<p>ç‰¹æ®Šå˜é‡</p>
<ul>
<li><p>ä½ç½®å˜é‡</p>
<p>$0:è·å–å½“å‰æ‰§è¡Œshellè„šæœ¬æ–‡ä»¶åï¼ŒåŒ…æ‹¬è·¯å¾„</p>
<p>$*:è·å–å½“å‰shellçš„æ‰€æœ‰å‚æ•°</p>
<p>$#ï¼šå¾—åˆ°å½“å‰è„šæœ¬çš„å‚æ•°ä¸ªæ•°</p>
<p>$@ï¼šè·å–è¿™ä¸ªç¨‹åºæ‰€æœ‰çš„å‚æ•°</p>
</li>
</ul>
</blockquote>
<p>çŠ¶æ€å˜é‡</p>
<p>â€‹        $?ï¼šåˆ¤æ–­ä¸Šä¸€ä¸ªæŒ‡ä»¤æ˜¯å¦æ‰§è¡ŒæˆåŠŸï¼Œ0ä¸ºæˆåŠŸï¼Œéé›¶ä¸æˆåŠŸ</p>
<p>â€‹        $$:è·å–å½“å‰è¿›ç¨‹çš„PID</p>
<p>â€‹        $!ï¼šä¸Šä¸€ä¸ªæŒ‡ä»¤çš„PID</p>
<h2 id="2-è¾“å…¥è¾“å‡º"><a href="#2-è¾“å…¥è¾“å‡º" class="headerlink" title="2.è¾“å…¥è¾“å‡º"></a>2.è¾“å…¥è¾“å‡º</h2><p><code>echo</code></p>
<p><code>echo -e &quot;hello\n&quot;#å¼€å¯è½¬ä¹‰</code></p>
<p><code>printf</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">è½¯è½¬ä¹‰</span></span><br><span class="line">apricity@qiu 1.shell % a=&quot;first.sh:$&#123;a&#125;&quot;                                                                                    [0]</span><br><span class="line">apricity@qiu 1.shell % echo $a                                                                                              [0]</span><br><span class="line">first.sh:first.sh</span><br><span class="line"><span class="meta">#</span><span class="bash">ç¡¬è½¬ä¹‰</span></span><br><span class="line">apricity@qiu 1.shell % a=&#x27;first.sh:$&#123;a&#125;&#x27;                                                                                    [0]</span><br><span class="line">apricity@qiu 1.shell % echo $a                                                                                              [0]</span><br><span class="line">first.sh:$&#123;a&#125;</span><br></pre></td></tr></table></figure>


<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">echo -e â€œ\033[32m ç»¿è‰²å­— \033[0mâ€ </span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">å‘½ä»¤æ›¿æ¢ç¬¦``ï¼Œæ›¿æ¢å‘½ä»¤</span></span><br><span class="line">apricity@qiu 1.shell % a=`pwd`                                                                                              [0]</span><br><span class="line">apricity@qiu 1.shell % pwd                                                                                                  [0]</span><br><span class="line">/home/apricity/linux/1.shell</span><br><span class="line">apricity@qiu 1.shell % echo $a                                                                                              [0]</span><br><span class="line">/home/apricity/linux/1.shell</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>




<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">apricity@qiu 1.shell % PATH=$&#123;PATH&#125;:first.sh                                                                                [0]</span><br><span class="line">apricity@qiu 1.shell % echo $PATH                                                                                           [0]</span><br><span class="line">/home/apricity/.autojump/bin:/home/apricity/.autojump/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:first.sh</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>




<p>ç‰¹æ®Šå˜é‡</p>
<p><code>echo $?</code>ä¸Šä¸€æ¡å‘½ä»¤çš„æ‰§è¡Œç»“æœ</p>
<p>read </p>
<p>â€‹    -sé™é»˜æ¨¡å¼è¾“å…¥å¯†ç </p>
<p>â€‹    </p>
<h2 id="3-å‡½æ•°"><a href="#3-å‡½æ•°" class="headerlink" title="3.å‡½æ•°"></a>3.å‡½æ•°</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">__printf__</span></span>() &#123;</span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$1</span>&quot;</span></span><br><span class="line">	<span class="built_in">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">__printf__ <span class="string">&quot;hello guziqiu&quot;</span></span><br></pre></td></tr></table></figure>




<h2 id="4-æµç¨‹æ§åˆ¶è¯­å¥"><a href="#4-æµç¨‹æ§åˆ¶è¯­å¥" class="headerlink" title="4.æµç¨‹æ§åˆ¶è¯­å¥"></a>4.æµç¨‹æ§åˆ¶è¯­å¥</h2><h3 id="1-if"><a href="#1-if" class="headerlink" title="1.if"></a>1.<code>if</code></h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">read</span> a</span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$a</span> -gt 10 ]];<span class="keyword">then</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$a</span> &gt; 10&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$a</span> &lt;= 10&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">read</span> a</span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$&#123;a&#125;</span> -gt 10 ]];<span class="keyword">then</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$a</span> &gt; 10&quot;</span></span><br><span class="line"><span class="keyword">elif</span> [[ <span class="variable">$&#123;a&#125;</span> -eq 10 ]];<span class="keyword">then</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$a</span> = 10&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$a</span> &lt; 10&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>


<p><code>test</code>è¡¨è¾¾å¼</p>
<h3 id="2-while"><a href="#2-while" class="headerlink" title="2.while"></a>2.<code>while</code></h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">while [[ condition ]]; do</span><br><span class="line">done</span><br></pre></td></tr></table></figure>




<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">num=0</span><br><span class="line"><span class="keyword">while</span> [[ <span class="variable">$num</span> -lt 100 ]];<span class="keyword">do</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="variable">$&#123;num&#125;</span></span><br><span class="line">	num=$[ <span class="variable">$&#123;num&#125;</span> + 1 ]</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>


<h3 id="3-case"><a href="#3-case" class="headerlink" title="3.case"></a>3.case</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">case words in</span><br><span class="line">		pattern)</span><br><span class="line">					;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>


<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">read</span> a</span><br><span class="line"><span class="keyword">case</span> <span class="variable">$a</span> <span class="keyword">in</span></span><br><span class="line">	1)</span><br><span class="line">		<span class="built_in">echo</span> 1</span><br><span class="line">		;;</span><br><span class="line">	2)</span><br><span class="line">		<span class="built_in">echo</span> 2</span><br><span class="line">		;;</span><br><span class="line"><span class="keyword">esac</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">read</span> a</span><br><span class="line"><span class="keyword">case</span> <span class="variable">$a</span> <span class="keyword">in</span></span><br><span class="line">	1)</span><br><span class="line">		<span class="built_in">echo</span> 1</span><br><span class="line">		;;</span><br><span class="line">	2)</span><br><span class="line">		<span class="built_in">echo</span> 2</span><br><span class="line">		;;</span><br><span class="line">	default)</span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot;not found&quot;</span></span><br><span class="line">		;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure>




<p>éå†å½“å‰ç›®å½•æ‰€æœ‰æ–‡ä»¶</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> `ls *.sh`;<span class="keyword">do</span>                                                                                [0]</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line">1.first.sh</span><br><span class="line">2.func.sh</span><br><span class="line">3.if.sh</span><br><span class="line">4.case.sh</span><br></pre></td></tr></table></figure>






<h3 id="4-for"><a href="#4-for" class="headerlink" title="4.for"></a>4.for</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">for in in words; do</span><br><span class="line">done</span><br><span class="line">for (( i=0; i&lt;10; i++ )); do</span><br><span class="line">done</span><br></pre></td></tr></table></figure>


<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="variable">$@</span>;<span class="keyword">do</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> ((i=1; i &lt;= 100; i++));<span class="keyword">do</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>






<h3 id="5-until"><a href="#5-until" class="headerlink" title="5.until"></a>5.until</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">until [[ condition ]];do</span><br><span class="line">done</span><br></pre></td></tr></table></figure>


<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">num=0</span><br><span class="line">until [[ <span class="variable">$num</span> -eq 100 ]];<span class="keyword">do</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="variable">$num</span></span><br><span class="line">	num=$[ <span class="variable">$&#123;num&#125;</span> + 1 ]</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>






<p>100ä»¥å†…å¶æ•°æ±‚å’Œ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">sum=0</span><br><span class="line"><span class="keyword">for</span> (( i=1; i&lt;=100; i++ ));<span class="keyword">do</span></span><br><span class="line">	<span class="keyword">if</span> [[ $[ <span class="variable">$&#123;i&#125;</span> % 2 ]  -eq 0 ]];<span class="keyword">then</span></span><br><span class="line">		sum=$[ <span class="variable">$&#123;sum&#125;</span> + <span class="variable">$&#123;i&#125;</span> ]</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;sum&#125;</span></span><br></pre></td></tr></table></figure>


<p>ç©ºæ ¼æ•æ„Ÿï¼Œ</p>
<p>=å·å·¦å³ä¸èƒ½åŠ ç©ºæ ¼</p>
<p>$aå˜é‡å</p>
<p>$[ æ•´æ•°è®¡ç®— ]</p>
<p>[[ testè¡¨è¾¾å¼ ]]</p>
<h2 id="5-æ•°ç»„"><a href="#5-æ•°ç»„" class="headerlink" title="5.æ•°ç»„"></a>5.æ•°ç»„</h2><p><code>declare -a a</code></p>
<blockquote>
<p>è¾“å‡ºæ•°ç»„å†…å®¹</p>
<p><code>$&#123;array[*]&#125;</code></p>
<p><code>$&#123;array[@]&#125;</code></p>
</blockquote>
<blockquote>
<p>ç¡®å®šæ•°ç»„å…ƒç´ ä¸ªæ•°</p>
<p><code>$&#123;#array[@]&#125;`



> æ‰¾åˆ°æ•°ç»„çš„ä¸‹æ ‡
>
> `$&#123;!array[@]&#125;`



> è¿½åŠ æ•°ç»„
>
> `array+=(a,b,c);`

> æ•°ç»„æ’åº
>
> `sort`

> åˆ é™¤æ•°ç»„å…ƒç´ 
>
> `unset`









<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">apricity@qiu:~/linux/1.shell$ <span class="built_in">read</span> -a a</span><br><span class="line">1 2 3 4 5 6 7</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">apricity@qiu:~/linux/1.shell$ <span class="built_in">echo</span> <span class="variable">$&#123;a&#125;</span></span><br><span class="line">1</span><br><span class="line">apricity@qiu:~/linux/1.shell$ <span class="built_in">echo</span> <span class="variable">$&#123;a[1]&#125;</span></span><br><span class="line">2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">apricity@qiu:~/linux/1.shell$ <span class="built_in">echo</span> <span class="variable">$&#123;a[@]&#125;</span></span><br><span class="line">1 2 3 4 5 6 7</span><br><span class="line"></span><br><span class="line">apricity@qiu:~/linux/1.shell$ <span class="built_in">echo</span> <span class="variable">$&#123;a[*]&#125;</span></span><br><span class="line">1 2 3 4 5 6 7</span><br><span class="line"></span><br></pre></td></tr></table></figure>




<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">æŸ¥çœ‹æ•°ç»„ä¸‹æ ‡</span></span><br><span class="line">apricity@qiu:~/linux/1.shell$ echo $&#123;!c[*]&#125;</span><br><span class="line">0 1 2</span><br><span class="line">apricity@qiu:~/linux/1.shell$ echo $&#123;!c[@]&#125;</span><br><span class="line">0 1 2</span><br><span class="line"></span><br><span class="line">apricity@qiu:~/linux/1.shell$ c+=(4 5 6)</span><br><span class="line">apricity@qiu:~/linux/1.shell$ echo $&#123;c[@]&#125;</span><br><span class="line">0 1 3 4 5 6</span><br><span class="line">apricity@qiu:~/linux/1.shell$ echo $&#123;c[@]&#125; | sort</span><br><span class="line">0 1 3 4 5 6</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">apricity@qiu:~/linux/1.shell$ unset c</span><br><span class="line">apricity@qiu:~/linux/1.shell$ echo $&#123;c[@]&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>




<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">apricity@qiu:~/linux/1.shell$ d=(1 2  3  4 5  6 7 8)</span><br><span class="line">apricity@qiu:~/linux/1.shell$ echo $&#123;d[*]&#125;</span><br><span class="line">1 2 3 4 5 6 7 8</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">apricity@qiu:~/linux/1.shell$ echo $&#123;a[*]&#125;</span><br><span class="line">1 2 3 4 5 6 7</span><br><span class="line">apricity@qiu:~/linux/1.shell$ echo $&#123;a[1]&#125;</span><br><span class="line">2</span><br><span class="line">apricity@qiu:~/linux/1.shell$ unset a[1]</span><br><span class="line">apricity@qiu:~/linux/1.shell$ echo $&#123;a[1]&#125;</span><br><span class="line"></span><br><span class="line">apricity@qiu:~/linux/1.shell$ echo $&#123;a[*]&#125;</span><br><span class="line">1 3 4 5 6 7</span><br><span class="line"></span><br><span class="line">apricity@qiu:~/linux/1.shell$ echo $&#123;!a[*]&#125;</span><br><span class="line">0 2 3 4 5 6</span><br></pre></td></tr></table></figure>






ç´ æ•°ç­›



<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">if [[ $# -ne 2 ]];then</span><br><span class="line">	echo &quot;error&quot;</span><br><span class="line">	exit</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">start=$1</span><br><span class="line">end=$2</span><br><span class="line"></span><br><span class="line">declare -a prime</span><br><span class="line"></span><br><span class="line">function init_prime() &#123;</span><br><span class="line">	local end=$1</span><br><span class="line">	local i</span><br><span class="line">	prime[1]=1</span><br><span class="line">	for (( i=2; i &lt;= $&#123;end&#125;; i++ ));do</span><br><span class="line">		for (( j=$[ 2 * $&#123;i&#125; ]; j &lt;= $&#123;end&#125;; j+=i ));do</span><br><span class="line"><span class="meta">			prime[$</span><span class="bash">&#123;j&#125;]=1</span></span><br><span class="line">		done</span><br><span class="line">	done</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">init_prime $&#123;end&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">for (( i=$&#123;start&#125;; i&lt;=$&#123;end&#125;; i++ ));do</span><br><span class="line">	if [[ $&#123;prime[$i]&#125;x == x ]];then</span><br><span class="line">		sum=$[ $&#123;sum&#125; + $&#123;i&#125; ]</span><br><span class="line">	fi</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">echo $&#123;sum&#125;</span><br></pre></td></tr></table></figure>






# å…­ã€æ–‡ä»¶åŠç›®å½•



### 1.ç›®å½•

`cd`åˆ‡æ¢åˆ°å½“å‰ç›®å½•

`cd ..`åˆ‡æ¢åˆ°ä¸Šå±‚ç›®å½•

`cd.`  åˆ‡æ¢åˆ°å½“å‰ç›®å½•

`cd~/cd` å›åˆ°è‡ªå·±å®¶ç›®å½•

`cd -`å›åˆ° ä¸Šæ¬¡å·¥ä½œç›®å½•

`cd ~guziqiu/`åˆ‡æ¢åˆ°guziqiuçš„ç›®å½•





`pwd` æ‰“å°å½“å‰å·¥ä½œç›®å½•



<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ls -ald run/                                                                                             [0]</span><br><span class="line">drwxr-xr-x 21 root root 660 Dec  2 18:14 run/</span><br></pre></td></tr></table></figure>




`pwd -L`æ˜¾ç¤ºé€»è¾‘å·¥ä½œç›®å½•

`pwd -P`æ˜¾ç¤ºç‰©ç†å·¥ä½œç›®å½•

ï¼ˆé“¾æ¥æ–‡ä»¶ï¼‰

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">apricity@qiu run % pwd                                                                                                       [0]</span><br><span class="line">/var/run</span><br><span class="line">apricity@qiu run % pwd -L                                                                                                    [0]</span><br><span class="line">/var/run</span><br><span class="line">apricity@qiu run % pwd -P                                                                                                    [0]</span><br><span class="line">/run</span><br></pre></td></tr></table></figure>




<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ln ./1.shell/test/ .                                                                                    [0]</span><br><span class="line">ln: ./1.shell/test/: hard link not allowed for directory</span><br><span class="line"><span class="meta">#</span><span class="bash">hard linkç¡¬é“¾æ¥</span></span><br></pre></td></tr></table></figure>


`mkdir -p`è‡ªåŠ¨åˆ›å»ºçˆ¶ç›®å½•





!åŠ ä¸€ä¸ªå‘½ä»¤åŒ¹é…å‘½ä»¤æˆ–è€…historyé‡Œé¢çš„è¡Œæ•°ä¼šè¾“å‡ºæ˜¾ç¤ºè¯¥å‘½ä»¤



`./a.out`

`./`æ˜¯å½“å‰ç›®å½•çš„æ„æ€





### 2.æ–‡ä»¶åŠç›®å½•ç®¡ç†



`cp [irapdslu]`

> â¢é€‰é¡¹
> â¢`-i`: è‹¥æ–‡ä»¶å­˜åœ¨ï¼Œè¯¢é—®ç”¨æˆ·
> â¢`-r`:é€’å½’å¤åˆ¶
> `-a`:pdrçš„é›†åˆ
> â¢`-p`:è¿åŒæ–‡ä»¶å±æ€§ä¸€èµ·æ‹·è´
> â¢`-d`: è‹¥æºæ–‡ä»¶ä¸ºè¿æ¥æ–‡ä»¶çš„å±æ€§ï¼Œåˆ™å¤åˆ¶è¿æ¥æ–‡ä»¶çš„å±æ€§
> â¢`-s`:æ‹·è´ä¸ºè½¯è¿æ¥
> â¢`-1`:æ‹·è´ä¸ºç¡¬è¿æ¥
> â¢`-u`:æºæ–‡ä»¶æ¯”ç›®çš„æ–‡ä»¶æ–°æ‰æ‹·è´
> â¢å°è¯•: `cp filel file2 . dir`



`rm`

> `rm [irf]``
>
> ``-i`:äº’åŠ¨æ¨¡å¼
>
> `-r`:é€’å½’åˆ é™¤
>
> `-f`:force
>
> 



`mv`

> `mv [ifu]`
>
> `-i`:äº’åŠ¨æ¨¡å¼
>
> `-u`: æºæ–‡ä»¶æ›´æ–°æ‰ä¼šç§»åŠ¨
>
> `-f`:force



### 3.æ–‡ä»¶å†…å®¹æŸ¥é˜…

`cat`æ­£å‘è¿ç»­è¯»

> â¢`cat [-AbEnTv] <file>`
> â¢é€‰é¡¹:
> â¢`-A`:ç›¸å½“äº-vET
> â¢-`V`:åˆ—å‡ºçœ‹ä¸å‡ºçš„å­—ç¬¦
> `-E`:æ˜¾ç¤ºæ–­è¡Œç¬¦ä¸º`$`
> â¢`-T`:æ˜¾ç¤ºTABä¸º`^I`
> â¢`-b`:åˆ—å‡ºè¡Œå·
> â¢`-n`:åˆ—å‡ºè¡Œå·ï¼Œè¿åŒç©ºè¡Œä¹Ÿç¼–å·







`tac`åå‘è¿ç»­è¯»

`nl`è¾“å‡ºè¡Œå·æ˜¾ç¤ºæ–‡ä»¶

>â¢`nl [-bnw] <file>`
>â¢é€‰é¡¹
>â¢`-b`:è¡Œå·æŒ‡å®šçš„æ–¹å¼
>		`-b a`:ç›¸å½“äºcat -n
>		`-b t`:ç›¸å½“äºcat -b
>â¢`-n`:åˆ—å‡ºè¡Œå·çš„è¡¨ç¤ºæ–¹æ³•
>		`-n ln`:è¡Œå·åœ¨å±å¹•æœ€å·¦è¾¹æ˜¾ç¤º
>		`-n rn`:è¡Œå·åœ¨è‡ªå·±å­—æ®µçš„æœ€å³è¾¹æ˜¾ç¤º
>		`-n rz`:è¡Œå·åœ¨è‡ªå·±å­—æ®µçš„æœ€å³è¾¹æ˜¾ç¤ºï¼Œå‰é¢è‡ªåŠ¨è¡¥å…¨0
>â¢`-w <num>`:è¡Œå·æ‰€å ä½æ•°







`more`ä¸€é¡µä¸€é¡µçš„æ˜¾ç¤ºå†…å®¹



>MOREæŒ‰é¡µæŸ¥çœ‹
>`more file`
>â¢`/string`å‘ä¸‹æŸ¥æ‰¾stringå…³é”®å­—
>â¢`:f`æ˜¾ç¤ºæ–‡ä»¶åç§°å’Œå½“å‰æ˜¾ç¤ºçš„è¡Œæ•°
>â¢`q`ç¦»å¼€







`less`ä¸ç›¸ä¼¼ä½†æ˜¯å¯ä»¥ä¸Šä¸‹ç¿»çœ‹

>LESSæŒ‰é¡µæŸ¥çœ‹
>
>â¢`less file`
>â¢`/string`å‘ä¸‹æŸ¥æ‰¾  `n`:ç»§ç»­å‘ä¸‹æŸ¥æ‰¾
>â¢`/?string`åå‘æŸ¥æ‰¾`N`:ç»§ç»­åå‘æŸ¥è¯¢







`head`åªçœ‹å¤´å‡ è¡Œ

> HEADæŸ¥çœ‹å¤´å‡ è¡Œ
> â¢`head [-n num] <file>`
> â¢`-nnum`:æ˜¾ç¤ºå‰numè¡Œ
> â¢`-n -num`:é™¤äº†ånumè¡Œå¤–ï¼Œå…¶ä»–çš„éƒ½æ˜¾ç¤º





`tail`åªçœ‹å°¾å‡ è¡Œ

>TAILæŸ¥çœ‹æœ«å°¾å‡ è¡Œ
>â¢`tail [-n num] <file>`
>â¢`-n num`:æ˜¾ç¤ºæ–‡ä»¶ånumè¡Œ
>â¢`-n +num`:é™¤äº†å‰numè¡Œï¼Œå…¶ä»–çš„éƒ½æ˜¾ç¤º





`od`ä»¥äºŒè¿›åˆ¶å½¢å¼æŸ¥çœ‹æ–‡ä»¶å†…å®¹

>ODäºŒ_è¿›åˆ¶æ–‡ä»¶æŸ¥çœ‹
>â¢`od [-t TYPE] <file>`
>â¢`-t` :
>	â¢`a`:é»˜è®¤å­—ç¬¦è¾“å‡º
>	â¢`c`:ASCIIå­—ç¬¦è¾“å‡º
>	â¢`d[size]`:åè¿›åˆ¶è¾“å‡ºï¼Œæ¯ä¸ªæ•°å ç”¨size bytes
>	â¢`f[size]`:æµ®ç‚¹æ•°è¾“å‡º...
>	â¢`o[size]`:å…«è¿›åˆ¶è¾“å‡º....
>	â¢`x[size]:`åå…­è¿›åˆ¶è¾“å‡º...



moreå’Œall





### 4.ä¿®æ”¹æ–‡ä»¶æ—¶é—´ä¸æ–°å»ºæ–‡ä»¶

> â¢æ–‡ä»¶çš„ä¸‰ä¸ªæ—¶é—´
> 	â¢`mtime`:å†…å®¹æ•°æ®æ”¹åŠ¨æ—¶æ‰æ›´æ–°è¿™ä¸ªæ—¶é—´;
> 	â¢`ctime`:æ–‡ä»¶çš„æƒé™ï¼Œå±æ€§æ”¹åŠ¨æ—¶æ›´æ–°è¿™ä¸ªæ—¶é—´
> 	â¢`atime`:æ–‡ä»¶çš„å†…å®¹è¢«å–ç”¨accessæ—¶ï¼Œæ›´æ–°è¿™ä¸ªæ—¶é—´
> â¢`ls -1 --time=ctime /etc/hostname`







> â¢`touch [ - -acdmt] <file>`
> â¢`-a`:ä»…ä¿®æ”¹è®¿é—®æ—¶é—´
> â¢`-c`:ä»…ä¿®æ”¹æ–‡ä»¶çš„æ—¶é—´ï¼Œè‹¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œä¸æ–°å»º
> â¢`-d`:ä¿®æ”¹æ–‡ä»¶æ—¥æœŸ
> `-m`:ä»…ä¿®æ”¹mtime
> â¢`-t`:ä¿®æ”¹æ–‡ä»¶æ—¶é—´[ yymmddhhmm]

### 5.æ–‡ä»¶éšè—å±æ€§

> â¢`chattr [+-=][ASacdistu] <file_ or_ dir>`
> â¢`A`:ä¸ä¿®æ”¹atime
> â¢`S`:åŒæ­¥å†™å…¥
> â¢`a`:åªèƒ½å¢åŠ æ•°æ®
> â¢`c`:è‡ªåŠ¨å‹ç¼©ï¼Œè§£å‹
> â¢`d`:ä¸ä¼šè¢«dumpç¨‹åºå¤‡ä»½
> â¢`i`:ä¸èƒ½åˆ é™¤ï¼Œä¿®æ”¹ï¼Œå»ºç«‹è¿æ¥
> â¢`s`:æ–‡ä»¶åˆ é™¤æ—¶ï¼Œç›´æ¥ä»ç£ç›˜åˆ é™¤
> â¢`u`:æ–‡ä»¶åˆ é™¤æ—¶ï¼Œæ•°æ®å†…å®¹å­˜åœ¨ç£ç›˜ä¸­





> â¢`lsattr [-adR] <file_ or_ dir>`
> â¢`-a`:æ‰“å°éšè—æ–‡ä»¶çš„éšè—å±æ€§
> â¢`-d`:å¦‚æœæ˜¯ç›®å½•ï¼Œä»…æ‰“å°ç›®å½•çš„ä¿¡æ¯
> â¢`-R`:é€’å½’





### 6.æ–‡ä»¶çš„ç‰¹æ®Šæƒé™



`set_iuid`




| æƒé™         |      | ä½œç”¨å¯¹è±¡               | æ•ˆæœ                                   |
| ------------ | ---- | ---------------------- | -------------------------------------- |
| `set_uid`    | S    | äºŒè¿›åˆ¶ç¨‹åºæ–‡ä»¶ï¼Œéè„šæœ¬ | ç”¨æˆ·åœ¨æ‰§è¡Œæ”¹ç¨‹åºæ—¶è·å¾—ç¨‹åºæ‰€æœ‰è€…æƒé™   |
| `set_gid`    | s    | ç›®å½•å’ŒäºŒè¿›åˆ¶æ–‡ä»¶       | ç”¨æˆ·åœ¨è¯¥ç›®å½•é‡Œï¼Œæœ‰æ•ˆç»„å˜ä¸ºç›®å½•æ‰€å±ç»„ï¼Œ |
| `sticky bit` | t    | ç›®å½•                   | åœ¨è¯¥ç›®å½•ä¸‹ï¼Œç”¨æˆ·åªèƒ½åˆ é™¤è‡ªå·±åˆ›å»ºçš„å†…å®¹ |

`chmod +t file`



### 7.å‘½ä»¤ä¸æ–‡ä»¶çš„æŸ¥è¯¢



`whereis`å¯»æ‰¾ç‰¹å®šæ–‡ä»¶

>â¢`whereis [ - .bmsu] <file_or_dir>`
>â¢`-b`:åªæŸ¥æ‰¾äºŒè¿›åˆ¶æ–‡ä»¶
>â¢`-m`: åªæŸ¥æ‰¾manualè·¯å¾„ä¸‹çš„æ–‡ä»¶
>â¢`-s`:åªæŸ¥æ‰¾sourceæºæ–‡ä»¶
>`-u`:æŸ¥æ‰¾å…¶ä»–æ–‡ä»¶

`which`å¯»æ‰¾æ‰§è¡Œæ–‡ä»¶ï¼ŒæŸ¥æ‰¾pathè·¯å¾„ä¸‹æ‰€æœ‰å¯æ‰§è¡Œæ–‡ä»¶



`locate` æœç´¢æ–‡ä»¶ï¼ˆå¯éƒ¨åˆ†æŸ¥æ‰¾ï¼‰

>`LOCATE`æ¨¡ç³Šå®šä½
>â¢`locate [-ir] keyword`
>â¢`-i`:å¿½ç•¥å¤§å°å†™
>â¢`-r`:åé¢å¯æ¥æ­£åˆ™è¡¨è¾¾å¼
>â¢ç›¸å…³æ–‡ä»¶: `/ect/updatedb . conf`
>â¢`/var/lib/mlocate`



`find`å¤šæ ·åŒ–é«˜çº§æŸ¥æ‰¾

>`FIND`é«˜çº§æŸ»æ‰¾
>
>find ç›®å½• -name ç›®å½•å
>
>â¢`find [PATH] [ option] [action ]`
>â¢ä¸ç”¨æˆ·æˆ–ç”¨æˆ·ç»„ç›¸å…³çš„å‚æ•°:
>â¢`-uid n`:ç”¨æˆ·UIDä¸ºn
>â¢`-gid n`:ç¾¤ç»„Gidä¸ºn
>â¢`-user name`: ç”¨æˆ·åä¸ºname
>â¢`-group name`:ç¾¤ç»„åä¸ºname
>â¢`-nouser`:æ–‡ä»¶æ‰€æœ‰è€…ä¸å­˜åœ¨
>â¢`nogroup`:æ–‡ä»¶æ‰€åœ¨ç»„ä¸å­˜åœ¨
>
>
>
>â¢ä¸æ–‡ä»¶æƒé™åŠåç§°æœ‰å…³çš„å‚æ•°:
>â¢`-name filename`: æ–‡ä»¶åä¸ºfilename
>â¢`-size [+-] SIZE`:æŸ¥æ‰¾æ¯”SIZEå¤§æˆ–å°çš„
>â¢`-type TYPE`: `f b c d l s p` 
>â¢`-perm mode`: modeåˆšå¥½ç­‰äºçš„æ–‡ä»¶
>â¢-`perm -mode`:å…¨éƒ¨åŒ…å«modeçš„æ–‡ä»¶
>â¢`find -exec ls -l &#123;&#125; \;`
>
>-exec å‘½ä»¤çš„å¼€å§‹
>
>\å‘½ä»¤ç»“å°¾
>
>
>
>ã€‰`find [PATH] [option] [ action]`
>ä¸æ—¶é—´ç›¸å…³çš„å‚æ•°: -`atime, -ctime, -mtime`
>`-mtime n`: nå¤©å‰çš„â€œä¸€å¤©ä¹‹å†…â€™ä¿®æ”¹çš„æ–‡ä»¶amin
>ã€‰`-mtime +n`: nå¤©ä¹‹å‰ï¼Œä¸åŒ…å«nï¼Œä¿®æ”¹è¿‡çš„æ–‡ä»¶
>ã€‰`-mtime - -n`: nå¤©ä¹‹å†…ï¼ŒåŒ…å«n,ä¿®æ”¹è¿‡çš„æ–‡ä»¶
>ã€‹`-newer file`: æ¯”fileè¿˜è¦æ–°çš„æ–‡ä»¶





<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"> ls -al `which passwd`                                                                                                     [10]</span><br><span class="line">-rwsr-xr-x 1 root root 59640 Mar 23  2019 /usr/bin/passwd</span><br></pre></td></tr></table></figure>






## linuxä¸‰å‰‘å®¢awk

awkæ–‡æœ¬æ•°æ®å¤„ç†

`awk [-Ffv] 'BEGIN&#123; commands&#125; pattern &#123; commands&#125; END &#123; commands&#125;' file`

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">last | grep -v &quot;^$&quot; | grep -v &quot;wtmp&quot; | grep -v &quot;still&quot;| head -5 | awk &#x27;BEGIN &#123;print &quot;start\n&quot;&#125; &#123;if ($1 == &quot;apricity&quot;) &#123;print $10&#125;&#125; END &#123;printf(&quot;%s\n&quot;,&quot;Bye&quot;)&#125;&#x27;| grep -v &quot;^$&quot; |cut -c 2-6 |awk -F: -v hour=0 -v min=0 &#x27;&#123;hour+=$1;min+=$2&#125; END &#123;if (min&gt;=60) &#123;hour+=min/60;min=min%60&#125; printf(&quot;%d hours, %d min&quot;,hour,min)&#125;&#x27;</span><br><span class="line">3 hours, 2 min%</span><br></pre></td></tr></table></figure>










# ä¸ƒã€æ•°æ®æå–æ“ä½œ







| å‘½ä»¤    | è¯´æ˜             | å‘½ä»¤    | è¯´æ˜                 |
| ------- | ---------------- | ------- | -------------------- |
| `cut`   | åˆ‡åˆ†             | `grep`  | æ£€ç´¢                 |
| `sort`  | æ’åº             | `wc`    | ç»Ÿè®¡å­—ç¬¦ã€å­—æ•°ã€è¡Œæ•° |
| `uniq`  | å»é‡             | `tee`   | åŒå‘é‡å¯¼é¡¹           |
| `split` | æ–‡ä»¶åˆ‡åˆ†         | `xargs` | `å‚æ•°ä»£æ¢`           |
| `tr`    | æ›¿æ¢ã€å‹ç¼©å’Œåˆ é™¤ |         |                      |



## 1.cut åˆ‡åˆ†

>`â¢cut [-dfc] <file>`
>
>â€‹	`-d c`:ä»¥cå­—ç¬¦åˆ†å‰²(cåœ¨å­—ç¬¦ä¸­)
>
>â€‹	`-f num`: æ˜¾ç¤ºnumå­—æ®µçš„å†…å®¹`[n- ; n-m;-m]`
>â€‹    `-b num`: å­—èŠ‚
>â€‹	`-c num`: å­—ç¬¦

`cut -d : -f 1`

## 2.grepæ£€ç´¢

>`grep [-acinv] <string> <fi1e>`
>	`-a`:å°†äºŒè¿›åˆ¶æ–‡ä»¶ä»¥æ™®é€šæ–‡ä»¶çš„å½¢å¼æœå¯»æ•°æ®
>	`-c`:ç»Ÿè®¡æœå¯»åˆ°çš„æ¬¡æ•°
>
>â€‹	`-C`:ç»Ÿè®¡
>
>â€‹	`-i`:å¿½ç•¥å¤§å°å†™
>â€‹	`-n`:é¡ºåºè¾“å‡ºè¡Œå·
>â€‹	`-v`:åå‘è¾“å‡º(è¾“å‡ºæ²¡æ‰¾åˆ°çš„)

`grep -v "^$"` è¿‡æ»¤ç©ºç™½ç¬¦

â€‹	



`ps -ef`   linuxä¸‹ä»»åŠ¡ç®¡ç†å™¨





 



## 3.sortæ’åº



>â¢`sort [ - fbMnrtuk] <file_ or_ stdio>`
>â¢`-f`:å¿½ç•¥å¤§å°å†™
>â¢`-b`:å¿½ç•¥æœ€å‰é¢çš„ç©ºæ ¼ç¬¦
>â¢`-M`:ä»¥æœˆä»½åç§°æ’åº
>â¢`-n`:ä»¥çº¯æ•°å­—æ–¹å¼æ’åº
>`  -r`:åå‘æ’åº
>â¢`-u`:uniq
>â¢`-t`:åˆ†å‰²ç¬¦ï¼Œé»˜è®¤[TAB ]
>â¢`-k`:ä»¥é‚£ä¸ªåŒºé—´æ’åº



## 4.WCç»Ÿè®¡å­—ç¬¦,å­—æ•°,è¡Œæ•°

>`wc [ - lwm] <file_or_stdin>`
>â¢`-1`:ä»…åˆ—å‡ºè¡Œå·
>â¢`-w`:ä»…åˆ—å‡ºå¤šå°‘å­—
>â¢`-m`:ä»…åˆ—å‡ºå¤šå°‘å­—ç¬¦



## 5.UNIQå»é‡

> â¢`uniq [-ic]`
> â¢`-i`:å¿½ç•¥å¤§å°å†™å­—ç¬¦çš„ä¸åŒ
> â¢`-c`:è¿›è¡Œè®¡æ•°





## 6.TEE åŒå‘é‡å¯¼é¡¹

> `tee [-a] file`
> `-a`:append

 

## 7.SPLITæ–‡ä»¶åˆ‡åˆ†

> â¢`split [-bl] <file> PREFIX` 
> â¢`-b SIZE`: åˆ‡åˆ†ä¸ºSIZEå¤§å°çš„æ–‡ä»¶
> â¢`-l num`: ä»¥numè¡Œä¸ºå¤§å°åˆ‡åˆ†

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ls /etc/ | split -l 10</span><br><span class="line">  ls                                                                     [0]</span><br><span class="line">xaa  xab  xac  xad  xae  xaf  xag  xah  xai  xaj  xak  xal  xam  xan  xao  xap  xaq  xar  xas</span><br></pre></td></tr></table></figure>


## 8.xargså‚æ•°ä»£æ¢

> â¢`xargs [ -0pne] <command>`
> â¢`-0`:å°†ç‰¹æ®Šå­—ç¬¦è¿˜åŸä¸ºæ™®é€šå­—ç¬¦
> â¢`-eEOF`: å½“xargsè¯»åˆ°EOFæ—¶åœæ­¢
> â¢`-p`:æ‰§è¡ŒæŒ‡ä»¤å‰è¯¢é—®
> â¢`-n num`: æ¯æ¬¡æ‰§è¡Œcommandæ—¶éœ€è¦çš„å‚æ•°ä¸ªæ•°

<figure class="highlight zsh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;/etc/&quot;</span> | xargs ls</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot; . /bin /etc&quot;</span> | xargs -e<span class="string">&quot;/bin&quot;</span> ls                                [0]</span><br><span class="line">xaa  xab  xac  xad  xae  xaf  xag  xah	xai  xaj  xak  xal  xam  xan  xao  xap	xaq  xar  xas</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cat /etc/passwd | cut -d : -f 1  |xargs -p -n 1 id</span><br><span class="line"></span><br></pre></td></tr></table></figure>




## 9.tr å¯¹æ ‡å‡†è¾“å…¥çš„å­—ç¬¦æ›¿æ¢,å‹ç¼©,åˆ é™¤

> â¢`tr [cdst] <ç¬¬ä¸€å­—ç¬¦é›†> <ç¬¬äºŒå­—ç¬¦é›†>`
> â¢`c` ç”¨å­—ç¬¦é›†äºŒå–ä»£æ‰€æœ‰ä¸å±äºç¬¬ä¸€å­—ç¬¦é›†çš„å­—ç¬¦
> â¢`d`åˆ é™¤æ‰€æœ‰å±äºç¬¬ä¸€å­—ç¬¦é›†çš„å­—ç¬¦
> â¢`s`å°†è¿ç»­é‡å¤çš„å­—ç¬¦ä»¥å•ç‹¬ä¸€ä¸ªå­—ç¬¦è¡¨ç¤º
> â¢`t`å…ˆåˆ é™¤ç¬¬ä¸€å­—ç¬¦é›†è¾ƒç¬¬äºŒå­—ç¬¦é›†å¤šå‡ºçš„å­—ç¬¦

` man ls | tr -sc "a-zA-Z" " "`

`man ls | tr -sc "a-zA-Z" "\n" | sort | uniq -c | sort -nr | head -9`



## 10.æ•°æ®æå–ç»ƒä¹ 



> 1.trå‘½ä»¤å¯¹æ–‡ä»¶çš„é‡å‘½åï¼Œå†…å®¹çš„æ›¿æ¢æ“ä½œ



> #â€œ1 2 3 4 5 6 7 9 a v ä½ å¥½ . /8â€
> #æ±‚ä»¥ä¸Šå­—ç¬¦ä¸²ä¸­æ‰€æœ‰æ•°å­—ä¹‹å’Œ

`echo "1 2 3 4 5 6 7 9 a v ä½ å¥½ . /8" | tr -c "1-9" "\n" | grep -v "^$" | awk '&#123;sum+=$1&#125; END &#123;print sum&#125;'`
`45`

> #echo â€œABCefgâ€ >> test.log
>
> #è¯·å°†è¯¥æ–‡ä»¶ä¸­æ‰€æœ‰å¤§å†™å­—æ¯è½¬æ¢ä¸ºå°å†™


 `echo  ABCefg | tr 'A-Z' 'a-z'`



> 2.æ‰¾åˆ°`PATH`å˜é‡ä¸­çš„æœ€åä¸€ä¸ªè·¯å¾„ã€‚



`echo $&#123;PATH&#125; | tr ":" "\n" | tail -1`



> 3.ä½¿ç”¨`last`å‘½ä»¤,è¾“å‡ºæ‰€æœ‰çš„å…³æœºä¿¡æ¯ã€‚



`ast | grep "reboot"`



> 4.å°†`/etc/passwd`ä¸­çš„å†…å®¹æŒ‰ç…§ç”¨æˆ·åæ’åºã€‚

`cat /etc/passwd | sort -t : -k 1`



> 5.å°†`/etc/passwd`ä¸­çš„å†…å®¹æŒ‰`uid`æ’åºã€‚

`cat /etc/passwd | sort -t : -k 3`



> 6.åœ¨äº‘ä¸»æœºä¸ŠæŸ¥æ‰¾ç³»ç»Ÿç™»å½•ç”¨æˆ·çš„æ€»äººæ¬¡ã€‚

`last | grep -v "^$" | grep -v "wtmp" | grep -v "reboot"  | wc -l`



> 7.å°†äº‘ä¸»æœºä¸­ç™»å½•çš„æ‰€æœ‰ç”¨æˆ·åï¼ŒæŒ‰ç…§æ¬¡æ•°æ’åºï¼Œå¹¶è¾“å‡ºæ¬¡æ•°ã€‚

`last | grep -v "^$" | grep -v "wtmp" | grep -v "reboot"  | cut -d " " -f 1 | sort | uniq  -c`
    105 apricity
     10 guziqiu
      9 root
      3 test

> 8.å°†æœ¬åœ°çš„`/etc`ç›®å½•ä¸‹çš„æ–‡ä»¶åŠç›®å½•ï¼Œæ¯åæ¡ä¿å­˜åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚

`ls /etc/ | split -l 10`

> 9.å°†`/etc/passwd`ä¸­å­˜æ”¾çš„ç¬¬10åˆ°20ä¸ªç”¨æˆ·ï¼Œè¾“å‡º`uid`ï¼Œ`gid`å’Œ`groups`ã€‚

`cat /etc/passwd| head -n 20 | tail -n 10 | cut -d : -f 1 | xargs -n 1 id`

> 10.å°†æŒ‰ç…§ç”¨æˆ·åæŸ¥çœ‹`/etc/passwd`ä¸­çš„ç”¨æˆ·ï¼Œè¯»åˆ°`'sync'`ç”¨æˆ·ç»“æŸã€‚

â€‹		`cat /etc/passwd | cut -d : -f 1 | xargs -e"sync"`



> 11.è¯é¢‘ç»Ÿè®¡

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ä½¿ç”¨ä¸‹é¢è¿™ä¸ªå‘½ä»¤ç”Ÿæˆä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ã€‚</span><br><span class="line">cat &gt;&gt; a.txt &lt;&lt; <span class="string">xxx</span></span><br><span class="line"><span class="string">nihao hello hello ä½ å¥½ </span></span><br><span class="line"><span class="string">nihao</span></span><br><span class="line"><span class="string">hello </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">ls</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">cd</span></span><br><span class="line"><span class="string">world</span></span><br><span class="line"><span class="string">pwd</span></span><br><span class="line"><span class="string">xxx</span></span><br></pre></td></tr></table></figure>
ç»Ÿè®¡a.txtä¸­å„è¯çš„è¯é¢‘ï¼Œå¹¶æŒ‰ç…§ä»å¤§åˆ°å°çš„é¡ºåºè¾“å‡ºã€‚

`cat a.txt | tr -s " " "\n" | sort | uniq -c | sort -n -r | awk '&#123;print $2, $1&#125;'`

`cat a.txt | tr  " " "\n" | grep -v "^$" | sort | uniq -c | sort -r`









# å…«ã€è½¯/ç¡¬é“¾æ¥



ext4æ–‡ä»¶ç³»ç»Ÿå°†ç³»ç»Ÿåˆ’åˆ†ä¸ºinodeã€blockã€spuerblockï¼ˆï¼‰

## 1.block

>æ–‡ä»¶æ˜¯å­˜å‚¨åœ¨ç¡¬ç›˜ä¸Šçš„ï¼Œç¡¬ç›˜çš„æœ€å°å­˜å‚¨å•ä½å«åšæ‰‡åŒº`sector`ï¼Œæ¯ä¸ªæ‰‡åŒºå­˜å‚¨`512å­—èŠ‚`ã€‚æ“ä½œç³»ç»Ÿè¯»å–ç¡¬ç›˜çš„æ—¶å€™ï¼Œä¸ä¼šä¸€ä¸ªä¸ªæ‰‡åŒºåœ°è¯»å–ï¼Œè¿™æ ·æ•ˆç‡å¤ªä½ï¼Œè€Œæ˜¯ä¸€æ¬¡æ€§è¿ç»­è¯»å–å¤šä¸ªæ‰‡åŒºï¼Œå³ä¸€æ¬¡æ€§è¯»å–ä¸€ä¸ªå—`block`ã€‚è¿™ç§ç”±å¤šä¸ªæ‰‡åŒºç»„æˆçš„å—ï¼Œæ˜¯æ–‡ä»¶å­˜å–çš„æœ€å°å•ä½ã€‚å—çš„å¤§å°ï¼Œæœ€å¸¸è§çš„æ˜¯`4KB`ï¼Œå³è¿ç»­å…«ä¸ª`sector`ç»„æˆä¸€ä¸ª`block`ã€‚



## 2.inodeæ–‡ä»¶ç»“ç‚¹

> æ–‡ä»¶æ•°æ®å­˜å‚¨åœ¨å—ä¸­ï¼Œé‚£ä¹ˆè¿˜å¿…é¡»æ‰¾åˆ°ä¸€ä¸ªåœ°æ–¹å­˜å‚¨æ–‡ä»¶çš„å…ƒä¿¡æ¯ï¼Œæ¯”å¦‚æ–‡ä»¶çš„åˆ›å»ºè€…ã€æ–‡ä»¶çš„åˆ›å»ºæ—¥æœŸã€æ–‡ä»¶çš„å¤§å°ç­‰ç­‰ã€‚è¿™ç§å­˜å‚¨æ–‡ä»¶å…ƒä¿¡æ¯çš„åŒºåŸŸå°±å«åš`inode`ï¼Œä¸­æ–‡è¯‘åä¸º`ç´¢å¼•èŠ‚ç‚¹`ï¼Œä¹Ÿå«`ièŠ‚ç‚¹`ã€‚å› æ­¤ï¼Œä¸€ä¸ªæ–‡ä»¶å¿…é¡»å ç”¨ä¸€ä¸ª`inode`ï¼Œä½†è‡³å°‘å ç”¨ä¸€ä¸ª`block`ã€‚

- å…ƒä¿¡æ¯ â†’ inode
- æ•°æ® â†’ block

------



>`inode`åŒ…å«å¾ˆå¤šçš„æ–‡ä»¶å…ƒä¿¡æ¯ï¼Œä½†ä¸åŒ…å«æ–‡ä»¶åï¼Œä¾‹å¦‚ï¼šå­—èŠ‚æ•°ã€å±ä¸»`UserID`ã€å±ç»„`GroupID`ã€è¯»å†™æ‰§è¡Œæƒé™ã€æ—¶é—´æˆ³ç­‰ã€‚
>
>è€Œæ–‡ä»¶åå­˜æ”¾åœ¨ç›®å½•å½“ä¸­ï¼Œä½†`Linux`ç³»ç»Ÿå†…éƒ¨ä¸ä½¿ç”¨æ–‡ä»¶åï¼Œè€Œæ˜¯ä½¿ç”¨`inodeå·ç `è¯†åˆ«æ–‡ä»¶ã€‚å¯¹äºç³»ç»Ÿæ¥è¯´æ–‡ä»¶ååªæ˜¯`inodeå·ç `ä¾¿äºè¯†åˆ«çš„åˆ«ç§°ã€‚





## 3.ç¡¬é“¾æ¥

> é€šè¿‡æ–‡ä»¶ç³»ç»Ÿçš„`inode`é“¾æ¥æ¥äº§ç”Ÿçš„æ–°çš„æ–‡ä»¶åï¼Œè€Œä¸æ˜¯äº§ç”Ÿæ–°çš„æ–‡ä»¶ï¼Œç§°ä¸ºç¡¬é“¾æ¥ã€‚
>
> ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ¯ä¸ª`inode`å·ç å¯¹åº”ä¸€ä¸ªæ–‡ä»¶åï¼Œä½†æ˜¯`Linux`å…è®¸å¤šä¸ªæ–‡ä»¶åæŒ‡å‘åŒä¸€ä¸ª`inode`å·ç ã€‚æ„å‘³ç€å¯ä»¥ä½¿ç”¨ä¸åŒçš„æ–‡ä»¶åè®¿é—®ç›¸åŒçš„å†…å®¹ã€‚



`ln æºæ–‡ä»¶ ç›®æ ‡`



> è¿è¡Œè¯¥å‘½ä»¤ä»¥åï¼Œæºæ–‡ä»¶ä¸ç›®æ ‡æ–‡ä»¶çš„`inode`å·ç ç›¸åŒï¼Œéƒ½æŒ‡å‘åŒä¸€ä¸ª`inode`ã€‚`inode`ä¿¡æ¯ä¸­çš„é“¾æ¥æ•°è¿™æ—¶å°±ä¼šå¢åŠ `1`ã€‚

> å½“ä¸€ä¸ªæ–‡ä»¶æ‹¥æœ‰å¤šä¸ªç¡¬é“¾æ¥æ—¶ï¼Œå¯¹æ–‡ä»¶å†…å®¹ä¿®æ”¹ï¼Œä¼šå½±å“åˆ°æ‰€æœ‰æ–‡ä»¶åï¼›ä½†æ˜¯åˆ é™¤ä¸€ä¸ªæ–‡ä»¶åï¼Œä¸å½±å“å¦ä¸€ä¸ªæ–‡ä»¶åçš„è®¿é—®ã€‚åˆ é™¤ä¸€ä¸ªæ–‡ä»¶åï¼Œåªä¼šä½¿å¾—`inode`ä¸­çš„é“¾æ¥æ•°å‡`1`ã€‚



> éœ€è¦æ³¨æ„çš„æ˜¯ä¸èƒ½å¯¹ç›®å½•åšç¡¬é“¾æ¥ã€‚
>
> é€šè¿‡`mkdir`å‘½ä»¤åˆ›å»ºä¸€ä¸ªæ–°ç›®å½•ï¼Œå…¶ç¡¬é“¾æ¥æ•°åº”è¯¥æœ‰`2`ä¸ªï¼Œå› ä¸ºå¸¸è§çš„ç›®å½•æœ¬èº«ä¸º`1`ä¸ªç¡¬é“¾æ¥ï¼Œè€Œç›®å½•ä¸‹é¢çš„éšè—ç›®å½•`.ï¼ˆç‚¹å·ï¼‰`æ˜¯è¯¥ç›®å½•çš„åˆä¸€ä¸ªç¡¬é“¾æ¥ï¼Œä¹Ÿç®—æ˜¯`1`ä¸ªè¿æ¥æ•°ã€‚
>
> ç›´è§‚ç†è§£æ˜¯ï¼Œå¦‚æœå…è®¸ç¡¬é“¾æ¥æŒ‡å‘ç›®å½•ï¼Œå‡è®¾ç›®å½•.../d1/...ä¸.../d2/...äº’ä¸ºç¡¬é“¾æ¥ï¼Œé‚£ä¹ˆåœ¨d1ä¸‹å¿…ç„¶åŒ…å«ç›®å½•é¡¹â€œ..â€ï¼Œè¯•é—®è¿™ä¸ªâ€œ..â€åº”è¯¥æŒ‡å‘d1è¿˜æ˜¯d2?





## 4.è½¯è¿æ¥

ç±»ä¼¼äºWindowsçš„å¿«æ·æ–¹å¼åŠŸèƒ½çš„æ–‡ä»¶ï¼Œå¯ä»¥å¿«é€Ÿè¿æ¥åˆ°ç›®æ ‡æ–‡ä»¶æˆ–ç›®å½•ï¼Œç§°ä¸ºè½¯é“¾æ¥ã€‚

`ln -s æºæ–‡ä»¶æˆ–ç›®å½• ç›®æ ‡æ–‡ä»¶æˆ–ç›®å½•`

>è½¯é“¾æ¥å°±æ˜¯å†åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶ï¼Œè€Œè¿™ä¸ªæ–‡ä»¶ä¼šè®©æ•°æ®çš„è¯»å–æŒ‡å‘å®ƒè¿æ¥çš„é‚£ä¸ªæ–‡ä»¶çš„æ–‡ä»¶åã€‚
>
>ä¾‹å¦‚ï¼Œæ–‡ä»¶`A`å’Œæ–‡ä»¶`B`çš„`inode`å·ç è™½ç„¶ä¸ä¸€æ ·ï¼Œä½†æ˜¯æ–‡ä»¶`A`çš„å†…å®¹æ˜¯æ–‡ä»¶`B`çš„è·¯å¾„ã€‚è¯»å–æ–‡ä»¶`A`æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å°†è®¿é—®è€…å¯¼å‘æ–‡ä»¶`B`ã€‚è¿™æ—¶ï¼Œæ–‡ä»¶`A`å°±ç§°ä¸ºæ–‡ä»¶`B`çš„è½¯é“¾æ¥`soft link`æˆ–è€…ç¬¦å·é“¾æ¥`symbolic link`ã€‚



>è¿™æ„å‘³ç€ï¼Œæ–‡ä»¶`A`ä¾èµ–äºæ–‡ä»¶`B`è€Œå­˜åœ¨ï¼Œå¦‚æœåˆ é™¤äº†æ–‡ä»¶`B`ï¼Œæ‰“å¼€æ–‡ä»¶`A`å°±ä¼šæŠ¥é”™ã€‚
>
>è¿™æ˜¯è½¯é“¾æ¥ä¸ç¡¬é“¾æ¥æœ€å¤§çš„ä¸åŒï¼š
>
>æ–‡ä»¶`A`æŒ‡å‘æ–‡ä»¶`B`çš„æ–‡ä»¶åï¼Œè€Œä¸æ˜¯æ–‡ä»¶`B`çš„`inode`å·ç ï¼Œ
>
>æ–‡ä»¶`B`çš„`inode`é“¾æ¥æ•°ä¸ä¼šå› æ­¤å‘ç”Ÿå˜åŒ–ã€‚







# ä¹ã€shellå®ç°çº¿æ€§ç­›



<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if [[ $# -ne 2 ]];then</span><br><span class="line">	echo &quot;Usage: $0 start end&quot;</span><br><span class="line">	exit</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">start=$1</span><br><span class="line">end=$2</span><br><span class="line"></span><br><span class="line">declare -a prime</span><br><span class="line">sum=0</span><br><span class="line">for (( i=2; i&lt;=$&#123;end&#125;; i++ ));do</span><br><span class="line">	if [[ $&#123;prime[$i]&#125;x == x ]];then</span><br><span class="line">		prime[0]=$[ $&#123;prime[0]&#125; + 1 ]</span><br><span class="line"><span class="meta">		prime[$</span><span class="bash">&#123;prime[0]&#125;]=<span class="variable">$&#123;i&#125;</span></span></span><br><span class="line">	fi</span><br><span class="line">	for (( j=1; j&lt;=$&#123;prime[0]&#125;; j++ ));do</span><br><span class="line">		if [[ $[ $i * $&#123;prime[$j]&#125; ] -gt $&#123;end&#125; ]];then</span><br><span class="line">			break;</span><br><span class="line">		fi</span><br><span class="line"></span><br><span class="line">	done</span><br><span class="line">done</span><br><span class="line">for (( i=1; i&lt;=$&#123;prime[0]&#125;; i++ ));do</span><br><span class="line">	sum=$[ $&#123;sum&#125; + $&#123;prime[$i]&#125; ]</span><br><span class="line">done</span><br><span class="line">echo $sum</span><br></pre></td></tr></table></figure>






# åã€seq









1.æ›¿æ¢æ–‡ä»¶æ¯è¡Œä¸­ç¬¬ä¸€ä¸ªå‡ºç°çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¹¶æ‰“å°ç»“æœ:
`sed 's/&#123;&#123;regex&#125;&#125;/&#123;&#123;replace&#125;&#125;/&#39; &#123;&#123;filename&#125;&#125;</code></p>
</blockquote>
<p>2.***Replace all occurrences of an extended regular expression in a file, and print the result:<br><code>sed -r &#39;s/&#123;&#123;regex&#125;&#125;/&#123;&#123;replace&#125;&#125;/g&#39; &#123;&#123;filename&#125;&#125;</code></p>
<p><code>/g</code>å…¨å±€æ›¿æ¢</p>
<figure class="highlight zsh"><table><tr><td class="code"><pre><span class="line">at a.log | sed <span class="string">&#x27;s/abc/123/&#x27;</span>                  </span><br><span class="line">123123  abc</span><br><span class="line">frrrrrrtyd</span><br><span class="line">axcvrewgfdddddds</span><br><span class="line"> </span><br><span class="line">123</span><br><span class="line"></span><br><span class="line"> cat a.log | sed -r <span class="string">&#x27;s/abc/123/g&#x27;</span>                                         </span><br><span class="line">123123  123</span><br><span class="line">frrrrrrtyd</span><br><span class="line">axcvrewgfdddddds</span><br><span class="line"> </span><br><span class="line">123</span><br></pre></td></tr></table></figure>


<p>3.Replace all occurrences of a string in a file, overwriting the file (i.e. in-place):<br><code>sed -i &#39;s/&#123;&#123;find&#125;&#125;/&#123;&#123;replace&#125;&#125;/g&#39; &#123;&#123;filename&#125;&#125;</code></p>
<p>4.- Replace only on lines matching the line pattern:<br>   <code>sed &#39;/&#123;&#123;line_pattern&#125;&#125;/s/&#123;&#123;find&#125;&#125;/&#123;&#123;replace&#125;&#125;/&#39; &#123;&#123;filename&#125;&#125;</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sed  &#x27;/1/s/abc/123/&#x27; a.log                                                                          </span><br><span class="line">123123  abc</span><br><span class="line">frrrrrrtyd</span><br><span class="line">axcvrewgfdddddds</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">abc</span><br><span class="line"></span><br><span class="line">cat a.log                                                                                         </span><br><span class="line">abc123  abc</span><br><span class="line">frrrrrrtyd</span><br><span class="line">axcvrewgfdddddds</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">abc</span><br></pre></td></tr></table></figure>


<p>æ›¿æ¢å¸¸ç”¨</p>
<ol start="5">
<li>***Delete lines matching the line pattern:<br><code>sed &#39;/&#123;&#123;line_pattern&#125;&#125;/d&#39; &#123;&#123;filename&#125;&#125;</code></li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">åˆ é™¤5-7è¡Œ</span></span><br><span class="line">apricity@Apricity test % cat a.log | sed &quot;5,7d&quot;                         </span><br><span class="line">abc123  abc</span><br><span class="line">frrrrrrtyd</span><br><span class="line">axcvrewgfdddddds</span><br><span class="line"></span><br><span class="line">abc</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">apricity@Apricity test % cat a.log                                       </span><br><span class="line">abc123  abc</span><br><span class="line">frrrrrrtyd</span><br><span class="line">axcvrewgfdddddds</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">script</span></span><br><span class="line">echo &quot;abc&quot;</span><br><span class="line"><span class="meta">#</span><span class="bash">END</span></span><br><span class="line">abc</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">åªåˆ ä¸€è¡Œ</span></span><br><span class="line">apricity@Apricity test % cat a.log | sed &quot;/script/d&quot;                                                                          [0]</span><br><span class="line">abc123  abc</span><br><span class="line">frrrrrrtyd</span><br><span class="line">axcvrewgfdddddds</span><br><span class="line"></span><br><span class="line">echo &quot;abc&quot;</span><br><span class="line"><span class="meta">#</span><span class="bash">END</span></span><br><span class="line">abc</span><br></pre></td></tr></table></figure>


<p>6.***Replace separator / by any other character not used in the find or replace patterns, e.g., #: </p>
<p><code>sed &#39;s#&#123;&#123;find&#125;&#125;#&#123;&#123;replace&#125;&#125;#&#39; &#123;&#123;filename&#125;&#125;</code></p>
<p>å¯ä»¥ç”¨<code>#.,</code>ä»£æ›¿<code>/</code></p>
<p>7.Print the first 11 lines of a file:<br><code>sed 11q &#123;&#123;filename&#125;&#125;</code></p>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-08%20%E4%B8%8A%E5%8D%8811.53.06.png" alt="æˆªå±2020-12-08 ä¸Šåˆ11.53.06"></p>
<p>å°†123å…¨éƒ¨æ›¿æ¢ä¸ºabc</p>
<p>8.å°†è¡Œé¦–æ›¿æ¢ä¸º<code>$</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sed &#x27;s/^/\$/g&#x27; a.log                                                       </span><br><span class="line"><span class="meta">$</span><span class="bash">abc123  abc</span></span><br><span class="line"><span class="meta">$</span><span class="bash">frrrrrrtyd</span></span><br><span class="line"><span class="meta">$</span><span class="bash">axcvrewgfdddddds</span></span><br><span class="line"><span class="meta">$</span></span><br><span class="line"><span class="bash"><span class="variable">$#script</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"><span class="built_in">echo</span> <span class="string">&quot;abc&quot;</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"><span class="comment">#END</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">abc</span></span><br></pre></td></tr></table></figure>




<p>9.æ‰¾åˆ°//é‡Œé¢çš„å†…å®¹å¹¶ä¸”åˆ é™¤ç›´åˆ°è¡Œå°¾</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"> cat a.log | sed &#x27;/script/,$d&#x27;                                           </span><br><span class="line">abc123  abc</span><br><span class="line">frrrrrrtyd</span><br><span class="line">axcvrewgfdddddds</span><br><span class="line"></span><br></pre></td></tr></table></figure>








<h1 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h1><h2 id="1-vim"><a href="#1-vim" class="headerlink" title="1.vim"></a>1.vim</h2><p>å¿«é€Ÿè·³è½¬ï¼š</p>
<blockquote>
<p>è¡Œé¦–                    0</p>
<p>è¡Œå°¾                    $</p>
<p>æ–‡ä»¶å¼€å§‹      gg</p>
<p>æ–‡ä»¶æœ«å°¾        GG</p>
<p>ä»»æ„è¡Œ                :12,12G</p>
</blockquote>
<p>å¤åˆ¶</p>
<blockquote>
<p>æ‹·è´         yy</p>
<p>å‰ªåˆ‡            dd</p>
<p>å¤šè¡Œæ“ä½œ   3yy/dd</p>
</blockquote>
<p>åˆ é™¤</p>
<blockquote>
<p>x  åˆ é™¤</p>
<p>2dd</p>
<p>d2G         åˆ é™¤ä¸¤è¡Œ</p>
</blockquote>
<p>vimtuterå¸®åŠ©æ‰‹å†Œ</p>
<p>linux</p>
<blockquote>
<p>linuxå†å²     </p>
<p>linuxæœ¬è´¨ï¼šlinuxå†…æ ¸æ“ä½œç³»ç»Ÿï¼Œå…¶ä»–åŠŸèƒ½æ˜¯å„å¼€å‘å•†å¼€å‘</p>
<p>unixï¼šäº‘è®¡ç®—åå¼€å§‹å‡å°‘</p>
</blockquote>
<h2 id="2-shell"><a href="#2-shell" class="headerlink" title="2.shell"></a>2.shell</h2><p>zsh</p>
<blockquote>
<p>zshç›¸å…³æ–‡ä»¶</p>
<blockquote>
<p>zshenvï¼šä¸€èˆ¬æ”¾ç¯å¢ƒå˜é‡</p>
<p>zprofileï¼šç”¨äºç”¨æˆ·loginæ—¶è¯»å…¥ï¼ˆæ‰§è¡Œï¼‰çš„é…ç½®</p>
<p>zshrcï¼šç”¨æˆ·å¼€å¯äº¤äº’æ˜¯å‘½ä»¤è¡Œæ—¶è¯»å…¥çš„é…ç½®</p>
</blockquote>
<p>ç¯å¢ƒå˜é‡æ¦‚å¿µ:</p>
<p>ç¯å¢ƒå˜é‡æ˜¯åœ¨æ“ä½œç³»ç»Ÿä¸­ä¸€ä¸ªå…·æœ‰ç‰¹å®šåå­—çš„å¯¹è±¡ï¼Œå®ƒåŒ…å«äº†ä¸€ä¸ªæˆ–è€…å¤šä¸ªåº”ç”¨ç¨‹åºæ‰€å°†ä½¿ç”¨åˆ°çš„ä¿¡æ¯ã€‚</p>
<p>æ‰§è¡Œå‘½ä»¤çš„æœ¬è´¨ï¼šä»æ–‡ä»¶ç³»ç»Ÿè°ƒç”¨æ‰§è¡Œæ–‡ä»¶ï¼Œè¿”å›ç»“æœ</p>
</blockquote>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-15%20%E4%B8%8A%E5%8D%8811.47.50.png" alt="æˆªå±2020-12-15 ä¸Šåˆ11.47.50"></p>
<p>åƒµå°¸è¿›ç¨‹ï¼Œçˆ¶äº²ç”Ÿäº†å­©å­ï¼Œå­©å­æ²¡æœ‰è¢«å›æ”¶</p>
<p>manæ‰‹å†Œ</p>
<blockquote>
<p>man  </p>
<p>tldr</p>
<p>man -k</p>
<p>æ£€ç´¢   å‰åç§»åŠ¨</p>
<p>Baidu</p>
<p>æŸ¥æ‰¾å‘½ä»¤</p>
<p>tab          è‡ªåŠ¨è¡¥å…¨å‘½ä»¤</p>
<p>man -k</p>
<ul>
<li>man -kï¼šæ ¹æ®å…³é”®å­—æœç´¢è”æœºå¸®åŠ©ï¼Œæ˜¯ä¸€ç§æ¨¡ç³Šæœç´¢ã€‚ä¾‹å¦‚è¦æŸ¥æ‰¾â€passwdâ€ç›¸å…³çš„ä¿¡æ¯ï¼Œä½¿ç”¨man -k passwdä¼šæ‰¾åˆ°å¾ˆå¤šå’Œpasswdç›¸å…³çš„å¸®åŠ©é¡µã€‚</li>
<li>man -fï¼šå…³é”®å­—ç²¾ç¡®æœç´¢ï¼Œä¸-kä¸åŒï¼Œå®ƒåªæœç´¢ä¸å…³é”®å­—å®Œå…¨åŒ¹é…çš„å¸®åŠ©é¡µ</li>
</ul>
</blockquote>
<h2 id="3-linuxå…·ä½“ä½¿ç”¨"><a href="#3-linuxå…·ä½“ä½¿ç”¨" class="headerlink" title="3.linuxå…·ä½“ä½¿ç”¨"></a>3.linuxå…·ä½“ä½¿ç”¨</h2><p>æ–‡ä»¶åŠç›®å½•</p>
<p>è¿œç¨‹æ‹·è´ssh  ã€sshfsã€scp</p>
<p>sshfs:è¿œç¨‹æŒ‚è½½</p>
<p>æ–‡ä»¶æŸ¥é˜…  <a href="#3.%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9%E6%9F%A5%E9%98%85">æŸ¥é˜…</a></p>
<blockquote>
<p><code>cat</code></p>
<p><code>head</code></p>
<ul>
<li>-n&lt;è¡Œæ•°&gt; æ˜¾ç¤ºçš„è¡Œæ•°ã€‚</li>
</ul>
<p><code>tail</code></p>
<ul>
<li>-n&lt;è¡Œæ•°&gt; æ˜¾ç¤ºæ–‡ä»¶çš„å°¾éƒ¨ n è¡Œå†…å®¹</li>
</ul>
<p><code>tail -f</code></p>
<ul>
<li><p>-f å¾ªç¯è¯»å–</p>
</li>
<li><pre><code>tail -f notes.log
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">  æ­¤å‘½ä»¤æ˜¾ç¤º notes.log æ–‡ä»¶çš„æœ€å 10 è¡Œã€‚å½“å°†æŸäº›è¡Œæ·»åŠ è‡³ notes.log æ–‡ä»¶æ—¶ï¼Œtail å‘½ä»¤ä¼šç»§ç»­æ˜¾ç¤ºè¿™äº›è¡Œã€‚ æ˜¾ç¤ºä¸€ç›´ç»§ç»­ï¼Œç›´åˆ°æ‚¨æŒ‰ä¸‹ï¼ˆCtrl-Cï¼‰ç»„åˆé”®åœæ­¢æ˜¾ç¤ºã€‚</span><br><span class="line"></span><br><span class="line">&#96;more&#96; </span><br><span class="line"></span><br><span class="line">&#96;less&#96;å¯å›çœ‹ã€æ£€ç´¢ä¿¡æ¯é«˜äº®æ˜¾ç¤º</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ç§»åŠ¨å’Œå¤åˆ¶</span><br><span class="line"></span><br><span class="line">&#96;cp&#96;</span><br><span class="line"></span><br><span class="line">&#96;mv&#96;</span><br><span class="line"></span><br><span class="line">&#96;ln&#96;ç¡¬é“¾æ¥ï¼Œè½¯é“¾æ¥</span><br><span class="line"></span><br><span class="line">&#96;rm&#96;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æ–‡ä»¶ç±»å‹åŠæƒé™  </span><br><span class="line"></span><br><span class="line">ä¸ƒç§ï¼š</span><br><span class="line"></span><br><span class="line">æ™®é€šæ–‡ä»¶</span><br><span class="line"></span><br><span class="line">ç›®å½•</span><br><span class="line"></span><br><span class="line">å­—ç¬¦</span><br><span class="line"></span><br><span class="line">å—</span><br><span class="line"></span><br><span class="line">ç®¡é“</span><br><span class="line"></span><br><span class="line">é“¾æ¥</span><br><span class="line"></span><br><span class="line">socket</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æƒé™ &#96;rwx&#96;   </span><br><span class="line"></span><br><span class="line">&gt;ç›®å½•&#96;x&#96;å¯ä»¥&#96;cd&#96;è¿›å»</span><br><span class="line"></span><br><span class="line">&gt;ç”¨æˆ·åˆ†ç»„ &#96;ugo&#96;</span><br><span class="line"></span><br><span class="line">&gt;å‘½ä»¤</span><br><span class="line"></span><br><span class="line">&gt;&#96;chmodã€chgrpã€chownã€usermod&#96;</span><br><span class="line"></span><br><span class="line">&gt;ç‰¹æ®Šæƒé™ï¼š</span><br><span class="line"></span><br><span class="line">&gt;&#96;set uid&#96;</span><br><span class="line"></span><br><span class="line">&gt;åªèƒ½æ”¹è‡ªå·±çš„æƒé™</span><br><span class="line"></span><br><span class="line">&gt;&#96;set gid&#96;		ç”¨æˆ·ä¸´æ—¶è¿›å…¥ç›®å½•æ—¶ï¼Œåˆ›å»ºä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œè¯¥ç”¨æˆ·ä¼šä¸´æ—¶å˜æˆç›®å½•æ‰€å±ç»„</span><br><span class="line"></span><br><span class="line">&gt;&#96;sed uid&#96;		å½“ç”¨æˆ·æ‰§è¡Œæ–‡ä»¶æ—¶ï¼Œç”¨æˆ·ä¸´æ—¶æ‹¥æœ‰æ­¤æ–‡ä»¶ï¼Œå¦‚å¯†ç æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">&gt;&#96;sbit&#96;é»ç€ä½		ç›®å½•ä¸‹çš„æ–‡ä»¶åªèƒ½è¢«æ‰€å±è€…åˆ æ‰</span><br><span class="line"></span><br><span class="line">&gt;éšè—å±æ€§  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">4.æ–‡ä»¶æ—¶é—´</span><br><span class="line"></span><br><span class="line">&#96;atime&#96;		è®¿é—®æ—¶é—´ï¼Œè·Ÿæ–°è¿‡äºé¢‘ç¹ä¹Ÿä¸å¥½ï¼Œè€—æ—¶</span><br><span class="line"></span><br><span class="line">&#96;ctime&#96;		ä¿®æ”¹æ—¶é—´</span><br><span class="line"></span><br><span class="line">&#96;mtime&#96;		ä¿®æ­£æ—¶é—´   lsé»˜è®¤</span><br><span class="line"></span><br><span class="line">&#96;touch&#96;       åˆ›å»ºæ–‡ä»¶ï¼Œä¿®æ”¹æ—¶é—´</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æ–‡ä»¶å®šä½ï¼š</span><br><span class="line"></span><br><span class="line">ç‰¹æ®Šæ–‡ä»¶ï¼š</span><br><span class="line"></span><br><span class="line">&#96;which&#96;</span><br><span class="line"></span><br><span class="line">&#96;whereis&#96;</span><br><span class="line"></span><br><span class="line">æ™®é€šæ–‡ä»¶</span><br><span class="line"></span><br><span class="line">&#96;locate&#96;  	db updatedb(åŸºäºæ•°æ®åº“)</span><br><span class="line"></span><br><span class="line">&#96;find&#96;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æ•°æ®å¤„ç†[æ•°æ®æå–æ“ä½œ](#ä¸ƒã€æ•°æ®æå–æ“ä½œ)</span><br><span class="line"></span><br><span class="line">cut		</span><br><span class="line"></span><br><span class="line">tr</span><br><span class="line"></span><br><span class="line">sort</span><br><span class="line"></span><br><span class="line">uniq</span><br><span class="line"></span><br><span class="line">grep</span><br><span class="line"></span><br><span class="line">awk</span><br><span class="line"></span><br><span class="line">sed</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">é‡å®šå‘</span><br><span class="line"></span><br><span class="line">\&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&gt;&gt;</span><br><span class="line"></span><br><span class="line">&lt;</span><br><span class="line"></span><br><span class="line">&lt;&lt;</span><br><span class="line"></span><br><span class="line">&#x2F;\&#96;a\&#96;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">è¯»å…¥æ•°æ®:read</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;shell</span><br><span class="line">vim 1.sh</span><br><span class="line">read a</span><br><span class="line">read b</span><br><span class="line">echo$[ $a + $b ]</span><br><span class="line"></span><br><span class="line">vim 1.in</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line"></span><br><span class="line">bash 1.sh &lt; 1.in</span><br><span class="line">5</span><br></pre></td></tr></table></figure></code></pre>
</li>
</ul>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">vim 2.sh</span><br><span class="line">str=&#x27;&#x27;</span><br><span class="line">read str</span><br><span class="line">echo $&#123;str&#125;</span><br><span class="line">vim 2.in</span><br><span class="line">guziqiu is 18years old.</span><br><span class="line"></span><br><span class="line">bash 2.sh &lt; 2.in</span><br></pre></td></tr></table></figure>






<p>è¿›ç¨‹ç®¡ç†</p>
<blockquote>
<p><code>fg</code></p>
<p><code>bg</code></p>
<p><code>jobs</code></p>
</blockquote>
<p>å®šæ—¶ä»»åŠ¡</p>
<blockquote>
<p>crontab -e</p>
</blockquote>
<p>ç³»ç»Ÿä¿¡æ¯è·å–</p>
<blockquote>
<p><code>unname</code></p>
<p><code>top</code></p>
<p><code>free</code></p>
<p><code>dstat</code></p>
<p><code>htop</code></p>
<p><code>nmon</code></p>
<p><code>uptime</code></p>
</blockquote>
<h2 id="4-shellç¼–ç¨‹"><a href="#4-shellç¼–ç¨‹" class="headerlink" title="4.shellç¼–ç¨‹"></a>4.shellç¼–ç¨‹</h2><p>å˜é‡</p>
<blockquote>
<p>å‘½ä»¤æ›¿æ¢ç¬¦</p>
<p>ç‰¹æ®Šå˜é‡</p>
<p><code>$0ï¿¥</code></p>
<p><code>$#</code></p>
<p><code>$?</code></p>
<p><code>$@</code></p>
<p><code>$*</code></p>
</blockquote>
<p>=ä¸¤è¾¹æ²¡æœ‰ç©ºæ ¼</p>
<p>è¾“å…¥è¾“å‡º</p>
<blockquote>
<p>read </p>
<p>echo </p>
<p>printf </p>
</blockquote>
<p>åˆ†æ”¯</p>
<blockquote>
<p>testè¡¨è¾¾å¼ </p>
<p>â€‹        man test</p>
<p>æ•´æ•°åˆ¤æ–­ï¼šæ•´æ•°è®¡ç®—</p>
<p>å­—ç¬¦ä¸²     ==</p>
</blockquote>
<blockquote>
<p>if [[  ]]</p>
</blockquote>
<blockquote>
<p>case</p>
</blockquote>
<p>å¾ªç¯ for </p>
<blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">for i in `seq 1 100`</span><br></pre></td></tr></table></figure>

<p><code>for (( i =1;  i&lt;= 100;i++ ))</code>(æ¨è)</p>
<p><code>while</code></p>
<p><code>until</code></p>
</blockquote>
<p>å‡½æ•°</p>
<p>æ•°ç»„</p>
<blockquote>
<p>æ•°ç»„åˆå§‹åŒ–</p>
<p>unset</p>
<p>éå†</p>
</blockquote>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/1.png" alt="1"></p>
]]></content>
      <tags>
        <tag>linuxåŸºç¡€</tag>
      </tags>
  </entry>
  <entry>
    <title>é«˜çº§æ•°æ®ç»“æ„</title>
    <url>/2021/01/18/%E9%AB%98%E7%BA%A7%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/</url>
    <content><![CDATA[<p>2020.12.22</p>
<h1 id="1-BSäºŒå‰æ’åºæ ‘"><a href="#1-BSäºŒå‰æ’åºæ ‘" class="headerlink" title="1.BSäºŒå‰æ’åºæ ‘"></a>1.BSäºŒå‰æ’åºæ ‘</h1><p>äºŒå‰æ’åºæ ‘ã€äºŒå‰æœç´¢æ ‘ã€äºŒå‰æŸ¥æ‰¾æ ‘ ã€Binary Search Tree</p>
<p>æ•°æ®ç»“æ„å®šä¹‰ä¸€ç§æ€§è´¨,å¹¶ä¸”ç»´æŠ¤è¿™ç§æ€§è´¨</p>
<a id="more"></a>

<h2 id="1-æ€§è´¨"><a href="#1-æ€§è´¨" class="headerlink" title="1.æ€§è´¨"></a>1.æ€§è´¨</h2><blockquote>
<p>1.å·¦å­æ ‘ &lt; æ ¹èŠ‚ç‚¹</p>
<p>2.æ ¹èŠ‚ç‚¹ &lt; å³å­æ ‘</p>
<p>3.ä¸­åºéå†çš„ç»“æœï¼Œæ˜¯ä¸€ä¸ªæœ‰åºåºåˆ—</p>
</blockquote>
<blockquote>
<p>ç”¨é€”ï¼šè§£å†³ä¸æ’åç›¸å…³çš„æ£€ç´¢éœ€æ±‚</p>
</blockquote>
<blockquote>
<p>æ ‘å‹ç»“æ„ï¼šè¾¹ä»£è¡¨å…³ç³»ï¼Œç‚¹ä»£è¡¨é›†åˆ</p>
</blockquote>
<h2 id="2-BSæ’å…¥æ“ä½œ"><a href="#2-BSæ’å…¥æ“ä½œ" class="headerlink" title="2.BSæ’å…¥æ“ä½œ"></a>2.BSæ’å…¥æ“ä½œ</h2><blockquote>
<p>1.æ’å…¥æ–°èŠ‚ç‚¹ï¼Œä¸€å®šä¼šä½œä¸ºå¶å­èŠ‚ç‚¹</p>
</blockquote>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-19%20%E4%B8%8B%E5%8D%886.39.38.png" alt="æˆªå±2020-12-19 ä¸‹åˆ6.39.38"></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function">Node *<span class="title">insert</span><span class="params">(Node *root, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">NULL</span>) <span class="keyword">return</span> getNewNode(val);</span><br><span class="line">    <span class="keyword">if</span> (root-&gt;data == val) <span class="keyword">return</span> root;</span><br><span class="line">    <span class="keyword">if</span> (val &lt; root-&gt;data) root-&gt;lchild = insert(root-&gt;lchild, val);</span><br><span class="line">    <span class="keyword">else</span> root-&gt;rchild = insert(root-&gt;rchild, val);</span><br><span class="line">    update_size(root);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="3-BSåˆ é™¤æ“ä½œ"><a href="#3-BSåˆ é™¤æ“ä½œ" class="headerlink" title="3.BSåˆ é™¤æ“ä½œ"></a>3.BSåˆ é™¤æ“ä½œ</h2><blockquote>
<p>1.åˆ é™¤å¶å­èŠ‚ç‚¹:ç›´æ¥åˆ é™¤ï¼Œ</p>
<p>2.åˆ é™¤åº¦ä¸º1çš„èŠ‚ç‚¹ï¼šæŠŠå­¤å„¿æ ‘æŒ‚åˆ°çˆ¶èŠ‚ç‚¹ä¸Šé¢</p>
<p>ï¼ˆæ›´æ–°å­©å­èŠ‚ç‚¹çš„å’Œçˆ¶äº²èŠ‚ç‚¹ï¼‰</p>
<p>3.åˆ é™¤åº¦ä¸º2çš„ç»“ç‚¹ï¼šæ‰¾åˆ°å‰é©±æˆ–è€…åç»§æ›¿æ¢åè½¬æ¢ä¸ºåº¦ä¸º 0æˆ–1çš„ç»“ç‚¹é—®é¢˜</p>
</blockquote>
<p>å¯¹äºåº¦ä¸º2 çš„èŠ‚ç‚¹ï¼š</p>
<blockquote>
<p>1.å‰é©±ï¼šå·¦å­æ ‘ä¸­çš„æœ€å¤§å€¼</p>
<p>2.åç»§ï¼šå³å­æ ‘ä¸­çš„æœ€å°å€¼</p>
</blockquote>
<p>å‰é©±æ²¡æœ‰å³å­æ ‘ï¼Œåé©±æ²¡æœ‰å·¦å­æ ‘ï¼Œå‰é©±å’Œè€…åç»§åº¦ä¸º0æˆ–1</p>
<p>èŠ‚ç‚¹æŸ¥æ‰¾æ¬¡æ•°çš„æœŸæœ›å€¼ï¼š</p>
<blockquote>
<p>å¹³å‡æŸ¥æ‰¾æ•ˆç‡ï¼šæ€»æŸ¥æ‰¾æ¬¡æ•°(1 + 2 * èŠ‚ç‚¹æ•° + 3 * èŠ‚ç‚¹æ•°â€¦ )/æ€»èŠ‚ç‚¹æ•°(n) </p>
<p>$\frac{æ€»æŸ¥æ‰¾æ¬¡æ•°}{èŠ‚ç‚¹æ•°}$</p>
<p>å‡è®¾æ¯ä¸ªç»“ç‚¹ç­‰æ¦‚ç‡è¢«æŸ¥æ‰¾</p>
</blockquote>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-19%20%E4%B8%8B%E5%8D%8811.15.08.png" alt="æˆªå±2020-12-19 ä¸‹åˆ11.15.08"></p>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-19%20%E4%B8%8B%E5%8D%8811.19.16.png" alt="æˆªå±2020-12-19 ä¸‹åˆ11.19.16"></p>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-21%20%E4%B8%8B%E5%8D%884.46.47.png" alt="æˆªå±2020-12-21 ä¸‹åˆ4.46.47"></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function">Node *<span class="title">erase</span><span class="params">(Node *root, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">if</span> (value &lt; root-&gt;data) &#123;</span><br><span class="line">        root-&gt;lchild = erase(root-&gt;lchild, value);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (value &gt; root-&gt;data) &#123;</span><br><span class="line">        root-&gt;lchild = erase(root-&gt;rchild, value);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;<span class="comment">//æ‰¾åˆ°ç»“ç‚¹</span></span><br><span class="line">       <span class="comment">/* if (root-&gt;lchild == NULL &amp;&amp; root-&gt;rchild == NULL) &#123;</span></span><br><span class="line"><span class="comment">            free(root);</span></span><br><span class="line"><span class="comment">            return NULL;</span></span><br><span class="line"><span class="comment">        &#125; else */</span></span><br><span class="line">        <span class="keyword">if</span> (root-&gt;lchild == <span class="literal">NULL</span> || root-&gt;rchild == <span class="literal">NULL</span>) &#123;</span><br><span class="line">            Node *temp = root-&gt;lchild ? root-&gt;lchild : root-&gt;rchild;</span><br><span class="line">            <span class="built_in">free</span>(root);</span><br><span class="line">            <span class="keyword">return</span> temp;<span class="comment">//è¿”å›åˆ é™¤èŠ‚ç‚¹çš„å­©å­èŠ‚ç‚¹ï¼Œå°†å­©å­ç»“ç‚¹æŒ‚è½½åˆ°è¢«åˆ é™¤èŠ‚ç‚¹çš„çˆ¶äº²èŠ‚ç‚¹ä¸Š</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;<span class="comment">//å°†ä¸¤ä¸ªç»“ç‚¹çš„æƒ…å†µè½¬æ¢ä¸ºä¸€ä¸ªç»“ç‚¹</span></span><br><span class="line">            Node *temp = predecessor(root);</span><br><span class="line">            root-&gt;data = temp-&gt;data;</span><br><span class="line">            root-&gt;lchild = erase(root-&gt;lchild, temp-&gt;data);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="4-BSä»£ç æ¼”ç¤º"><a href="#4-BSä»£ç æ¼”ç¤º" class="headerlink" title="4.BSä»£ç æ¼”ç¤º"></a>4.BSä»£ç æ¼”ç¤º</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> KEY(n) (n ? n-&gt;data : 0)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">lchild</span>, *<span class="title">rchild</span>;</span></span><br><span class="line">&#125; Node;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">getNewNode</span><span class="params">(<span class="keyword">int</span> _data)</span> </span>&#123;<span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line">    Node *p = (Node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">    p-&gt;data = _data;</span><br><span class="line">    p-&gt;lchild = p-&gt;rchild = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">search</span><span class="params">(Node *root, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (root-&gt;data == value) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (value &lt; root-&gt;data) <span class="keyword">return</span> search(root-&gt;lchild, value);</span><br><span class="line">    <span class="keyword">return</span> search(root-&gt;rchild, value);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function">Node *<span class="title">insert</span><span class="params">(Node *root, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">NULL</span>) <span class="keyword">return</span> getNewNode(val);</span><br><span class="line">    <span class="keyword">if</span> (root-&gt;data == val) <span class="keyword">return</span> root;</span><br><span class="line">    <span class="keyword">if</span> (val &lt; root-&gt;data) root-&gt;lchild = insert(root-&gt;lchild, val);</span><br><span class="line">    <span class="keyword">else</span> root-&gt;rchild = insert(root-&gt;rchild, val);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">predecessor</span><span class="params">(Node *root)</span> </span>&#123;<span class="comment">//å‰é©±</span></span><br><span class="line">    Node *temp = root-&gt;lchild;</span><br><span class="line">    <span class="keyword">while</span>(temp &amp;&amp; temp-&gt;rchild) temp = temp-&gt;rchild;</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">erase</span><span class="params">(Node *root, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">if</span> (value &lt; root-&gt;data) &#123;</span><br><span class="line">        root-&gt;lchild = erase(root-&gt;lchild, value);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (value &gt; root-&gt;data) &#123;</span><br><span class="line">        root-&gt;lchild = erase(root-&gt;rchild, value);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;<span class="comment">//æ‰¾åˆ°ç»“ç‚¹</span></span><br><span class="line">       <span class="comment">/* if (root-&gt;lchild == NULL &amp;&amp; root-&gt;rchild == NULL) &#123;</span></span><br><span class="line"><span class="comment">            free(root);</span></span><br><span class="line"><span class="comment">            return NULL;</span></span><br><span class="line"><span class="comment">        &#125; else */</span></span><br><span class="line">        <span class="keyword">if</span> (root-&gt;lchild == <span class="literal">NULL</span> || root-&gt;rchild == <span class="literal">NULL</span>) &#123;</span><br><span class="line">            Node *temp = root-&gt;lchild ? root-&gt;lchild : root-&gt;rchild;</span><br><span class="line">            <span class="built_in">free</span>(root);</span><br><span class="line">            <span class="keyword">return</span> temp;<span class="comment">//è¿”å›åˆ é™¤èŠ‚ç‚¹çš„å­©å­èŠ‚ç‚¹ï¼Œå°†å­©å­ç»“ç‚¹æŒ‚è½½åˆ°è¢«åˆ é™¤èŠ‚ç‚¹çš„çˆ¶äº²èŠ‚ç‚¹ä¸Š</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;<span class="comment">//å°†ä¸¤ä¸ªç»“ç‚¹çš„æƒ…å†µè½¬æ¢ä¸ºä¸€ä¸ªç»“ç‚¹</span></span><br><span class="line">            Node *temp = predecessor(root);</span><br><span class="line">            root-&gt;data = temp-&gt;data;</span><br><span class="line">            root-&gt;lchild = erase(root-&gt;lchild, temp-&gt;data);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">clear</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">NULL</span>) <span class="keyword">return</span> ;</span><br><span class="line">    clear(root-&gt;lchild);</span><br><span class="line">    clear(root-&gt;rchild);</span><br><span class="line">    <span class="built_in">free</span>(root);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">NULL</span>) <span class="keyword">return</span> ;</span><br><span class="line">    output(root-&gt;lchild);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d  &quot;</span>, root-&gt;data);</span><br><span class="line">    output(root-&gt;rchild);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output1</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">NULL</span>) <span class="keyword">return</span> ;</span><br><span class="line">    output1(root-&gt;lchild);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(%d,%d,%d)\n&quot;</span>, KEY(root), KEY(root-&gt;lchild), KEY(root-&gt;rchild));</span><br><span class="line">    output1(root-&gt;rchild);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> op, val;</span><br><span class="line">    Node *root = <span class="literal">NULL</span>;<span class="comment">//!!!!!!!!!!!!!!!</span></span><br><span class="line">    <span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;op, &amp;val)) &#123;</span><br><span class="line">        <span class="comment">//0ï¼šæŸ¥æ‰¾ 1ï¼šæ’å…¥ 2ï¼š åˆ é™¤</span></span><br><span class="line">        <span class="keyword">switch</span> (op) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:<span class="built_in">printf</span>(<span class="string">&quot;search %d, result : %d \n&quot;</span>, val, search(root, val)); <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:&#123;</span><br><span class="line">                   <span class="built_in">printf</span>(<span class="string">&quot;insert: %d \n&quot;</span>, val);</span><br><span class="line">                   root = insert(root, val);</span><br><span class="line">                   <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">               &#125;<span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:&#123;</span><br><span class="line">                   <span class="built_in">printf</span>(<span class="string">&quot;erase: %d \n&quot;</span>, val);</span><br><span class="line">                   root = erase(root, val);</span><br><span class="line">                   <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">               &#125; <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (op) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;\ntree ==&gt; [&quot;</span>);</span><br><span class="line">            output(root);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;]\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (op) output1(root);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n------------------\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    clear(root);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




<h2 id="5-BSè§£å†³æ’åç›¸å…³çš„éœ€æ±‚"><a href="#5-BSè§£å†³æ’åç›¸å…³çš„éœ€æ±‚" class="headerlink" title="5.BSè§£å†³æ’åç›¸å…³çš„éœ€æ±‚"></a>5.BSè§£å†³æ’åç›¸å…³çš„éœ€æ±‚</h2><p>è¾“å‡ºç¬¬kå¤§çš„å…ƒç´ </p>
<ol>
<li>ä¿®æ”¹äºŒå‰æ’åºæ ‘çš„ç»“æ„å®šä¹‰ï¼Œå¢åŠ  size å­—æ®µï¼Œè®°å½•æ¯æ£µæ ‘çš„èŠ‚ç‚¹æ•°é‡</li>
<li>$k - 1= LS$ï¼Œæ ¹èŠ‚ç‚¹å°±æ˜¯æ’åç¬¬ k ä½çš„å…ƒç´ </li>
<li>$k \le LS$ï¼Œæ’åç¬¬ k ä½çš„å…ƒç´ åœ¨å·¦å­æ ‘ä¸­</li>
<li>$k \gt LSï¼Œsearch_k(root-&gt;rchild, k - LS - 1)$</li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> KEY(n) (n ? n-&gt;data : 0)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SIZE(n) (n ? n-&gt;size : 0)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> data, size;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">lchild</span>, *<span class="title">rchild</span>;</span></span><br><span class="line">&#125; Node;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">getNewNode</span><span class="params">(<span class="keyword">int</span> _data)</span> </span>&#123;<span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line">    Node *p = (Node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">    p-&gt;data = _data;</span><br><span class="line">    p-&gt;size = <span class="number">1</span>;</span><br><span class="line">    p-&gt;lchild = p-&gt;rchild = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">search</span><span class="params">(Node *root, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (root-&gt;data == value) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (value &lt; root-&gt;data) <span class="keyword">return</span> search(root-&gt;lchild, value);</span><br><span class="line">    <span class="keyword">return</span> search(root-&gt;rchild, value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">search_k</span><span class="params">(Node *root, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">if</span> (SIZE(root-&gt;lchild) == k - <span class="number">1</span>) <span class="keyword">return</span> root-&gt;data;</span><br><span class="line">    <span class="keyword">if</span> (k &lt;= SIZE(root-&gt;lchild)) &#123;</span><br><span class="line">        <span class="keyword">return</span> search_k(root-&gt;lchild, k);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> search_k(root-&gt;rchild, k - SIZE(root-&gt;lchild) - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update_size</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    root-&gt;size = SIZE(root-&gt;lchild)  + SIZE(root-&gt;rchild) + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">insert</span><span class="params">(Node *root, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">NULL</span>) <span class="keyword">return</span> getNewNode(val);</span><br><span class="line">    <span class="keyword">if</span> (root-&gt;data == val) <span class="keyword">return</span> root;</span><br><span class="line">    <span class="keyword">if</span> (val &lt; root-&gt;data) root-&gt;lchild = insert(root-&gt;lchild, val);</span><br><span class="line">    <span class="keyword">else</span> root-&gt;rchild = insert(root-&gt;rchild, val);</span><br><span class="line">    update_size(root);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">predecessor</span><span class="params">(Node *root)</span> </span>&#123;<span class="comment">//å‰é©±</span></span><br><span class="line">    Node *temp = root-&gt;lchild;</span><br><span class="line">    <span class="keyword">while</span>(temp &amp;&amp; temp-&gt;rchild) temp = temp-&gt;rchild;</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">erase</span><span class="params">(Node *root, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">if</span> (value &lt; root-&gt;data) &#123;</span><br><span class="line">        root-&gt;lchild = erase(root-&gt;lchild, value);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (value &gt; root-&gt;data) &#123;</span><br><span class="line">        root-&gt;lchild = erase(root-&gt;rchild, value);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;<span class="comment">//æ‰¾åˆ°ç»“ç‚¹</span></span><br><span class="line">       <span class="comment">/* if (root-&gt;lchild == NULL &amp;&amp; root-&gt;rchild == NULL) &#123;</span></span><br><span class="line"><span class="comment">            free(root);</span></span><br><span class="line"><span class="comment">            return NULL;</span></span><br><span class="line"><span class="comment">        &#125; else */</span></span><br><span class="line">        <span class="keyword">if</span> (root-&gt;lchild == <span class="literal">NULL</span> || root-&gt;rchild == <span class="literal">NULL</span>) &#123;</span><br><span class="line">            Node *temp = root-&gt;lchild ? root-&gt;lchild : root-&gt;rchild;</span><br><span class="line">            <span class="built_in">free</span>(root);</span><br><span class="line">            <span class="keyword">return</span> temp;<span class="comment">//è¿”å›åˆ é™¤èŠ‚ç‚¹çš„å­©å­èŠ‚ç‚¹ï¼Œå°†å­©å­ç»“ç‚¹æŒ‚è½½åˆ°è¢«åˆ é™¤èŠ‚ç‚¹çš„çˆ¶äº²èŠ‚ç‚¹ä¸Š</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;<span class="comment">//å°†ä¸¤ä¸ªç»“ç‚¹çš„æƒ…å†µè½¬æ¢ä¸ºä¸€ä¸ªç»“ç‚¹</span></span><br><span class="line">            Node *temp = predecessor(root);</span><br><span class="line">            root-&gt;data = temp-&gt;data;</span><br><span class="line">            root-&gt;lchild = erase(root-&gt;lchild, temp-&gt;data);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    update_size(root);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">clear</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">NULL</span>) <span class="keyword">return</span> ;</span><br><span class="line">    clear(root-&gt;lchild);</span><br><span class="line">    clear(root-&gt;rchild);</span><br><span class="line">    <span class="built_in">free</span>(root);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">NULL</span>) <span class="keyword">return</span> ;</span><br><span class="line">    output(root-&gt;lchild);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d[%d] &quot;</span>, root-&gt;data, SIZE(root));</span><br><span class="line">    output(root-&gt;rchild);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output1</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">NULL</span>) <span class="keyword">return</span> ;</span><br><span class="line">    output1(root-&gt;lchild);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(%d[%d],%d,%d)\n&quot;</span>, KEY(root), SIZE(root), KEY(root-&gt;lchild), KEY(root-&gt;rchild));</span><br><span class="line">    output1(root-&gt;rchild);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> op, val;</span><br><span class="line">    Node *root = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;op, &amp;val)) &#123;</span><br><span class="line">        <span class="comment">//0ï¼šæŸ¥æ‰¾ 1ï¼šæ’å…¥ 2ï¼š åˆ é™¤</span></span><br><span class="line">        <span class="keyword">switch</span> (op) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:<span class="built_in">printf</span>(<span class="string">&quot;search %d, result : %d \n&quot;</span>, val, search(root, val)); <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:&#123;</span><br><span class="line">                   <span class="built_in">printf</span>(<span class="string">&quot;insert: %d \n&quot;</span>, val);</span><br><span class="line">                   root = insert(root, val);</span><br><span class="line">                   <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">               &#125;<span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:&#123;</span><br><span class="line">                   <span class="built_in">printf</span>(<span class="string">&quot;erase: %d \n&quot;</span>, val);</span><br><span class="line">                   root = erase(root, val);</span><br><span class="line">                   <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">               &#125; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>: &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;search k = %d, result : %d\n&quot;</span>,</span><br><span class="line">                    val, search_k(root, val));</span><br><span class="line">            &#125; <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (op) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;\ntree ==&gt; [&quot;</span>);</span><br><span class="line">            output(root);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;]\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (op) output1(root);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n------------------\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    clear(root);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">1</span> <span class="number">1</span></span><br><span class="line">insert: <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tree ==&gt; [<span class="number">1</span>[<span class="number">1</span>] ]</span><br><span class="line">(<span class="number">1</span>[<span class="number">1</span>],<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">------------------</span><br><span class="line"><span class="number">1</span> <span class="number">2</span></span><br><span class="line">insert: <span class="number">2</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tree ==&gt; [<span class="number">1</span>[<span class="number">2</span>] <span class="number">2</span>[<span class="number">1</span>] ]</span><br><span class="line">(<span class="number">1</span>[<span class="number">2</span>],<span class="number">0</span>,<span class="number">2</span>)</span><br><span class="line">(<span class="number">2</span>[<span class="number">1</span>],<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">------------------</span><br><span class="line"> <span class="number">1</span> <span class="number">3</span></span><br><span class="line">insert: <span class="number">3</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tree ==&gt; [<span class="number">1</span>[<span class="number">3</span>] <span class="number">2</span>[<span class="number">2</span>] <span class="number">3</span>[<span class="number">1</span>] ]</span><br><span class="line">(<span class="number">1</span>[<span class="number">3</span>],<span class="number">0</span>,<span class="number">2</span>)</span><br><span class="line">(<span class="number">2</span>[<span class="number">2</span>],<span class="number">0</span>,<span class="number">3</span>)</span><br><span class="line">(<span class="number">3</span>[<span class="number">1</span>],<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">------------------</span><br><span class="line"><span class="number">1</span> <span class="number">4</span></span><br><span class="line">insert: <span class="number">4</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tree ==&gt; [<span class="number">1</span>[<span class="number">4</span>] <span class="number">2</span>[<span class="number">3</span>] <span class="number">3</span>[<span class="number">2</span>] <span class="number">4</span>[<span class="number">1</span>] ]</span><br><span class="line">(<span class="number">1</span>[<span class="number">4</span>],<span class="number">0</span>,<span class="number">2</span>)</span><br><span class="line">(<span class="number">2</span>[<span class="number">3</span>],<span class="number">0</span>,<span class="number">3</span>)</span><br><span class="line">(<span class="number">3</span>[<span class="number">2</span>],<span class="number">0</span>,<span class="number">4</span>)</span><br><span class="line">(<span class="number">4</span>[<span class="number">1</span>],<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">------------------</span><br><span class="line"><span class="number">1</span> <span class="number">5</span></span><br><span class="line">insert: <span class="number">5</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tree ==&gt; [<span class="number">1</span>[<span class="number">5</span>] <span class="number">2</span>[<span class="number">4</span>] <span class="number">3</span>[<span class="number">3</span>] <span class="number">4</span>[<span class="number">2</span>] <span class="number">5</span>[<span class="number">1</span>] ]</span><br><span class="line">(<span class="number">1</span>[<span class="number">5</span>],<span class="number">0</span>,<span class="number">2</span>)</span><br><span class="line">(<span class="number">2</span>[<span class="number">4</span>],<span class="number">0</span>,<span class="number">3</span>)</span><br><span class="line">(<span class="number">3</span>[<span class="number">3</span>],<span class="number">0</span>,<span class="number">4</span>)</span><br><span class="line">(<span class="number">4</span>[<span class="number">2</span>],<span class="number">0</span>,<span class="number">5</span>)</span><br><span class="line">(<span class="number">5</span>[<span class="number">1</span>],<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">------------------</span><br><span class="line"><span class="number">3</span> <span class="number">1</span></span><br><span class="line">search k = <span class="number">1</span>, result : <span class="number">1</span></span><br><span class="line"></span><br><span class="line">tree ==&gt; [<span class="number">1</span>[<span class="number">5</span>] <span class="number">2</span>[<span class="number">4</span>] <span class="number">3</span>[<span class="number">3</span>] <span class="number">4</span>[<span class="number">2</span>] <span class="number">5</span>[<span class="number">1</span>] ]</span><br><span class="line">(<span class="number">1</span>[<span class="number">5</span>],<span class="number">0</span>,<span class="number">2</span>)</span><br><span class="line">(<span class="number">2</span>[<span class="number">4</span>],<span class="number">0</span>,<span class="number">3</span>)</span><br><span class="line">(<span class="number">3</span>[<span class="number">3</span>],<span class="number">0</span>,<span class="number">4</span>)</span><br><span class="line">(<span class="number">4</span>[<span class="number">2</span>],<span class="number">0</span>,<span class="number">5</span>)</span><br><span class="line">(<span class="number">5</span>[<span class="number">1</span>],<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">------------------</span><br><span class="line"><span class="number">3</span> <span class="number">2</span></span><br><span class="line">search k = <span class="number">2</span>, result : <span class="number">2</span></span><br><span class="line"></span><br><span class="line">tree ==&gt; [<span class="number">1</span>[<span class="number">5</span>] <span class="number">2</span>[<span class="number">4</span>] <span class="number">3</span>[<span class="number">3</span>] <span class="number">4</span>[<span class="number">2</span>] <span class="number">5</span>[<span class="number">1</span>] ]</span><br><span class="line">(<span class="number">1</span>[<span class="number">5</span>],<span class="number">0</span>,<span class="number">2</span>)</span><br><span class="line">(<span class="number">2</span>[<span class="number">4</span>],<span class="number">0</span>,<span class="number">3</span>)</span><br><span class="line">(<span class="number">3</span>[<span class="number">3</span>],<span class="number">0</span>,<span class="number">4</span>)</span><br><span class="line">(<span class="number">4</span>[<span class="number">2</span>],<span class="number">0</span>,<span class="number">5</span>)</span><br><span class="line">(<span class="number">5</span>[<span class="number">1</span>],<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">------------------</span><br><span class="line"><span class="number">3</span> <span class="number">4</span></span><br><span class="line">search k = <span class="number">4</span>, result : <span class="number">4</span></span><br><span class="line"></span><br><span class="line">tree ==&gt; [<span class="number">1</span>[<span class="number">5</span>] <span class="number">2</span>[<span class="number">4</span>] <span class="number">3</span>[<span class="number">3</span>] <span class="number">4</span>[<span class="number">2</span>] <span class="number">5</span>[<span class="number">1</span>] ]</span><br><span class="line">(<span class="number">1</span>[<span class="number">5</span>],<span class="number">0</span>,<span class="number">2</span>)</span><br><span class="line">(<span class="number">2</span>[<span class="number">4</span>],<span class="number">0</span>,<span class="number">3</span>)</span><br><span class="line">(<span class="number">3</span>[<span class="number">3</span>],<span class="number">0</span>,<span class="number">4</span>)</span><br><span class="line">(<span class="number">4</span>[<span class="number">2</span>],<span class="number">0</span>,<span class="number">5</span>)</span><br><span class="line">(<span class="number">5</span>[<span class="number">1</span>],<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">------------------</span><br></pre></td></tr></table></figure>




<h2 id="6-BSè§£å†³Top-K-é—®é¢˜"><a href="#6-BSè§£å†³Top-K-é—®é¢˜" class="headerlink" title="6.BSè§£å†³Top-K é—®é¢˜"></a>6.BSè§£å†³Top-K é—®é¢˜</h2><p>ï¼ˆæ‰¾åˆ°å°äºç¬¬ k ä½çš„æ‰€æœ‰å…ƒç´ ï¼‰</p>
<ol>
<li>æ ¹èŠ‚ç‚¹å°±æ˜¯ç¬¬ k ä½å…ƒç´ çš„è¯ï¼Œå°±æŠŠå·¦å­æ ‘ä¸­çš„å€¼å…¨éƒ¨è¾“å‡ºå‡ºæ¥</li>
<li>ç¬¬ k ä½åœ¨å·¦å­æ ‘ä¸­ï¼Œå‰ k ä½å…ƒç´ å…¨éƒ½åœ¨å·¦å­æ ‘ä¸­</li>
<li>ç¬¬ k ä½åœ¨å³å­æ ‘ä¸­ï¼Œè¯´æ˜æ ¹èŠ‚ç‚¹å’Œå·¦å­æ ‘ä¸­çš„å…ƒç´ ï¼Œéƒ½æ˜¯å‰ k ä½å…ƒç´ é‡Œé¢çš„å€¼</li>
</ol>
<p>æ‰€è°“ç®—æ³•è®¾è®¡åŠåˆ†æèƒ½åŠ›ï¼šåˆ†ç±»è®¨è®ºåŠå½’çº³æ€»ç»“çš„èƒ½åŠ›</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> KEY(n) (n ? n-&gt;data : 0)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SIZE(n) (n ? n-&gt;size : 0)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> L(n) (n ? n-&gt;lchild : NULL)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> data, size;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">lchild</span>, *<span class="title">rchild</span>;</span></span><br><span class="line">&#125; Node;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">getNewNode</span><span class="params">(<span class="keyword">int</span> _data)</span> </span>&#123;<span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line">    Node *p = (Node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">    p-&gt;data = _data;</span><br><span class="line">    p-&gt;size = <span class="number">1</span>;</span><br><span class="line">    p-&gt;lchild = p-&gt;rchild = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">search</span><span class="params">(Node *root, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (root-&gt;data == value) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (value &lt; root-&gt;data) <span class="keyword">return</span> search(root-&gt;lchild, value);</span><br><span class="line">    <span class="keyword">return</span> search(root-&gt;rchild, value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">search_k</span><span class="params">(Node *root, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">if</span> (SIZE(root-&gt;lchild) == k - <span class="number">1</span>) <span class="keyword">return</span> root-&gt;data;</span><br><span class="line">    <span class="keyword">if</span> (k &lt;= SIZE(root-&gt;lchild)) &#123;</span><br><span class="line">        <span class="keyword">return</span> search_k(root-&gt;lchild, k);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> search_k(root-&gt;rchild, k - SIZE(root-&gt;lchild) - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update_size</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    root-&gt;size = SIZE(root-&gt;lchild)  + SIZE(root-&gt;rchild) + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">insert</span><span class="params">(Node *root, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">NULL</span>) <span class="keyword">return</span> getNewNode(val);</span><br><span class="line">    <span class="keyword">if</span> (root-&gt;data == val) <span class="keyword">return</span> root;</span><br><span class="line">    <span class="keyword">if</span> (val &lt; root-&gt;data) root-&gt;lchild = insert(root-&gt;lchild, val);</span><br><span class="line">    <span class="keyword">else</span> root-&gt;rchild = insert(root-&gt;rchild, val);</span><br><span class="line">    update_size(root);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">predecessor</span><span class="params">(Node *root)</span> </span>&#123;<span class="comment">//å‰é©±</span></span><br><span class="line">    Node *temp = root-&gt;lchild;</span><br><span class="line">    <span class="keyword">while</span>(temp-&gt;rchild) temp = temp-&gt;rchild;</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function">Node *<span class="title">erase</span><span class="params">(Node *root, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">if</span> (value &lt; root-&gt;data) &#123;</span><br><span class="line">        root-&gt;lchild =  erase(root-&gt;lchild, value);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (value &gt; root-&gt;data) &#123;</span><br><span class="line">        root-&gt;rchild =  erase(root-&gt;rchild, value);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;<span class="comment">//æ‰¾åˆ°ç»“ç‚¹</span></span><br><span class="line">       <span class="comment">/* if (root-&gt;lchild == NULL &amp;&amp; root-&gt;rchild == NULL) &#123;</span></span><br><span class="line"><span class="comment">            free(root);</span></span><br><span class="line"><span class="comment">            return NULL;</span></span><br><span class="line"><span class="comment">        &#125; else */</span></span><br><span class="line">        <span class="keyword">if</span> (root-&gt;lchild == <span class="literal">NULL</span> || root-&gt;rchild == <span class="literal">NULL</span>) &#123;</span><br><span class="line">            Node *temp = root-&gt;lchild ? root-&gt;lchild : root-&gt;rchild;</span><br><span class="line">            <span class="built_in">free</span>(root);</span><br><span class="line">            <span class="keyword">return</span> temp;<span class="comment">//è¿”å›åˆ é™¤èŠ‚ç‚¹çš„å­©å­èŠ‚ç‚¹ï¼Œå°†å­©å­ç»“ç‚¹æŒ‚è½½åˆ°è¢«åˆ é™¤èŠ‚ç‚¹çš„çˆ¶äº²èŠ‚ç‚¹ä¸Š</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;<span class="comment">//å°†ä¸¤ä¸ªç»“ç‚¹çš„æƒ…å†µè½¬æ¢ä¸ºä¸€ä¸ªç»“ç‚¹</span></span><br><span class="line">            Node *temp = predecessor(root);</span><br><span class="line">            root-&gt;data = temp-&gt;data;</span><br><span class="line">            root-&gt;lchild = erase(root-&gt;lchild, temp-&gt;data);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    update_size(root);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">clear</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">NULL</span>) <span class="keyword">return</span> ;</span><br><span class="line">    clear(root-&gt;lchild);</span><br><span class="line">    clear(root-&gt;rchild);</span><br><span class="line">    <span class="built_in">free</span>(root);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">NULL</span>) <span class="keyword">return</span> ;</span><br><span class="line">    output(root-&gt;lchild);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d[%d] &quot;</span>, root-&gt;data, SIZE(root));</span><br><span class="line">    output(root-&gt;rchild);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(%d[%d], %d, %d)\n&quot;</span>,</span><br><span class="line">           KEY(root), SIZE(root),</span><br><span class="line">           KEY(root-&gt;lchild), KEY(root-&gt;rchild)</span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output1</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">NULL</span>) <span class="keyword">return</span> ;</span><br><span class="line">    output1(root-&gt;lchild);</span><br><span class="line">    print(root);</span><br><span class="line">    output1(root-&gt;rchild);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output_k</span><span class="params">(Node *root, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (k == <span class="number">0</span> || root == <span class="literal">NULL</span>) <span class="keyword">return</span> ;</span><br><span class="line">    <span class="keyword">if</span> (k &lt;= SIZE(root-&gt;lchild)) output_k(root-&gt;lchild, k);</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        output1(root-&gt;lchild);</span><br><span class="line">        print(root);</span><br><span class="line">        output_k(root-&gt;rchild, k - SIZE(root-&gt;lchild) - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> op, val;</span><br><span class="line">    Node *root = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;op, &amp;val)) &#123;</span><br><span class="line">        <span class="comment">//0ï¼šæŸ¥æ‰¾ 1ï¼šæ’å…¥ 2ï¼š åˆ é™¤</span></span><br><span class="line">        <span class="keyword">switch</span> (op) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:<span class="built_in">printf</span>(<span class="string">&quot;search %d, result : %d \n&quot;</span>, val, search(root, val)); <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:&#123;</span><br><span class="line">                   <span class="built_in">printf</span>(<span class="string">&quot;insert: %d \n&quot;</span>, val);</span><br><span class="line">                   root = insert(root, val);</span><br><span class="line">                   <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">               &#125;<span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:&#123;</span><br><span class="line">                   <span class="built_in">printf</span>(<span class="string">&quot;erase: %d \n&quot;</span>, val);</span><br><span class="line">                   root = erase(root, val);</span><br><span class="line">                   <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">               &#125; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>: &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;search k = %d, result : %d\n&quot;</span>,</span><br><span class="line">                    val, search_k(root, val));</span><br><span class="line">            &#125; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>: &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;output top-%d elements\n&quot;</span>, val);</span><br><span class="line">                output_k(root, val);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;------------\n&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (op) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;\ntree ==&gt; [&quot;</span>);</span><br><span class="line">            output(root);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;]\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (op) output1(root);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n------------------\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    clear(root);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




<h2 id="7-äºŒå‰æ’åºæ ‘å’Œå¿«æ’çš„å…³ç³»"><a href="#7-äºŒå‰æ’åºæ ‘å’Œå¿«æ’çš„å…³ç³»" class="headerlink" title="7.äºŒå‰æ’åºæ ‘å’Œå¿«æ’çš„å…³ç³»"></a>7.äºŒå‰æ’åºæ ‘å’Œå¿«æ’çš„å…³ç³»</h2><ol>
<li><p>äºŒå‰æ’åºæ ‘æ˜¯å¿«é€Ÿæ’åºåœ¨æ€ç»´é€»è¾‘ç»“æ„å±‚é¢ç”¨çš„æ•°æ®ç»“æ„</p>
</li>
<li><p>æ€è€ƒ1ï¼šå¿«é€Ÿæ’åºçš„æ—¶é—´å¤æ‚åº¦å’ŒäºŒå‰æ’åºæ ‘å»ºæ ‘æ—¶é—´å¤æ‚åº¦ä¹‹é—´çš„å…³ç³»</p>
</li>
</ol>
<ol start="3">
<li>æ€è€ƒ2ï¼šå¿«é€Ÿé€‰æ‹©ç®—æ³•å’ŒäºŒå‰æ’åºæ ‘ä¹‹é—´çš„å…³ç³»</li>
</ol>
<ol start="4">
<li>ç¨‹åº=ç®—æ³•+æ•°æ®ç»“æ„</li>
</ol>
<h1 id="2-AVLå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘"><a href="#2-AVLå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘" class="headerlink" title="2.AVLå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘"></a>2.AVLå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘</h1><p>1962å¹´ï¼ˆ58ï¼‰</p>
<p>==<strong>AVLæ ‘</strong>==</p>
<h2 id="0-AVLæ ‘åŸç†"><a href="#0-AVLæ ‘åŸç†" class="headerlink" title="0.AVLæ ‘åŸç†"></a>0.AVLæ ‘åŸç†</h2><blockquote>
<p>AVLæ ‘åŸç†</p>
<p>è‡ªå¹³è¡¡æ¡ä»¶ã€æ—‹è½¬æ“ä½œã€æ—‹è½¬çš„è§¦å‘</p>
</blockquote>
<p>æ•°æ®æœºæ„ï¼šå®šä¹‰ä¸€ç§æ€§è´¨å¹¶ä¸”ç»´æŠ¤ä¸€ç§æ€§è´¨</p>
<h3 id="æ€§è´¨"><a href="#æ€§è´¨" class="headerlink" title="æ€§è´¨"></a>æ€§è´¨</h3><p>1.å·¦å³å­æ ‘é«˜åº¦å·® å°äºç­‰äº 1</p>
<p>2.å¹³è¡¡äºŒå‰æ’åºæ ‘ï¼Œæœ¬è´¨ä¸Šä¹Ÿæ˜¯äºŒå‰æ’åºæ ‘ï¼Œæ‰€ä»¥æ‹¥æœ‰äºŒå‰æ’åºæ ‘çš„æ‰€æœ‰æ€§è´¨</p>
<p>3.å¹³è¡¡äºŒå‰æ’åºæ ‘çš„å­¦ä¹ é‡ç‚¹ï¼šå¹³è¡¡æ¡ä»¶ä»¥åŠå¹³è¡¡è°ƒæ•´</p>
<blockquote>
<p>é«˜åº¦ä¸ºHçš„BSæ ‘æ‰€åŒ…å«çš„ç»“ç‚¹æ•°é‡åœ¨ä»€ä¹ˆèŒƒå›´å†…ï¼š $H \le SIZE \le 2^H-1$</p>
<p>é«˜åº¦ä¸ºHçš„AVLæ ‘æ‰€åŒ…å«çš„ç»“ç‚¹æ•°é‡åœ¨ä»€ä¹ˆèŒƒå›´å†…:  $1.5^H \le SIZE \le 2^H-1$</p>
<p>$low(H) \le SIZE \le 2^H-1$</p>
<p>$low(H-1) + low(H - 2) + 1\le SIZE \le 2^H-1$ï¼ˆæ–æ³¢é‚£å¥‘æ•°åˆ—ï¼‰</p>
<p>$1.5^H \le SIZE \le 2^H-1$</p>
</blockquote>
<p>äºŒå‰æ ‘æ€§è´¨ï¼šäºŒå‰æ ‘ç¬¬iå±‚æœ€å¤šæœ‰2^i-1^ä¸ªç»“ç‚¹ï¼Œæ·±åº¦ä¸ºkæœ€å¤šæœ‰2^k^-1ä¸ªç»“ç‚¹</p>
<p>==&gt;AVLèŠ‚ç‚¹æ•°nå’Œæ ‘é«˜hçš„å…³ç³»:h = logn</p>
<p>æ€è€ƒï¼š</p>
<ol>
<li>AVL æ ‘æ”¹è¿›çš„æ˜¯èŠ‚ç‚¹æ•°é‡çš„ä¸‹é™</li>
<li>æ ‘é«˜ = ç”Ÿå‘½é•¿åº¦ï¼ŒèŠ‚ç‚¹æ•°é‡ = ç”Ÿå‘½è´¢å¯Œï¼Œä¸åŒçš„ç®—æ³•ï¼Œè¾¾åˆ°çš„ç»“æœæ˜¯ä¸åŒçš„</li>
<li>æ•™è‚²æå‡çš„æ˜¯åº•é™ï¼Œè€Œä¸æ˜¯ä¸Šé™ï¼Œä¸Šé™å–å†³äºèƒ½åŠ›å’Œè¿æ°”</li>
</ol>
<h2 id="1-è‡ªå¹³è¡¡æ¡ä»¶"><a href="#1-è‡ªå¹³è¡¡æ¡ä»¶" class="headerlink" title="1.è‡ªå¹³è¡¡æ¡ä»¶"></a>1.è‡ªå¹³è¡¡æ¡ä»¶</h2><h3 id="1-å¹³è¡¡å› å­"><a href="#1-å¹³è¡¡å› å­" class="headerlink" title="1.å¹³è¡¡å› å­"></a>1.å¹³è¡¡å› å­</h3><p>æ¯ä¸ªå¹³è¡¡å› å­çš„æ˜¯æŒ‡å·¦å­æ ‘æœ€å¤§é«˜åº¦å’Œå³å­æ ‘æœ€å¤§é«˜åº¦å·®ï¼Œå¹³è¡¡å› å­ä¸º-1ï¼Œ0ï¼Œ1è¢«è®¤ä¸ºæ˜¯å¹³è¡¡çš„</p>
<h3 id="2-å¤±è¡¡ç±»å‹"><a href="#2-å¤±è¡¡ç±»å‹" class="headerlink" title="2.å¤±è¡¡ç±»å‹"></a>2.å¤±è¡¡ç±»å‹</h3><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-23%20%E4%B8%8B%E5%8D%886.08.06.png" alt="æˆªå±2020-12-23 ä¸‹åˆ6.08.06" style="zoom:67%;" />

<h2 id="2-æ—‹è½¬æ“ä½œï¼šå•æ—‹å’Œå¤šæ—‹"><a href="#2-æ—‹è½¬æ“ä½œï¼šå•æ—‹å’Œå¤šæ—‹" class="headerlink" title="2.æ—‹è½¬æ“ä½œï¼šå•æ—‹å’Œå¤šæ—‹"></a>2.æ—‹è½¬æ“ä½œï¼šå•æ—‹å’Œå¤šæ—‹</h2><h3 id="1-å•æ—‹"><a href="#1-å•æ—‹" class="headerlink" title="1.å•æ—‹"></a>1.å•æ—‹</h3><p>åˆ†ä¸ºå·¦æ—‹å’Œå³æ—‹ã€‚AVLæ ‘é€šè¿‡ä¸€ç³»åˆ—çš„å·¦æ—‹å’Œå³æ—‹æ“ä½œï¼Œå°†ä¸å¹³è¡¡çš„æ ‘è°ƒæ•´ä¸ºäºŒå‰æŸ¥æ‰¾æ ‘</p>
<h4 id="å·¦æ—‹ï¼š"><a href="#å·¦æ—‹ï¼š" class="headerlink" title="å·¦æ—‹ï¼š"></a>å·¦æ—‹ï¼š</h4><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-23%20%E4%B8%8B%E5%8D%886.03.51.png" alt="æˆªå±2020-12-23 ä¸‹åˆ6.03.51" style="zoom:50%;" />

<img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-21%20%E4%B8%8B%E5%8D%886.32.31.png" alt="æˆªå±2020-12-21 ä¸‹åˆ6.32.31" style="zoom: 67%;" />



<img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-21%20%E4%B8%8B%E5%8D%886.32.25.png" alt="æˆªå±2020-12-21 ä¸‹åˆ6.32.25" style="zoom:67%;" />



<h4 id="å³æ—‹"><a href="#å³æ—‹" class="headerlink" title="å³æ—‹"></a>å³æ—‹</h4><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-23%20%E4%B8%8B%E5%8D%886.03.57.png" alt="æˆªå±2020-12-23 ä¸‹åˆ6.03.57" style="zoom:67%;" />



<img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-21%20%E4%B8%8B%E5%8D%886.37.45.png" alt="æˆªå±2020-12-21 ä¸‹åˆ6.37.45" style="zoom:67%;" />



<img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-21%20%E4%B8%8B%E5%8D%886.37.41.png" alt="æˆªå±2020-12-21 ä¸‹åˆ6.37.41" style="zoom:67%;" />



<h3 id="2-å¤šæ—‹ï¼š"><a href="#2-å¤šæ—‹ï¼š" class="headerlink" title="2.å¤šæ—‹ï¼š"></a>2.å¤šæ—‹ï¼š</h3><p>ç”±ä¸¤æ¬¡å•æ—‹æ“ä½œç»„åˆè€Œæˆ</p>
<h4 id="1-å·¦æ—‹åŠ å³æ—‹LR"><a href="#1-å·¦æ—‹åŠ å³æ—‹LR" class="headerlink" title="1.å·¦æ—‹åŠ å³æ—‹LR"></a>1.å·¦æ—‹åŠ å³æ—‹LR</h4><h4 id=""><a href="#" class="headerlink" title=""></a><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-24%20%E4%B8%8B%E5%8D%8812.38.14.png" alt="æˆªå±2020-12-24 ä¸‹åˆ12.38.14" style="zoom:75%;" /></h4><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-23%20%E4%B8%8B%E5%8D%886.10.27.png" alt="æˆªå±2020-12-23 ä¸‹åˆ6.10.27" style="zoom:67%;" />



<img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/26252FD93F9BE46395BB71A8E8888D4A.jpg" alt="26252FD93F9BE46395BB71A8E8888D4A" style="zoom:67%;" />





<img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-21%20%E4%B8%8B%E5%8D%886.45.05.png" alt="æˆªå±2020-12-21 ä¸‹åˆ6.45.05" style="zoom:67%;" />



<img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-21%20%E4%B8%8B%E5%8D%886.45.01.png" alt="æˆªå±2020-12-21 ä¸‹åˆ6.45.01" style="zoom:67%;" />



<img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-21%20%E4%B8%8B%E5%8D%886.45.10.png" alt="æˆªå±2020-12-21 ä¸‹åˆ6.45.10" style="zoom:67%;" />



<h4 id="2-å³æ—‹åŠ å·¦æ—‹RL"><a href="#2-å³æ—‹åŠ å·¦æ—‹RL" class="headerlink" title="2.å³æ—‹åŠ å·¦æ—‹RL"></a>2.å³æ—‹åŠ å·¦æ—‹RL</h4><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-21%20%E4%B8%8B%E5%8D%886.47.47.png" alt="æˆªå±2020-12-21 ä¸‹åˆ6.47.47" style="zoom:67%;" />



<img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-21%20%E4%B8%8B%E5%8D%886.47.42.png" alt="æˆªå±2020-12-21 ä¸‹åˆ6.47.42" style="zoom:67%;" />





<img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-21%20%E4%B8%8B%E5%8D%886.47.52.png" alt="æˆªå±2020-12-21 ä¸‹åˆ6.47.52" style="zoom:67%;" />



<h4 id="3-LL"><a href="#3-LL" class="headerlink" title="3. LL"></a>3. LL</h4><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-23%20%E4%B8%8B%E5%8D%886.10.21.png" alt="æˆªå±2020-12-23 ä¸‹åˆ6.10.21" style="zoom:67%;" />



<img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/209777F2C379C9542061B8B56572755E.jpg" alt="209777F2C379C9542061B8B56572755E" style="zoom:67%;" />









<h4 id="4-RRä¸LLå¯¹ç§°"><a href="#4-RRä¸LLå¯¹ç§°" class="headerlink" title="4.RRä¸LLå¯¹ç§°"></a>4.RRä¸LLå¯¹ç§°</h4><h2 id="3-æ—‹è½¬çš„è§¦å‘"><a href="#3-æ—‹è½¬çš„è§¦å‘" class="headerlink" title="3.æ—‹è½¬çš„è§¦å‘"></a>3.æ—‹è½¬çš„è§¦å‘</h2><p>æ’å…¥æ“ä½œï¼š</p>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-21%20%E4%B8%8B%E5%8D%886.58.33.png" alt="æˆªå±2020-12-21 ä¸‹åˆ6.58.33"></p>
<p>åˆ é™¤æ“ä½œï¼š</p>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-21%20%E4%B8%8B%E5%8D%886.58.42.png" alt="æˆªå±2020-12-21 ä¸‹åˆ6.58.42"></p>
<blockquote>
<p>å¹³è¡¡è°ƒæ•´ç­–ç•¥/æ–¹æ³•</p>
<ol>
<li>å‘ç”Ÿåœ¨å›æº¯é˜¶æ®µçš„ï¼Œç¬¬ä¸€ä¸ªå¤±è¡¡èŠ‚ç‚¹å¤„</li>
<li>ç†è§£å¹³è¡¡è°ƒæ•´ç­–ç•¥çš„å…³é”®åœ¨äºï¼šåˆ†ææ¸…æ¥šå››ç§æƒ…å†µä¸‹ï¼ŒABCD å››æ£µå­æ ‘æ ‘é«˜çš„å…³ç³»</li>
<li>LLï¼Œå¤§å³æ—‹</li>
<li>LRï¼Œå…ˆå°å·¦æ—‹ï¼Œå†å¤§å³æ—‹</li>
<li>RLï¼Œå…ˆå°å³æ—‹ï¼Œå†å¤§å·¦æ—‹</li>
<li>RRï¼Œå¤§å·¦æ—‹</li>
</ol>
</blockquote>
<img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-23%20%E4%B8%8B%E5%8D%886.22.17.png" alt="æˆªå±2020-12-23 ä¸‹åˆ6.22.17" style="zoom:67%;" />







<h2 id="4-ä»£ç å®ç°"><a href="#4-ä»£ç å®ç°" class="headerlink" title="4.ä»£ç å®ç°"></a>4.ä»£ç å®ç°</h2><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> data, height;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">lchild</span>, *<span class="title">rchild</span>;</span></span><br><span class="line">&#125; Node;</span><br><span class="line"></span><br><span class="line">Node __NIL;<span class="comment">//å‡çš„ç©ºèŠ‚ç‚¹</span></span><br><span class="line">__attribute__((constructor))</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NIL (&amp;__NIL)</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init_NIL</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    NIL-&gt;data = <span class="number">0</span>;</span><br><span class="line">    NIL-&gt;height = <span class="number">0</span>;</span><br><span class="line">    NIL-&gt;lchild = NIL-&gt;rchild = NIL;</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">getNewNode</span><span class="params">(<span class="keyword">int</span> _data)</span> </span>&#123;</span><br><span class="line">    Node *node = (Node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">    node-&gt;data = _data;</span><br><span class="line">    node-&gt;lchild = node-&gt;rchild = NIL;</span><br><span class="line">    node-&gt;height = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update_height</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    root-&gt;height = (root-&gt;lchild-&gt;height &gt; root-&gt;rchild-&gt;height ? root-&gt;lchild-&gt;height : root-&gt;rchild-&gt;height) + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">left_rotate</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    Node *temp = root-&gt;rchild;</span><br><span class="line">    root-&gt;rchild = temp-&gt;lchild;</span><br><span class="line">    temp-&gt;lchild = root;</span><br><span class="line">    update_height(root);</span><br><span class="line">    update_height(temp);</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">right_rotate</span><span class="params">(Node *root)</span> </span>&#123;<span class="comment">//å¯¹ç§°</span></span><br><span class="line">    Node *temp = root-&gt;lchild;</span><br><span class="line">    root-&gt;lchild = temp-&gt;rchild;</span><br><span class="line">    temp-&gt;rchild = root;</span><br><span class="line">    update_height(root);</span><br><span class="line">    update_height(temp);</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">maintain</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">abs</span>(root-&gt;lchild-&gt;height - root-&gt;rchild-&gt;height) &lt;= <span class="number">1</span>) <span class="keyword">return</span> root;</span><br><span class="line">    <span class="keyword">if</span> (root-&gt;lchild-&gt;height &gt; root-&gt;rchild-&gt;height) &#123;<span class="comment">//Lå¤§å·¦æ—‹</span></span><br><span class="line">        <span class="keyword">if</span> (root-&gt;lchild-&gt;lchild-&gt;height &lt; root-&gt;lchild-&gt;rchild-&gt;height)<span class="comment">//LRå°å³æ—‹</span></span><br><span class="line">            root-&gt;lchild = left_rotate(root-&gt;lchild);</span><br><span class="line">        root = right_rotate(root);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root-&gt;rchild-&gt;rchild-&gt;height &lt; root-&gt;lchild-&gt;rchild-&gt;height)<span class="comment">//RLå°å·¦æ—‹</span></span><br><span class="line">            root-&gt;rchild = right_rotate(root-&gt;lchild);<span class="comment">//å°å³æ—‹</span></span><br><span class="line">        root = left_rotate(root);<span class="comment">//å¤§å·¦æ—‹</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">insert</span><span class="params">(Node *root, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == NIL) <span class="keyword">return</span> getNewNode(val);</span><br><span class="line">    <span class="keyword">if</span> (root-&gt;data == val) <span class="keyword">return</span> root;<span class="comment">//ä¸éœ€è¦æ’å…¥æ“ä½œ</span></span><br><span class="line">    <span class="keyword">if</span> (val &lt; root-&gt;data) &#123;</span><br><span class="line">        root-&gt;lchild = insert(root-&gt;lchild, val);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        root-&gt;rchild = insert(root-&gt;rchild, val);</span><br><span class="line">    &#125;</span><br><span class="line">    update_height(root);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> maintain(root);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">predecessor</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    Node *temp = root-&gt;lchild;</span><br><span class="line">    <span class="keyword">while</span> (temp &amp;&amp; temp-&gt;lchild) temp = temp-&gt;rchild;</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">erase</span><span class="params">(Node *root, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == NIL) <span class="keyword">return</span> NIL;</span><br><span class="line">    <span class="keyword">if</span> (val &lt; root-&gt;data) &#123;</span><br><span class="line">        root-&gt;lchild = erase(root-&gt;lchild, val);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (val &gt; root-&gt;data) &#123;</span><br><span class="line">        root-&gt;rchild = erase(root-&gt;rchild, val);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root-&gt;lchild == NIL || root-&gt;rchild == NIL) &#123;</span><br><span class="line">            Node *temp = root-&gt;lchild != NIL ? root-&gt;lchild : root-&gt;rchild;</span><br><span class="line">            <span class="built_in">free</span>(root);</span><br><span class="line">            <span class="keyword">return</span> temp;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            Node *temp = predecessor(root);</span><br><span class="line">            root-&gt;data = temp-&gt;data;</span><br><span class="line">            root-&gt;lchild = erase(root-&gt;lchild, temp-&gt;data);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    update_height(root);</span><br><span class="line">    <span class="keyword">return</span> maintain(root);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">clear</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == NIL) <span class="keyword">return</span> ;</span><br><span class="line">    clear(root-&gt;lchild);</span><br><span class="line">    clear(root-&gt;rchild);</span><br><span class="line">    <span class="built_in">free</span>(root);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == NIL) <span class="keyword">return</span> ;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(%d[%d],%d,%d)\n&quot;</span>,</span><br><span class="line">           root-&gt;data, root-&gt;height,</span><br><span class="line">           root-&gt;lchild-&gt;data,</span><br><span class="line">           root-&gt;rchild-&gt;data);</span><br><span class="line">    output(root-&gt;lchild);</span><br><span class="line">    output(root-&gt;rchild);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> op, val;</span><br><span class="line">    Node *root = NIL;</span><br><span class="line">    <span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;op, &amp;val)) &#123;</span><br><span class="line">        <span class="keyword">switch</span> (op) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>: root = erase(root, val);</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>: root = insert(root, val);</span><br><span class="line">        &#125;</span><br><span class="line">        output(root);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;--------------\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    clear(root);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


















<h1 id="3-SBTree"><a href="#3-SBTree" class="headerlink" title="3*.SBTree"></a>3*.SBTree</h1><p>Size Balanced Tree</p>
<h2 id="1-å¹³è¡¡åŸç†"><a href="#1-å¹³è¡¡åŸç†" class="headerlink" title="1.å¹³è¡¡åŸç†"></a>1.å¹³è¡¡åŸç†</h2><p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-22%20%E4%B8%8A%E5%8D%8810.20.58.png" alt="æˆªå±2020-12-22 ä¸Šåˆ10.20.58"></p>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-22%20%E4%B8%8A%E5%8D%8810.21.30.png" alt="æˆªå±2020-12-22 ä¸Šåˆ10.21.30"></p>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-22%20%E4%B8%8A%E5%8D%8810.25.01.png" alt="æˆªå±2020-12-22 ä¸Šåˆ10.25.01"></p>
<h2 id="2-æ—‹è½¬æ“ä½œ"><a href="#2-æ—‹è½¬æ“ä½œ" class="headerlink" title="2.æ—‹è½¬æ“ä½œ"></a>2.æ—‹è½¬æ“ä½œ</h2><p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-22%20%E4%B8%8A%E5%8D%8810.26.35.png" alt="æˆªå±2020-12-22 ä¸Šåˆ10.26.35"></p>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-22%20%E4%B8%8A%E5%8D%8810.26.45.png" alt="æˆªå±2020-12-22 ä¸Šåˆ10.26.45"></p>
<h2 id="3-æ—‹è½¬çš„è§¦å‘-1"><a href="#3-æ—‹è½¬çš„è§¦å‘-1" class="headerlink" title="3.æ—‹è½¬çš„è§¦å‘"></a>3.æ—‹è½¬çš„è§¦å‘</h2><p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-22%20%E4%B8%8A%E5%8D%8810.28.20.png" alt="æˆªå±2020-12-22 ä¸Šåˆ10.28.20"></p>
<h2 id="4-ä»£ç å®ç°-1"><a href="#4-ä»£ç å®ç°-1" class="headerlink" title="4.ä»£ç å®ç°"></a>4.ä»£ç å®ç°</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> Type&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SBTNode</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Type data;</span><br><span class="line">    <span class="keyword">int</span> size;</span><br><span class="line">    SBTNode&lt;Type&gt; *lchild, *rchild, *father;</span><br><span class="line">    SBTNode(Type init_data, <span class="keyword">int</span> init_size = <span class="number">0</span>, SBTNode&lt;Type&gt; *init_father = <span class="literal">NULL</span>);</span><br><span class="line">    ~SBTNode();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(Type value)</span></span>;</span><br><span class="line">    <span class="function">SBTNode&lt;Type&gt;* <span class="title">search</span><span class="params">(Type value)</span></span>;</span><br><span class="line">    <span class="function">SBTNode&lt;Type&gt;* <span class="title">predecessor</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">SBTNode&lt;Type&gt;* <span class="title">successor</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">remove_node</span><span class="params">(SBTNode&lt;Type&gt; *delete_node)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">remove</span><span class="params">(Type value)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> Type&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinaryTree</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    SBTNode&lt;Type&gt;* root;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    BinaryTree();</span><br><span class="line">    ~BinaryTree();</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(Type value)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">find</span><span class="params">(Type value)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">remove</span><span class="params">(Type value)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">SBTNode&lt;<span class="keyword">int</span>&gt; <span class="title">ZERO</span><span class="params">(<span class="number">0</span>)</span></span>;</span><br><span class="line">SBTNode&lt;<span class="keyword">int</span>&gt;* NIL = &amp;ZERO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Type&gt;</span><br><span class="line">SBTNode&lt;Type&gt;::SBTNode(Type init_data, <span class="keyword">int</span> init_size, SBTNode&lt;Type&gt;* init_father) &#123;</span><br><span class="line">    data = init_data;</span><br><span class="line">    size = init_size;</span><br><span class="line">    lchild = NIL;</span><br><span class="line">    rchild = NIL;</span><br><span class="line">    father = init_father;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Type&gt;</span><br><span class="line">SBTNode&lt;Type&gt;::~SBTNode() &#123;</span><br><span class="line">    <span class="keyword">if</span> (lchild != NIL) &#123;</span><br><span class="line">        <span class="keyword">delete</span> lchild;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (rchild != NIL) &#123;</span><br><span class="line">        <span class="keyword">delete</span> rchild;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Type&gt;</span><br><span class="line"><span class="function">SBTNode&lt;Type&gt;* <span class="title">left_rotate</span><span class="params">(SBTNode&lt;Type&gt;* node)</span> </span>&#123;</span><br><span class="line">	SBTNode&lt;Type&gt; *temp =  node-&gt;rchild;</span><br><span class="line">    node-&gt;rchild = temp-&gt;lchild;</span><br><span class="line">    temp-&gt;lchild-&gt;father = node;</span><br><span class="line">    temp-&gt;lchild = node;</span><br><span class="line">    temp-&gt;father = node-&gt;father;</span><br><span class="line">    node-&gt;father = temp;</span><br><span class="line">    temp-&gt;size = node-&gt;size;</span><br><span class="line">    node-&gt;size = node-&gt;lchild-&gt;size + node-&gt;rchild-&gt;size + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Type&gt;</span><br><span class="line"><span class="function">SBTNode&lt;Type&gt;* <span class="title">right_rotate</span><span class="params">(SBTNode&lt;Type&gt;* node)</span> </span>&#123;</span><br><span class="line">  	SBTNode&lt;Type&gt; *temp = node-&gt;lchild;</span><br><span class="line">    node-&gt;lchild = temp-&gt;rchild;</span><br><span class="line">    temp-&gt;rchild-&gt;father = node;</span><br><span class="line">    temp-&gt;rchild = node;</span><br><span class="line">    temp-&gt;father = node-&gt;father;</span><br><span class="line">    node-&gt;father = temp;</span><br><span class="line">    temp-&gt;size = node-&gt;size;</span><br><span class="line">    node-&gt;size = node-&gt;lchild-&gt;size + node-&gt;rchild-&gt;size + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Type&gt;</span><br><span class="line"><span class="function">SBTNode&lt;Type&gt;* <span class="title">maintain</span><span class="params">(SBTNode&lt;Type&gt;* node, <span class="keyword">bool</span> flag)</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Type&gt;</span><br><span class="line"><span class="function">SBTNode&lt;Type&gt;* <span class="title">insert</span><span class="params">(SBTNode&lt;Type&gt;* node, Type value)</span> </span>&#123;</span><br><span class="line">    node-&gt;size++;</span><br><span class="line">    <span class="keyword">if</span> (value &gt; node-&gt;data) &#123;</span><br><span class="line">        <span class="keyword">if</span> (node-&gt;rchild == NIL) &#123;</span><br><span class="line">            node-&gt;rchild = <span class="keyword">new</span> SBTNode&lt;Type&gt;(value, <span class="number">1</span>, node);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            node-&gt;rchild = insert(node-&gt;rchild, value);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (node-&gt;lchild == NIL) &#123;</span><br><span class="line">            node-&gt;lchild = <span class="keyword">new</span> SBTNode&lt;Type&gt;(value, <span class="number">1</span>, node);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            node-&gt;lchild = insert(node-&gt;lchild, value);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maintain(node, value &gt; node-&gt;data);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Type&gt;</span><br><span class="line">SBTNode&lt;Type&gt;* SBTNode&lt;Type&gt;::search(Type value) &#123;</span><br><span class="line">    <span class="keyword">if</span> (data == value) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (value &gt; data) &#123;</span><br><span class="line">        <span class="keyword">if</span> (rchild == NIL) &#123;</span><br><span class="line">            <span class="keyword">return</span> NIL;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> rchild-&gt;search(value);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (lchild == NIL) &#123;</span><br><span class="line">            <span class="keyword">return</span> NIL;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> lchild-&gt;search(value);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Type&gt;</span><br><span class="line">SBTNode&lt;Type&gt;* SBTNode&lt;Type&gt;::predecessor() &#123;</span><br><span class="line">    SBTNode&lt;Type&gt;* temp = lchild;</span><br><span class="line">    <span class="keyword">while</span> (temp != NIL &amp;&amp; temp-&gt;rchild != NIL) &#123;</span><br><span class="line">        temp = temp-&gt;rchild;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Type&gt;</span><br><span class="line">SBTNode&lt;Type&gt;* SBTNode&lt;Type&gt;::successor() &#123;</span><br><span class="line">    SBTNode&lt;Type&gt;* temp = rchild;</span><br><span class="line">    <span class="keyword">while</span> (temp != NIL &amp;&amp; temp-&gt;lchild != NIL) &#123;</span><br><span class="line">        temp = temp-&gt;lchild;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Type&gt;</span><br><span class="line"><span class="keyword">void</span> SBTNode&lt;Type&gt;::remove_node(SBTNode&lt;Type&gt;* delete_node) &#123;</span><br><span class="line">    SBTNode&lt;Type&gt;* temp = NIL;</span><br><span class="line">    <span class="keyword">if</span> (delete_node-&gt;lchild != NIL) &#123;</span><br><span class="line">        temp = delete_node-&gt;lchild;</span><br><span class="line">        temp-&gt;father = delete_node-&gt;father;</span><br><span class="line">        delete_node-&gt;lchild = NIL;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (delete_node-&gt;rchild != NIL) &#123;</span><br><span class="line">        temp = delete_node-&gt;rchild;</span><br><span class="line">        temp-&gt;father = delete_node-&gt;father;</span><br><span class="line">        delete_node-&gt;rchild = NIL;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (delete_node-&gt;father-&gt;lchild == delete_node) &#123;</span><br><span class="line">        delete_node-&gt;father-&gt;lchild = temp;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        delete_node-&gt;father-&gt;rchild = temp;</span><br><span class="line">    &#125;</span><br><span class="line">    temp = delete_node;</span><br><span class="line">    <span class="keyword">while</span> (temp != <span class="literal">NULL</span>) &#123;</span><br><span class="line">        temp-&gt;size--;</span><br><span class="line">        temp = temp-&gt;father;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">delete</span> delete_node;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Type&gt;</span><br><span class="line"><span class="keyword">bool</span> SBTNode&lt;Type&gt;::remove(Type value) &#123;</span><br><span class="line">    SBTNode&lt;Type&gt; *delete_node, *current_node;</span><br><span class="line">    current_node = search(value);</span><br><span class="line">    <span class="keyword">if</span> (current_node == NIL) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (current_node-&gt;lchild != NIL) &#123;</span><br><span class="line">        delete_node = current_node-&gt;predecessor();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (current_node-&gt;rchild != NIL) &#123;</span><br><span class="line">        delete_node = current_node-&gt;successor();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        delete_node = current_node;</span><br><span class="line">    &#125;</span><br><span class="line">    current_node-&gt;data = delete_node-&gt;data;</span><br><span class="line">    remove_node(delete_node);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Type&gt;</span><br><span class="line">BinaryTree&lt;Type&gt;::BinaryTree() &#123;</span><br><span class="line">    root = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Type&gt;</span><br><span class="line">BinaryTree&lt;Type&gt;::~BinaryTree() &#123;</span><br><span class="line">    <span class="keyword">delete</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Type&gt;</span><br><span class="line"><span class="keyword">void</span> BinaryTree&lt;Type&gt;::insert(Type value) &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        root = <span class="keyword">new</span> SBTNode&lt;Type&gt;(value, <span class="number">1</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (root-&gt;search(value) == NIL) &#123;</span><br><span class="line">        root = ::insert(root, value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Type&gt;</span><br><span class="line"><span class="keyword">bool</span> BinaryTree&lt;Type&gt;::find(Type value) &#123;</span><br><span class="line">    <span class="keyword">if</span> (root-&gt;search(value) == NIL) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Type&gt;</span><br><span class="line"><span class="keyword">bool</span> BinaryTree&lt;Type&gt;::remove(Type value) &#123;</span><br><span class="line">    <span class="keyword">return</span> root-&gt;remove(value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>












<h1 id="4-çº¢é»‘æ ‘"><a href="#4-çº¢é»‘æ ‘" class="headerlink" title="4.çº¢é»‘æ ‘"></a>4.çº¢é»‘æ ‘</h1><h2 id="1-å¹³è¡¡æ¡ä»¶"><a href="#1-å¹³è¡¡æ¡ä»¶" class="headerlink" title="1.å¹³è¡¡æ¡ä»¶"></a>1.å¹³è¡¡æ¡ä»¶</h2><ol>
<li>èŠ‚ç‚¹éé»‘æ—¢çº¢</li>
<li>æ ¹èŠ‚ç‚¹æ˜¯é»‘è‰²</li>
<li>å¶å­ï¼ˆNILï¼‰ç»“ç‚¹æ˜¯é»‘è‰²</li>
<li>å¦‚æœä¸€ä¸ªèŠ‚ç‚¹æ˜¯çº¢è‰²ï¼Œåˆ™å®ƒçš„ä¸¤ä¸ªå­èŠ‚ç‚¹éƒ½æ˜¯é»‘è‰²</li>
<li>ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­ç»“ç‚¹è·¯å¾„ä¸Šï¼Œé»‘è‰²èŠ‚ç‚¹æ•°é‡ç›¸åŒ</li>
</ol>
<p>==&gt;æœ€é•¿è¾¹å’Œæœ€çŸ­è¾¹ä¹‹é—´çš„å…³ç³»ï¼šæœ€é•¿è¾¹æ˜¯æœ€çŸ­è¾¹çš„äºŒå€</p>
<img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-23%20%E4%B8%8B%E5%8D%889.44.56.png" alt="æˆªå±2020-12-23 ä¸‹åˆ9.44.56" style="zoom: 33%;" />





<blockquote>
<p>ç¬¬4æ¡å’Œç¬¬5æ¡æ¡ä»¶ï¼Œæ³¨å®šäº†ï¼Œçº¢é»‘æ ‘ä¸­æœ€é•¿è·¯å¾„æ˜¯æœ€çŸ­è·¯å¾„çš„é•¿åº¦çš„ 2 å€ã€‚</p>
<p>æœ¬è´¨ä¸Šï¼Œçº¢é»‘æ ‘ä¹Ÿæ˜¯é€šè¿‡æ ‘é«˜æ¥æ§åˆ¶å¹³è¡¡çš„ã€‚</p>
<p>çº¢é»‘æ ‘æ¯” AVL æ ‘æ ‘é«˜æ§åˆ¶æ¡ä»¶è¦æ›´æ¾æ•£ï¼Œçº¢é»‘æ ‘åœ¨å‘ç”ŸèŠ‚ç‚¹æ’å…¥å’Œåˆ é™¤ä»¥åï¼Œå‘ç”Ÿè°ƒæ•´çš„æ¦‚ç‡ï¼Œæ¯” AVL æ ‘è¦æ›´å°ã€‚</p>
</blockquote>
<h2 id="2-å¹³è¡¡è°ƒæ•´ç­–ç•¥"><a href="#2-å¹³è¡¡è°ƒæ•´ç­–ç•¥" class="headerlink" title="2.å¹³è¡¡è°ƒæ•´ç­–ç•¥"></a>2.å¹³è¡¡è°ƒæ•´ç­–ç•¥</h2><p>1.æ’å…¥è°ƒæ•´ç«™åœ¨ç¥–çˆ¶èŠ‚ç‚¹çœ‹</p>
<p>2.åˆ é™¤è°ƒæ•´ç«™åœ¨çˆ¶äº²èŠ‚ç‚¹çœ‹</p>
<p>3.æ’å…¥å’Œåˆ é™¤çš„æƒ…å†µå¤„ç†ï¼Œä¸€å…±äº”ç§</p>
<blockquote>
<p>ç†è§£</p>
<ol>
<li>ç†è§£çº¢é»‘æ ‘çš„æ’å…¥è°ƒæ•´ï¼Œè¦ç«™åœ¨==ç¥–çˆ¶èŠ‚ç‚¹==å‘ä¸‹è¿›è¡Œè°ƒæ•´</li>
<li>ç†è§£çº¢é»‘æ ‘çš„åˆ é™¤è°ƒæ•´ï¼Œè¦ç«™åœ¨==çˆ¶èŠ‚ç‚¹==å‘ä¸‹è¿›è¡Œè°ƒæ•´</li>
<li>æ’å…¥è°ƒæ•´ï¼Œä¸»è¦å°±æ˜¯ä¸ºäº†è§£å†³åŒçº¢æƒ…å†µ</li>
<li>æ–°æ’å…¥çš„èŠ‚ç‚¹ä¸€å®šæ˜¯çº¢è‰²ï¼Œæ’å…¥é»‘è‰²èŠ‚ç‚¹ä¸€å®šä¼šäº§ç”Ÿå†²çªï¼Œè¿åæ¡ä»¶5ï¼Œæ’å…¥çº¢è‰²èŠ‚ç‚¹ï¼Œä¸ä¸€å®šäº§ç”Ÿå†²çª</li>
<li>æŠŠæ¯ä¸€ç§æƒ…å†µï¼Œæƒ³è±¡æˆä¸€æ£µå¤§çš„çº¢é»‘æ ‘ä¸­çš„å±€éƒ¨å­æ ‘</li>
<li>å±€éƒ¨è°ƒæ•´çš„æ—¶å€™ï¼Œä¸ºäº†ä¸å½±å“å…¨å±€ï¼Œè°ƒæ•´å‰åçš„è·¯å¾„ä¸Šé»‘è‰²èŠ‚ç‚¹æ•°é‡ç›¸åŒ</li>
</ol>
</blockquote>
<h2 id="3-æ’å…¥æ–¹æ³•"><a href="#3-æ’å…¥æ–¹æ³•" class="headerlink" title="3.æ’å…¥æ–¹æ³•"></a>3.æ’å…¥æ–¹æ³•</h2><p>â€‹                                                                                                                             </p>
<p>1.å”å”èŠ‚ç‚¹ä¸ºçº¢è‰²çš„æ—¶å€™ï¼Œä¿®æ”¹ä¸‰å…ƒç»„å°å¸½å­ï¼Œæ”¹æˆçº¢é»‘é»‘(4ç§æƒ…å†µ)</p>
<p>xæœ‰4ä¸ªä½ç½®ï¼Œ4ç§æƒ…å†µï¼Œä½†æ˜¯å¤„ç†æ–¹æ³•ä¸€æ ·</p>
<p>æ ¹èŠ‚ç‚¹å¿…å®šä¸ºé»‘è‰²ï¼Œå¦åˆ™æ’å…¥å‰å·²ç»å†²çª</p>
<p>eg:1,20ä¿®æ”¹æˆé»‘è‰²ï¼Œ15ä¿®æ”¹æˆçº¢è‰²(çº¢è‰²ä¸Šé¡¶)</p>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-24%20%E4%B8%8A%E5%8D%8811.16.48.png" alt="æˆªå±2020-12-24 ä¸Šåˆ11.16.48"></p>
<p>2.å”å”èŠ‚ç‚¹ä¸ºé»‘è‰²çš„æ—¶å€™ï¼Œæœ‰å››ç§æƒ…å†µLL,LRï¼ŒRL,RR</p>
<p>å‚è€ƒ AVL æ ‘çš„å¤±è¡¡æƒ…å†µï¼Œåˆ†æˆ $LL,LR,RL,RR$, å…ˆå‚è€ƒ AVL æ ‘çš„æ—‹è½¬è°ƒæ•´ç­–ç•¥ï¼Œç„¶åå†ä¿®æ”¹ä¸‰å…ƒç»„çš„é¢œè‰²ï¼Œæœ‰ä¸¤ç§è°ƒæ•´ç­–ç•¥ï¼šçº¢è‰²ä¸Šæµ®ï¼Œçº¢è‰²ä¸‹æ²‰ã€‚</p>
<p>eg:LLå‹è¿›è¡Œå¤§å³æ—‹ï¼Œ<strong>20</strong>è°ƒæ•´æˆçº¢è‰²ï¼Œ<strong>15</strong>è°ƒæ•´æˆâ¿Šè‰²ï¼Œå³å¯æå®šé—®é¢˜(çº¢è‰²ä¸Šæµ®)ï¼Œ</p>
<p>æˆ–è€…è°ƒæ•´10ä¸ºé»‘è‰²ï¼Œçº¢è‰²ä¸Šæµ®</p>
<img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-24%20%E4%B8%8A%E5%8D%8811.17.02.png" alt="æˆªå±2020-12-24 ä¸Šåˆ11.17.02" style="zoom: 70%;" />



<img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-24%20%E4%B8%8A%E5%8D%8811.29.58.png" alt="æˆªå±2020-12-24 ä¸Šåˆ11.29.58" style="zoom:67%;" />

<p>3.ä¸¤å¤§ç±»æƒ…å†µï¼ŒåŒ…å« 8 ç§å°æƒ…å†µ</p>
<h2 id="4-æ’å…¥ä»£ç æ¼”ç¤º"><a href="#4-æ’å…¥ä»£ç æ¼”ç¤º" class="headerlink" title="4.æ’å…¥ä»£ç æ¼”ç¤º"></a>4.æ’å…¥ä»£ç æ¼”ç¤º</h2><ol>
<li>æ’å…¥è°ƒæ•´ï¼Œå‘æ­£åœ¨é€’å½’çš„å›æº¯é˜¶æ®µ</li>
<li>æ’å…¥è°ƒæ•´ä»£ç ä¸­ï¼Œä½¿ç”¨ goto è¯­å¥ï¼Œ8è¡Œä»£ç ï¼Œå˜æˆäº†4è¡Œ</li>
<li>å¤„ç†æ ¹èŠ‚ç‚¹ä¸€å®šæ˜¯é»‘è‰²ï¼Œé€šè¿‡ä»£ç å°è£…ï¼Œ$insert-&gt;__insert$</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">    <span class="keyword">int</span> color;<span class="comment">//0 red, 1 black 2double black</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">lchild</span>, *<span class="title">rchild</span>;</span></span><br><span class="line">&#125; Node;</span><br><span class="line"></span><br><span class="line">Node __NIL;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NIL (&amp;__NIL)</span></span><br><span class="line">__attribute__((constructor))</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init_NIL</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    NIL-&gt;data = <span class="number">0</span>;</span><br><span class="line">    NIL-&gt;color = <span class="number">1</span>;</span><br><span class="line">    NIL-&gt;lchild = NIL-&gt;rchild = NIL;</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">getNewNode</span><span class="params">(<span class="keyword">int</span> _data)</span> </span>&#123;</span><br><span class="line">    Node *root = (Node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">    root-&gt;data = _data;</span><br><span class="line">    root-&gt;color = <span class="number">0</span>;</span><br><span class="line">    root-&gt;lchild = root-&gt;rchild = NIL;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">has_red_child</span><span class="params">(Node *root)</span> </span>&#123;<span class="comment">//åˆ¤æ–­æ ¹èŠ‚ç‚¹æ˜¯å¦æœ‰çº¢è‰²çš„å­å­©å­</span></span><br><span class="line">    <span class="keyword">return</span> root-&gt;lchild-&gt;color == <span class="number">0</span> || root-&gt;rchild-&gt;color == <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">left_rotate</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    Node *temp = root-&gt;rchild;</span><br><span class="line">    root-&gt;rchild = temp-&gt;lchild;</span><br><span class="line">    temp-&gt;lchild = root;</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">right_rotate</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    Node *temp = root-&gt;lchild;</span><br><span class="line">    root-&gt;lchild = temp-&gt;rchild;</span><br><span class="line">    temp-&gt;rchild = root;</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">insert_maintain</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!has_red_child(root)) <span class="keyword">return</span> root;<span class="comment">//æ²¡æœ‰çº¢è‰²çš„å­©å­ï¼Œä¸éœ€è¦è°ƒæ•´</span></span><br><span class="line">    <span class="comment">//æ²¡æœ‰åˆ¤æ–­æ˜¯å¦å‘ç”ŸåŒçº¢å†²çª</span></span><br><span class="line">    <span class="comment">//ä¸å†²çªçš„è¯ï¼Œæ›´æ”¹é¢œè‰²ä¸å½±å“ç»“æœï¼Œå¦‚æœå‘ç”Ÿå†²çªï¼Œæ›´æ”¹é¢œè‰²ï¼Œè§£å†³å†²çªï¼Œrootå¿…å®šä¸ºé»‘è‰²ï¼Œå› ä¸ºå­©å­ä¸ºçº¢è‰²</span></span><br><span class="line">    <span class="keyword">int</span> flag = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (root-&gt;lchild-&gt;color == <span class="number">0</span> &amp;&amp; root-&gt;rchild-&gt;color == <span class="number">0</span>) <span class="keyword">goto</span> insert_end;</span><br><span class="line">    <span class="comment">//&#123;</span></span><br><span class="line">       <span class="comment">// root-&gt;color = 0;</span></span><br><span class="line">       <span class="comment">// root-&gt;lchild-&gt;color = root-&gt;rchild-&gt;color = 1;</span></span><br><span class="line">        <span class="comment">//return root;</span></span><br><span class="line">    <span class="comment">//&#125;</span></span><br><span class="line">    <span class="keyword">if</span> (root-&gt;lchild-&gt;color == <span class="number">0</span> &amp;&amp; has_red_child(root-&gt;lchild)) flag = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (root-&gt;rchild-&gt;color == <span class="number">0</span> &amp;&amp; has_red_child(root-&gt;rchild)) flag = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span> (flag == <span class="number">0</span>) <span class="keyword">return</span> root;</span><br><span class="line">    <span class="keyword">if</span> (flag == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (root-&gt;lchild-&gt;rchild-&gt;color == <span class="number">0</span>)<span class="comment">//LR,éœ€è¦å°å·¦æ—‹ï¼Œå¤§å³æ—‹</span></span><br><span class="line">            root-&gt;lchild = left_rotate(root-&gt;lchild);</span><br><span class="line">        root = right_rotate(root);</span><br><span class="line">        <span class="comment">//root-&gt;color = 0;//çº¢è‰²ä¸Šæµ®ï¼Œçº¢è‰²ä¸‹æ²‰ä¹Ÿå¯</span></span><br><span class="line">       <span class="comment">// root-&gt;lchild-&gt;color = root-&gt;rchild-&gt;color = 1;</span></span><br><span class="line">       <span class="comment">// return root;</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;<span class="comment">//</span></span><br><span class="line">        <span class="keyword">if</span> (root-&gt;rchild-&gt;lchild-&gt;color == <span class="number">0</span>) &#123;</span><br><span class="line">            root-&gt;rchild = right_rotate(root-&gt;rchild);</span><br><span class="line">        &#125;</span><br><span class="line">        root = left_rotate(root);</span><br><span class="line">        <span class="comment">//root-&gt;color = 0;</span></span><br><span class="line">       <span class="comment">// root-&gt;lchild-&gt;color = root-&gt;rchild-&gt;color = 1;</span></span><br><span class="line">    &#125;</span><br><span class="line">insert_end:</span><br><span class="line">    root-&gt;color = <span class="number">0</span>;<span class="comment">//çº¢è‰²ä¸Šæµ®ï¼Œçº¢è‰²ä¸‹æ²‰ä¹Ÿå¯</span></span><br><span class="line">    root-&gt;lchild-&gt;color = root-&gt;rchild-&gt;color = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Node *__insert(Node *root, <span class="keyword">int</span> value) &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == NIL) <span class="keyword">return</span> getNewNode(value);</span><br><span class="line">    <span class="keyword">if</span> (root-&gt;data == value) <span class="keyword">return</span> root;</span><br><span class="line">    <span class="keyword">if</span> (value &lt; root-&gt;data) root-&gt;lchild = __insert(root-&gt;lchild, value);</span><br><span class="line">    <span class="keyword">else</span> root-&gt;rchild = __insert(root-&gt;rchild, value);</span><br><span class="line">    <span class="keyword">return</span> insert_maintain(root);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">insert</span><span class="params">(Node *root, <span class="keyword">int</span> data)</span> </span>&#123;</span><br><span class="line">    root = __insert(root, data);</span><br><span class="line">    root-&gt;color = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">clear</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == NIL) <span class="keyword">return</span> ;</span><br><span class="line">    clear(root-&gt;lchild);</span><br><span class="line">    clear(root-&gt;rchild);</span><br><span class="line">    <span class="built_in">free</span>(root);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(%d| %d, %d, %d)\n&quot;</span>,</span><br><span class="line">        root-&gt;color, root-&gt;data,</span><br><span class="line">        root-&gt;lchild-&gt;data,</span><br><span class="line">        root-&gt;rchild-&gt;data</span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == NIL) <span class="keyword">return</span> ;</span><br><span class="line">    print(root);</span><br><span class="line">    output(root-&gt;lchild);</span><br><span class="line">    output(root-&gt;rchild);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> op, val;</span><br><span class="line">    Node *root = NIL;</span><br><span class="line">    <span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;op, &amp;val)) &#123;</span><br><span class="line">        <span class="keyword">switch</span> (op) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>: root = insert(root, val); <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        output(root);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;------------\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span> <span class="number">1</span></span><br><span class="line">(<span class="number">1</span>| <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">------------</span><br><span class="line"><span class="number">1</span> <span class="number">2</span></span><br><span class="line">(<span class="number">1</span>| <span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line">(<span class="number">0</span>| <span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">------------</span><br><span class="line"><span class="number">1</span> <span class="number">3</span></span><br><span class="line">(<span class="number">1</span>| <span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>)</span><br><span class="line">(<span class="number">1</span>| <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">(<span class="number">1</span>| <span class="number">3</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">------------</span><br><span class="line"><span class="number">1</span> <span class="number">4</span></span><br><span class="line">(<span class="number">1</span>| <span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>)</span><br><span class="line">(<span class="number">1</span>| <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">(<span class="number">1</span>| <span class="number">3</span>, <span class="number">0</span>, <span class="number">4</span>)</span><br><span class="line">(<span class="number">0</span>| <span class="number">4</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">------------</span><br></pre></td></tr></table></figure>


<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1 -60</span><br><span class="line">2 -95</span><br><span class="line">1 47</span><br><span class="line">1 -65</span><br><span class="line">1 18</span><br><span class="line">3 -53</span><br></pre></td></tr></table></figure>




<h2 id="5-åˆ é™¤è°ƒæ•´çš„è§¦å‘"><a href="#5-åˆ é™¤è°ƒæ•´çš„è§¦å‘" class="headerlink" title="5.åˆ é™¤è°ƒæ•´çš„è§¦å‘"></a>5.åˆ é™¤è°ƒæ•´çš„è§¦å‘</h2><ol>
<li>åˆ é™¤çº¢è‰²èŠ‚ç‚¹ï¼Œä¸ä¼šå¯¹çº¢é»‘æ ‘çš„å¹³è¡¡äº§ç”Ÿå½±å“</li>
<li>åº¦ä¸º1çš„é»‘è‰²èŠ‚ç‚¹ï¼Œå”¯ä¸€å­å­©å­ä¸€å®šæ˜¯çº¢è‰²ï¼Œå› ä¸ºåˆ°å¶å­ç»“ç‚¹çš„é»‘è‰²èŠ‚ç‚¹ç›¸åŒï¼Œå¦‚æœä¸ºé»‘è‰²åˆ™ä¼šè¿èƒŒå¹³è¡¡æ¡ä»¶</li>
<li>æ‰€ä»¥åˆ é™¤åº¦ä¸º1çš„é»‘è‰²èŠ‚ç‚¹ï¼Œä¸ä¼šäº§ç”Ÿåˆ é™¤è°ƒæ•´ï¼Œ</li>
<li>åˆ é™¤åº¦ä¸º0çš„é»‘è‰²èŠ‚ç‚¹ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªåŒé‡é»‘çš„ NIL èŠ‚ç‚¹(color=2)</li>
<li>æ‰€ä»¥åˆ é™¤è°ƒæ•´çš„å…³é”®ï¼Œå°±æ˜¯ä¸ºäº†å¹²æ‰åŒé‡é»‘</li>
</ol>
<p>==&gt;åŒé‡é»‘ç»“ç‚¹è§¦å‘åˆ é™¤è°ƒæ•´</p>
<h2 id="7-åˆ é™¤è°ƒæ•´åˆ†ç±»"><a href="#7-åˆ é™¤è°ƒæ•´åˆ†ç±»" class="headerlink" title="7.åˆ é™¤è°ƒæ•´åˆ†ç±»"></a>7.åˆ é™¤è°ƒæ•´åˆ†ç±»</h2><blockquote>
<p>1.åŒé‡é»‘èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹æ˜¯é»‘è‰²ï¼Œå…„å¼ŸèŠ‚ç‚¹ä¸‹é¢çš„ä¸¤ä¸ªå­èŠ‚ç‚¹ä¹Ÿæ˜¯é»‘è‰²ï¼Œ</p>
</blockquote>
<p>è°ƒæ•´æ–¹æ³•:çˆ¶èŠ‚ç‚¹å¢åŠ ä¸€é‡é»‘è‰²ï¼ŒåŒé‡é»‘ä¸å…„å¼ŸèŠ‚ç‚¹ï¼Œåˆ†åˆ«å‡å°‘ä¸€é‡é»‘è‰²ã€‚</p>
<p>æƒ…å†µä¸€</p>
<img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-24%20%E4%B8%8B%E5%8D%884.25.58.png" alt="å›¾ä¸€" style="zoom: 85%;" />

<blockquote>
<p>2.åŒé»‘ç»“ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹æ˜¯é»‘è‰²ï¼Œå¹¶ä¸”ï¼Œå…„å¼ŸèŠ‚ç‚¹ä¸­æœ‰==çº¢è‰²å­èŠ‚ç‚¹==,æœ‰å››ç§æƒ…å†µ</p>
</blockquote>
<p> 1).Rï¼ˆå…„å¼Ÿï¼‰==R==ï¼ˆå³å­èŠ‚ç‚¹ï¼‰ï¼Œ==å·¦==æ—‹ï¼Œæ–°æ ¹ç»“ç‚¹æ”¹æˆåŸæ ¹ç»“ç‚¹çš„é¢œè‰²ï¼Œå°†æ–°æ ¹çš„ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œæ”¹æˆé»‘è‰²,åŒé‡é»‘æ”¹æˆä¸€é‡é»‘</p>
<p>æƒ…å†µä¸‰ï¼ˆåŒé»‘å·¦æ—‹ä¹‹åè¢«å¹²æ‰ï¼‰å…„å¼Ÿçš„å³å­æ ‘ç»“ç‚¹ä¸ºçº¢è‰²ï¼Œå·¦å­æ ‘ç»“ç‚¹ä¸ä¸€å®š</p>
<img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-24%20%E4%B8%8B%E5%8D%884.29.06.png" alt="æˆªå±2020-12-24 ä¸‹åˆ4.29.06" style="zoom:90%;" />

<img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-24%20%E4%B8%8B%E5%8D%885.04.12.png" alt="æˆªå±2020-12-24 ä¸‹åˆ5.04.12" style="zoom:50%;" />





<p>2).Rï¼ˆå…„å¼Ÿï¼‰==L==ï¼ˆå·¦å­èŠ‚ç‚¹ï¼‰(çº¢è‰²)ï¼Œå…ˆå°==å³==æ—‹ï¼Œå¯¹è°ƒæ–°æ ¹ä¸åŸæ ¹çš„é¢œè‰²ï¼Œè½¬æˆä¸Šä¸€ç§æƒ…å†µ(RLâ†’RR)</p>
<p>(æƒ…å†µäºŒ)RLï¼Œå…„å¼Ÿå³å­æ ‘ä¸€å®šä¸ºé»‘è‰²ï¼Œå·¦å­æ ‘ä¸ºçº¢è‰²</p>
<img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-24%20%E4%B8%8B%E5%8D%8811.02.27.png" alt="æˆªå±2020-12-24 ä¸‹åˆ11.02.27" style="zoom:80%;" />



<img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-24%20%E4%B8%8B%E5%8D%8810.06.55.png" alt="æˆªå±2020-12-24 ä¸‹åˆ10.06.55" style="zoom:50%;" />

<p>3).LL åŒç† RR</p>
<p>4).LR åŒç† RL</p>
<blockquote>
<p>4.å…„å¼ŸèŠ‚ç‚¹æ˜¯çº¢è‰²ï¼Œé€šè¿‡æ—‹è½¬ï¼Œè½¬å˜æˆå…„å¼ŸèŠ‚ç‚¹æ˜¯é»‘è‰²çš„æƒ…å†µ</p>
</blockquote>
<p>  å·¦æ—‹ï¼ŒåŸæ ¹èŠ‚ç‚¹æ”¹çº¢ï¼Œæ–°æ ¹èŠ‚ç‚¹æ”¹é»‘ï¼ŒåŒé»‘-1</p>
<img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-24%20%E4%B8%8B%E5%8D%8810.22.04.png" alt="æˆªå±2020-12-24 ä¸‹åˆ10.22.04" style="zoom:50%;" />



<img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-24%20%E4%B8%8B%E5%8D%8810.25.28.png" alt="æˆªå±2020-12-24 ä¸‹åˆ10.25.28" style="zoom:50%;" />







<h2 id="6-åˆ é™¤ä»£ç å®ç°"><a href="#6-åˆ é™¤ä»£ç å®ç°" class="headerlink" title="6.åˆ é™¤ä»£ç å®ç°"></a>6.åˆ é™¤ä»£ç å®ç°</h2><p>è¿›è¡Œ LR/RL ç±»å‹åˆ¤æ–­çš„æ—¶å€™ï¼Œä¸èƒ½åˆ¤æ–­ LL å­æ ‘æ˜¯å¦ä¸ºé»‘è‰²ï¼ŒLL å­æ ‘æœ‰å¯èƒ½æ˜¯ NIL èŠ‚ç‚¹ï¼Œåœ¨æŸäº›ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œè¯»åˆ°çš„é¢œè‰²å¯èƒ½æ˜¯åŒé‡é»‘ï¼Œå–è€Œä»£ä¹‹çš„åˆ¤æ–­æ–¹æ³•å°±æ˜¯ã€LL å­æ ‘ä¸æ˜¯çº¢è‰²ã€‘ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">    <span class="keyword">int</span> color;<span class="comment">//0 red, 1 black 2double black</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">lchild</span>, *<span class="title">rchild</span>;</span></span><br><span class="line">&#125; Node;</span><br><span class="line"></span><br><span class="line">Node __NIL;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NIL (&amp;__NIL)</span></span><br><span class="line">__attribute__((constructor))</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init_NIL</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    NIL-&gt;data = <span class="number">0</span>;</span><br><span class="line">    NIL-&gt;color = <span class="number">1</span>;</span><br><span class="line">    NIL-&gt;lchild = NIL-&gt;rchild = NIL;</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">getNewNode</span><span class="params">(<span class="keyword">int</span> _data)</span> </span>&#123;</span><br><span class="line">    Node *root = (Node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">    root-&gt;data = _data;</span><br><span class="line">    root-&gt;color = <span class="number">0</span>;</span><br><span class="line">    root-&gt;lchild = root-&gt;rchild = NIL;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">has_red_child</span><span class="params">(Node *root)</span> </span>&#123;<span class="comment">//åˆ¤æ–­æ ¹èŠ‚ç‚¹æ˜¯å¦æœ‰çº¢è‰²çš„å­©å­ç»“ç‚¹</span></span><br><span class="line">    <span class="keyword">return</span> root-&gt;lchild-&gt;color == <span class="number">0</span> || root-&gt;rchild-&gt;color == <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">left_rotate</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    Node *temp = root-&gt;rchild;</span><br><span class="line">    root-&gt;rchild = temp-&gt;lchild;</span><br><span class="line">    temp-&gt;lchild = root;</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">right_rotate</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    Node *temp = root-&gt;lchild;</span><br><span class="line">    root-&gt;lchild = temp-&gt;rchild;</span><br><span class="line">    temp-&gt;rchild = root;</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">insert_maintain</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!has_red_child(root)) <span class="keyword">return</span> root;<span class="comment">//æ²¡æœ‰çº¢è‰²çš„å­©å­ï¼Œä¸éœ€è¦è°ƒæ•´</span></span><br><span class="line">    <span class="keyword">int</span> flag = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (root-&gt;lchild-&gt;color == <span class="number">0</span> &amp;&amp; root-&gt;rchild-&gt;color == <span class="number">0</span>) <span class="keyword">goto</span> insert_end;</span><br><span class="line">    <span class="keyword">if</span> (root-&gt;lchild-&gt;color == <span class="number">0</span> &amp;&amp; has_red_child(root-&gt;lchild)) flag = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (root-&gt;rchild-&gt;color == <span class="number">0</span> &amp;&amp; has_red_child(root-&gt;rchild)) flag = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span> (flag == <span class="number">0</span>) <span class="keyword">return</span> root;</span><br><span class="line">    <span class="keyword">if</span> (flag == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (root-&gt;lchild-&gt;rchild-&gt;color == <span class="number">0</span>)<span class="comment">//LR,éœ€è¦å°å·¦æ—‹ï¼Œå¤§å³æ—‹</span></span><br><span class="line">            root-&gt;lchild = left_rotate(root-&gt;lchild);</span><br><span class="line">        root = right_rotate(root);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;<span class="comment">//</span></span><br><span class="line">        <span class="keyword">if</span> (root-&gt;rchild-&gt;lchild-&gt;color == <span class="number">0</span>) &#123;</span><br><span class="line">            root-&gt;rchild = right_rotate(root-&gt;rchild);</span><br><span class="line">        &#125;</span><br><span class="line">        root = left_rotate(root);</span><br><span class="line">    &#125;</span><br><span class="line">insert_end:</span><br><span class="line">    root-&gt;color = <span class="number">0</span>;<span class="comment">//çº¢è‰²ä¸Šæµ®ï¼Œçº¢è‰²ä¸‹æ²‰ä¹Ÿå¯ï¼Œè¿™é‡Œé€‰æ‹©çº¢è‰²ä¸Šæµ®</span></span><br><span class="line">    root-&gt;lchild-&gt;color = root-&gt;rchild-&gt;color = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Node *__insert(Node *root, <span class="keyword">int</span> value) &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == NIL) <span class="keyword">return</span> getNewNode(value);</span><br><span class="line">    <span class="keyword">if</span> (root-&gt;data == value) <span class="keyword">return</span> root;</span><br><span class="line">    <span class="keyword">if</span> (value &lt; root-&gt;data) root-&gt;lchild = __insert(root-&gt;lchild, value);</span><br><span class="line">    <span class="keyword">else</span> root-&gt;rchild = __insert(root-&gt;rchild, value);</span><br><span class="line">    <span class="keyword">return</span> insert_maintain(root);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">insert</span><span class="params">(Node *root, <span class="keyword">int</span> data)</span> </span>&#123;</span><br><span class="line">    root = __insert(root, data);</span><br><span class="line">    root-&gt;color = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">predecessor</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    Node *temp = root-&gt;lchild;</span><br><span class="line">    <span class="keyword">while</span> (temp-&gt;rchild != NIL) temp = temp-&gt;rchild;</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">erase_maintain</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root-&gt;lchild-&gt;color != <span class="number">2</span> &amp;&amp; root-&gt;rchild-&gt;color != <span class="number">2</span>) <span class="keyword">return</span> root;</span><br><span class="line">    <span class="keyword">if</span> (has_red_child(root)) &#123;<span class="comment">//å…„å¼ŸèŠ‚ç‚¹æ˜¯çº¢è‰²ï¼Œé€šè¿‡æ—‹è½¬ï¼Œè½¬å˜æˆå…„å¼ŸèŠ‚ç‚¹æ˜¯é»‘è‰²çš„æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">int</span> flag = <span class="number">0</span>;<span class="comment">//1ï¼šå³æ—‹ï¼Œ2ï¼šå·¦æ—‹</span></span><br><span class="line">        root-&gt;color = <span class="number">0</span>;<span class="comment">//åŸæ ¹èŠ‚ç‚¹æ”¹çº¢</span></span><br><span class="line">        <span class="keyword">if</span> (root-&gt;lchild-&gt;color == <span class="number">0</span>) &#123;<span class="comment">//å·¦å­©å­ä¸ºçº¢è‰²ï¼Œå³å­©å­ä¸ºåŒé»‘ç»“ç‚¹ï¼Œå‡æ‰ä¸€é‡é»‘è‰²ï¼Œå³æ—‹</span></span><br><span class="line">            root-&gt;rchild-&gt;color -= <span class="number">1</span>;</span><br><span class="line">            root = right_rotate(root);</span><br><span class="line">            flag = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;<span class="comment">//å³å­©å­ä¸ºçº¢è‰²,å·¦å­©å­ä¸ºåŒé»‘ç»“ç‚¹ï¼ŒåŒé»‘ç»“ç‚¹å‡æ‰ä¸€é‡é»‘è‰²ï¼Œå·¦æ—‹</span></span><br><span class="line">            root-&gt;lchild-&gt;color -= <span class="number">1</span>;</span><br><span class="line">            root = left_rotate(root);</span><br><span class="line">            flag = <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        root-&gt;color = <span class="number">1</span>;<span class="comment">//æ–°æ ¹èŠ‚ç‚¹æ”¹é»‘</span></span><br><span class="line">        <span class="keyword">if</span> (flag == <span class="number">1</span>) root-&gt;rchild = erase_maintain(root-&gt;rchild);<span class="comment">//è‹¥å‘ç”Ÿå³æ—‹ï¼Œå·²ç»è½¬å˜æˆå…„å¼Ÿç»“ç‚¹ä¸ºé»‘è‰²çš„æƒ…å†µï¼Œé€’å½’æ£€æŸ¥å³è¾¹æ˜¯å¦å¹³è¡¡,</span></span><br><span class="line">        <span class="keyword">else</span> root-&gt;lchild = erase_maintain(root-&gt;lchild);<span class="comment">//æ£€æŸ¥å·¦è¾¹æ˜¯å¦å¹³è¡¡</span></span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> ((root-&gt;lchild-&gt;color == <span class="number">2</span> &amp;&amp; !has_red_child(root-&gt;rchild)) ||</span><br><span class="line">        (root-&gt;rchild-&gt;color == <span class="number">2</span> &amp;&amp; !has_red_child(root-&gt;lchild)) ) &#123;</span><br><span class="line">        <span class="comment">//åŒé‡é»‘èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹æ˜¯é»‘è‰²ï¼Œå…„å¼ŸèŠ‚ç‚¹ä¸‹é¢çš„ä¸¤ä¸ªå­èŠ‚ç‚¹ä¹Ÿæ˜¯é»‘è‰²(å³æ— çº¢è‰²)</span></span><br><span class="line">            root-&gt;lchild-&gt;color -= <span class="number">1</span>;<span class="comment">//çˆ¶èŠ‚ç‚¹å¢åŠ ä¸€é‡é»‘è‰²ï¼ŒåŒé‡é»‘ä¸å…„å¼ŸèŠ‚ç‚¹ï¼Œåˆ†åˆ«å‡å°‘ä¸€é‡é»‘è‰²</span></span><br><span class="line">            root-&gt;rchild-&gt;color -= <span class="number">1</span>;</span><br><span class="line">            root-&gt;color += <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åŒé»‘ç»“ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹æ˜¯é»‘è‰²ï¼Œå¹¶ä¸”ï¼Œå…„å¼ŸèŠ‚ç‚¹ä¸­æœ‰çº¢è‰²å­èŠ‚ç‚¹</span></span><br><span class="line">    <span class="comment">//Rï¼ˆå…„å¼Ÿï¼‰Rï¼ˆå³å­èŠ‚ç‚¹ï¼‰ï¼Œå·¦æ—‹ï¼Œæ–°æ ¹ç»“ç‚¹æ”¹æˆåŸæ ¹ç»“ç‚¹çš„é¢œè‰²ï¼Œå°†æ–°æ ¹çš„ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œæ”¹æˆé»‘è‰²ï¼ŒåŒé‡é»‘å‡1</span></span><br><span class="line">    <span class="comment">//Rï¼ˆå…„å¼Ÿï¼‰Lï¼ˆå·¦å­èŠ‚ç‚¹ï¼‰(çº¢è‰²)ï¼Œå…ˆå°å³æ—‹ï¼Œå¯¹è°ƒæ–°æ ¹ä¸åŸæ ¹çš„é¢œè‰²ï¼Œè½¬æˆRR(RLâ†’RR)</span></span><br><span class="line">    <span class="keyword">if</span> (root-&gt;lchild-&gt;color == <span class="number">2</span>) &#123;<span class="comment">//å·¦å…„å¼Ÿä¸ºåŒé»‘ç»“ç‚¹</span></span><br><span class="line">        <span class="keyword">if</span> (root-&gt;rchild-&gt;rchild-&gt;color != <span class="number">0</span>) &#123;<span class="comment">//---- != root-&gt;rchild-&gt;rchild-&gt;color == 1(NIL)</span></span><br><span class="line">            <span class="comment">//------------ä¸æ˜¯çº¢è‰²</span></span><br><span class="line">            root-&gt;rchild-&gt;color = <span class="number">0</span>;</span><br><span class="line">            root-&gt;rchild = right_rotate(root-&gt;rchild);</span><br><span class="line">            root-&gt;rchild-&gt;color = <span class="number">1</span>;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        root = left_rotate(root);<span class="comment">//å¤§å·¦æ—‹</span></span><br><span class="line">        root-&gt;color = root-&gt;lchild-&gt;color;<span class="comment">//æ–°æ ¹ç»“ç‚¹æ”¹æˆåŸæ ¹ç»“ç‚¹çš„é¢œè‰²</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;<span class="comment">//å³å…„å¼Ÿç»“ç‚¹ä¸ºåŒé»‘ç»“ç‚¹</span></span><br><span class="line">        <span class="keyword">if</span> (root-&gt;lchild-&gt;lchild-&gt;color != <span class="number">0</span>) &#123;</span><br><span class="line">            root-&gt;lchild-&gt;color = <span class="number">0</span>;</span><br><span class="line">            root-&gt;lchild = left_rotate(root-&gt;lchild);</span><br><span class="line">            root-&gt;lchild-&gt;color = <span class="number">1</span>;</span><br><span class="line">            root-&gt;lchild-&gt;color -= <span class="number">1</span>;</span><br><span class="line">          </span><br><span class="line">        &#125;</span><br><span class="line">        root = right_rotate(root);<span class="comment">//å¤§å³æ—‹</span></span><br><span class="line">        root-&gt;color = root-&gt;rchild-&gt;color;</span><br><span class="line">    &#125;</span><br><span class="line">    root-&gt;lchild-&gt;color = root-&gt;rchild-&gt;color = <span class="number">1</span>;<span class="comment">//</span></span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Node *__erase(Node *root, <span class="keyword">int</span> value) &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == NIL) <span class="keyword">return</span> NIL;</span><br><span class="line">    <span class="keyword">if</span> (value &lt; root-&gt;data) root-&gt;lchild = __erase(root-&gt;lchild, value);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (value &gt; root-&gt;data) root-&gt;rchild = __erase(root-&gt;rchild, value);</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root-&gt;lchild == NIL || root-&gt;rchild == NIL) &#123;</span><br><span class="line">            Node *temp = root-&gt;lchild != NIL ? root-&gt;lchild : root-&gt;rchild;</span><br><span class="line">            temp-&gt;color += root-&gt;color;</span><br><span class="line">            <span class="comment">//è‹¥æ ¹èŠ‚ç‚¹ä¸ºçº¢è‰²ï¼Œå€¼ä¸å˜ï¼Œè‹¥ä¸ºé»‘è‰²ï¼Œå­å­©å­ä¸€å®šä¸ºçº¢è‰²ï¼Œ</span></span><br><span class="line">            <span class="comment">//temp == NILï¼Œrootåº¦ä¸º0ï¼Œåˆ™ï¼Œcolor=2,äº§ç”ŸåŒé»‘ç»“ç‚¹</span></span><br><span class="line">            <span class="built_in">free</span>(root);</span><br><span class="line">            <span class="keyword">return</span> temp;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            Node *temp = predecessor(root);</span><br><span class="line">            root-&gt;data = temp-&gt;data;</span><br><span class="line">            root-&gt;lchild = __erase(root-&gt;lchild, temp-&gt;data);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> erase_maintain(root);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">erase</span><span class="params">(Node *root, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">    root = __erase(root, value);</span><br><span class="line">    root-&gt;color = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">clear</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == NIL) <span class="keyword">return</span> ;</span><br><span class="line">    clear(root-&gt;lchild);</span><br><span class="line">    clear(root-&gt;rchild);</span><br><span class="line">    <span class="built_in">free</span>(root);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(%d| %d, %d, %d)\n&quot;</span>,</span><br><span class="line">        root-&gt;color, root-&gt;data,</span><br><span class="line">        root-&gt;lchild-&gt;data,</span><br><span class="line">        root-&gt;rchild-&gt;data</span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == NIL) <span class="keyword">return</span> ;</span><br><span class="line">    print(root);</span><br><span class="line">    output(root-&gt;lchild);</span><br><span class="line">    output(root-&gt;rchild);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> op, val;</span><br><span class="line">    Node *root = NIL;</span><br><span class="line">    <span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;op, &amp;val)) &#123;</span><br><span class="line">        <span class="keyword">switch</span> (op) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>: root = insert(root, val); <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>: root = erase(root, val); <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">3</span>: output(root);</span><br><span class="line">        &#125;</span><br><span class="line">        output(root);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;------------\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span> <span class="number">1</span></span><br><span class="line">(<span class="number">1</span>| <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">------------</span><br><span class="line"><span class="number">1</span> <span class="number">2</span></span><br><span class="line">(<span class="number">1</span>| <span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line">(<span class="number">0</span>| <span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">------------</span><br><span class="line"><span class="number">1</span> <span class="number">3</span></span><br><span class="line">(<span class="number">1</span>| <span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>)</span><br><span class="line">(<span class="number">1</span>| <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">(<span class="number">1</span>| <span class="number">3</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">------------</span><br><span class="line"><span class="number">2</span> <span class="number">3</span></span><br><span class="line">(<span class="number">1</span>| <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>)</span><br><span class="line">(<span class="number">0</span>| <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">------------</span><br></pre></td></tr></table></figure>


<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">1 1</span><br><span class="line">(1| 1, 0, 0)</span><br><span class="line">------------</span><br><span class="line">1 2</span><br><span class="line">(1| 1, 0, 2)</span><br><span class="line">(0| 2, 0, 0)</span><br><span class="line">------------</span><br><span class="line">1 3</span><br><span class="line">(1| 2, 1, 3)</span><br><span class="line">(1| 1, 0, 0)</span><br><span class="line">(1| 3, 0, 0)</span><br><span class="line">------------</span><br><span class="line">1 -5</span><br><span class="line">(1| 2, 1, 3)</span><br><span class="line">(1| 1, -5, 0)</span><br><span class="line">(0| -5, 0, 0)</span><br><span class="line">(1| 3, 0, 0)</span><br><span class="line">------------</span><br><span class="line">2 3</span><br><span class="line">(1| 1, -5, 2)</span><br><span class="line">(1| -5, 0, 0)</span><br><span class="line">(1| 2, 0, 0)</span><br><span class="line">------------</span><br></pre></td></tr></table></figure>


<img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-25%20%E4%B8%8A%E5%8D%881.47.12.png" alt="æˆªå±2020-12-25 ä¸Šåˆ1.47.12" style="zoom:50%;" />



<img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-25%20%E4%B8%8A%E5%8D%881.49.37.png" alt="æˆªå±2020-12-25 ä¸Šåˆ1.49.37" style="zoom:50%;" />





<h2 id="7-çº¢é»‘æ ‘ä»£ç å®ç°"><a href="#7-çº¢é»‘æ ‘ä»£ç å®ç°" class="headerlink" title="7.çº¢é»‘æ ‘ä»£ç å®ç°"></a>7.çº¢é»‘æ ‘ä»£ç å®ç°</h2><p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2021-01-05%20%E4%B8%8B%E5%8D%884.53.06.png" alt="æˆªå±2021-01-05 ä¸‹åˆ4.53.06"></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">    <span class="keyword">int</span> color;<span class="comment">//0 red, 1 black 2double black</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">lchild</span>, *<span class="title">rchild</span>;</span></span><br><span class="line">&#125; Node;</span><br><span class="line"></span><br><span class="line">Node __NIL;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NIL (&amp;__NIL)</span></span><br><span class="line">__attribute__((constructor))</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init_NIL</span><span class="params">()</span> </span>&#123;<span class="comment">//ç©ºèŠ‚ç‚¹</span></span><br><span class="line">    NIL-&gt;data = <span class="number">0</span>;</span><br><span class="line">    NIL-&gt;color = <span class="number">1</span>;</span><br><span class="line">    NIL-&gt;lchild = NIL-&gt;rchild = NIL;</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">getNewNode</span><span class="params">(<span class="keyword">int</span> data)</span> </span>&#123;<span class="comment">//åˆå§‹åŒ–ä¸€ä¸ªæ–°èŠ‚ç‚¹</span></span><br><span class="line">    Node *root = (Node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">    root-&gt;data = data;</span><br><span class="line">    root-&gt;color = <span class="number">0</span>;</span><br><span class="line">    root-&gt;lchild = root-&gt;rchild = NIL;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">has_red_child</span><span class="params">(Node *root)</span> </span>&#123;<span class="comment">//åˆ¤æ–­æ ¹èŠ‚ç‚¹çš„å­©å­ç»“ç‚¹æ˜¯å¦æœ‰çº¢è‰²</span></span><br><span class="line">    <span class="keyword">return</span> root-&gt;lchild-&gt;color == <span class="number">0</span> || root-&gt;rchild-&gt;color == <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">left_rotate</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//å·¦æ—‹ï¼Œæ—§æ ¹èŠ‚ç‚¹çš„å³å­©å­å˜æˆæ ¹èŠ‚ç‚¹ï¼Œæ—§æ ¹èŠ‚ç‚¹çš„å³å­©å­å˜æˆæ–°æ ¹èŠ‚ç‚¹çš„å·¦å­©å­ï¼Œæ–°æ ¹èŠ‚ç‚¹å·¦å­©å­å˜æˆæ—§æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    Node *temp = root-&gt;rchild;<span class="comment">//æ–°æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    root-&gt;rchild = temp-&gt;lchild;<span class="comment">//æ—§æ ¹èŠ‚ç‚¹çš„å³å­©å­å˜æˆæ–°æ ¹èŠ‚ç‚¹çš„å·¦å­©å­</span></span><br><span class="line">    temp-&gt;lchild = root;<span class="comment">//æ–°æ ¹èŠ‚ç‚¹å·¦å­©å­æ˜¯æ—§æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">right_rotate</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//å³æ—‹ï¼Œæ—§æ ¹èŠ‚ç‚¹å·¦å­©å­å˜æˆæ–°æ ¹èŠ‚ç‚¹ï¼Œæ—§æ ¹èŠ‚ç‚¹çš„å·¦å­©å­å˜æˆæ–°æ ¹èŠ‚ç‚¹çš„å³å­©å­ï¼Œæ–°æ ¹èŠ‚ç‚¹çš„å³å­©å­å˜æˆæ—§æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    Node *temp = root-&gt;lchild;<span class="comment">//æ–°æ ¹èŠ‚ç‚¹ä¸ºæ—§æ ¹èŠ‚ç‚¹çš„å·¦å­©å­</span></span><br><span class="line">    root-&gt;lchild = temp-&gt;rchild;<span class="comment">//æ—§æ ¹èŠ‚ç‚¹çš„å·¦å­©å­å˜æˆæ–°æ ¹èŠ‚ç‚¹çš„å³å­©å­</span></span><br><span class="line">    temp-&gt;rchild = root;<span class="comment">//æ–°æ ¹èŠ‚ç‚¹çš„å³å­©å­å˜æˆæ—§æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">insert_maintain</span><span class="params">(Node *root)</span> </span>&#123;<span class="comment">//æ’å…¥æ–°èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">if</span> (!has_red_child(root)) <span class="keyword">return</span> root;<span class="comment">//æ²¡æœ‰çº¢è‰²çš„å­©å­ï¼Œä¸éœ€è¦è°ƒæ•´</span></span><br><span class="line">    <span class="comment">//æ²¡æœ‰åˆ¤æ–­æ˜¯å¦å‘ç”ŸåŒçº¢å†²çª</span></span><br><span class="line">    <span class="comment">//ä¸å†²çªçš„è¯ï¼Œæ›´æ”¹é¢œè‰²ä¸å½±å“ç»“æœï¼Œå¦‚æœå‘ç”Ÿå†²çªï¼Œæ›´æ”¹é¢œè‰²ï¼Œè§£å†³å†²çªï¼Œrootå¿…å®šä¸ºé»‘è‰²ï¼Œå› ä¸ºå­©å­ä¸ºçº¢è‰²</span></span><br><span class="line">    <span class="keyword">int</span> flag = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//åˆ†ä¸ºä¸¤ç§æƒ…å†µ 1.æ ¹èŠ‚ç‚¹çš„å­©å­ä¸­éƒ½æ˜¯çº¢è‰²ç»“ç‚¹ï¼Œ2.æ ¹èŠ‚ç‚¹çš„å­©å­ä¸­æœ‰ä¸€ä¸ªæ˜¯çº¢è‰²</span></span><br><span class="line">    <span class="comment">// 1.æ ¹èŠ‚ç‚¹çš„å­©å­ä¸­éƒ½æ˜¯çº¢è‰²ç»“ç‚¹</span></span><br><span class="line">    <span class="keyword">if</span> (root-&gt;lchild-&gt;color == <span class="number">0</span> &amp;&amp; root-&gt;rchild-&gt;color == <span class="number">0</span> &amp;&amp; </span><br><span class="line">    (has_red_child(root-&gt;lchild) || has_red_child(root-&gt;rchild))) <span class="keyword">goto</span> insert_end;</span><br><span class="line">    <span class="comment">// 2.æ ¹èŠ‚ç‚¹çš„å­©å­ä¸­æœ‰ä¸€ä¸ªæ˜¯çº¢è‰²,ä½¿ç”¨flagæ ‡è®°ä¸¤ç§æƒ…å†µ</span></span><br><span class="line">    <span class="comment">// 2.1 æ ¹èŠ‚ç‚¹çš„å·¦å­©å­æ˜¯çº¢è‰²ï¼Œä¸”å·¦å­©å­çš„å­æ ‘ä¸­æœ‰çº¢è‰²ç»“ç‚¹</span></span><br><span class="line">    <span class="keyword">if</span> (root-&gt;lchild-&gt;color == <span class="number">0</span> &amp;&amp; has_red_child(root-&gt;lchild)) flag = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// 2.2 æ ¹ç»“ç‚¹çš„å³å­©å­æ˜¯çº¢è‰²ï¼Œä¸”å³å­©å­çš„å­æ ‘ä¸­æœ‰çº¢è‰²ç»“ç‚¹</span></span><br><span class="line">    <span class="keyword">if</span> (root-&gt;rchild-&gt;color == <span class="number">0</span> &amp;&amp; has_red_child(root-&gt;rchild)) flag = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span> (flag == <span class="number">0</span>) <span class="keyword">return</span> root;</span><br><span class="line">    <span class="keyword">if</span> (flag == <span class="number">1</span>) &#123; </span><br><span class="line">        <span class="comment">// 2.1 æ ¹èŠ‚ç‚¹çš„å·¦å­©å­æ˜¯çº¢è‰²ï¼Œä¸”å·¦å­©å­çš„å­æ ‘ä¸­æœ‰çº¢è‰²ç»“ç‚¹</span></span><br><span class="line">        <span class="comment">// 2.1.1 æ ¹èŠ‚ç‚¹çš„å·¦å­©å­çš„å³å­©å­ä¸ºçº¢è‰²ï¼Œä¸ºLRå‹ï¼Œéœ€è¦å°å·¦æ—‹å¤§å³æ—‹ï¼Œ</span></span><br><span class="line">        <span class="comment">// 2.1.2 æ ¹èŠ‚ç‚¹çš„å·¦å­©å­çš„å·¦å­©å­ä¸ºçº¢è‰²ï¼Œä¸ºLLå‹ï¼Œéœ€è¦å¤§å³æ—‹ï¼Œ</span></span><br><span class="line">        <span class="keyword">if</span> (root-&gt;lchild-&gt;rchild-&gt;color == <span class="number">0</span>)<span class="comment">//LR,éœ€è¦å°å·¦æ—‹ï¼Œå¤§å³æ—‹</span></span><br><span class="line">            root-&gt;lchild = left_rotate(root-&gt;lchild);</span><br><span class="line">        root = right_rotate(root);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 2.2 æ ¹ç»“ç‚¹çš„å³å­©å­æ˜¯çº¢è‰²ï¼Œä¸”å³å­©å­çš„å­æ ‘ä¸­æœ‰çº¢è‰²ç»“ç‚¹</span></span><br><span class="line">        <span class="comment">// 2.2.1 æ ¹èŠ‚ç‚¹çš„å³å­©å­çš„å·¦å­©å­ä¸ºçº¢è‰²ï¼Œä¸ºRLå‹ï¼Œéœ€è¦å°å³æ—‹å¤§å·¦æ—‹ï¼Œ</span></span><br><span class="line">        <span class="comment">// 2.2.2 æ ¹èŠ‚ç‚¹çš„å·¦å­©å­çš„å·¦å­©å­ä¸ºçº¢è‰²ï¼Œä¸ºRRå‹ï¼Œéœ€è¦å¤§å³æ—‹ï¼Œ</span></span><br><span class="line">        <span class="keyword">if</span> (root-&gt;rchild-&gt;lchild-&gt;color == <span class="number">0</span>) &#123;<span class="comment">//RL,éœ€è¦å°å³æ—‹ï¼Œå¤§å·¦æ—‹</span></span><br><span class="line">            root-&gt;rchild = right_rotate(root-&gt;rchild);</span><br><span class="line">        &#125;</span><br><span class="line">        root = left_rotate(root);</span><br><span class="line">    &#125;</span><br><span class="line">insert_end:</span><br><span class="line">    root-&gt;color = <span class="number">0</span>;<span class="comment">//è¿™é‡Œé€‰æ‹©çº¢è‰²ä¸Šæµ®ï¼Œå…¶å®çº¢è‰²ä¸Šæµ®ï¼Œçº¢è‰²ä¸‹æ²‰å‡å¯ï¼Œ</span></span><br><span class="line">    root-&gt;lchild-&gt;color = root-&gt;rchild-&gt;color = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Node *__insert(Node *root, <span class="keyword">int</span> value) &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == NIL) <span class="keyword">return</span> getNewNode(value);<span class="comment">//æ ¹èŠ‚ç‚¹ä¸ºç©ºæˆ–è€…æ‰¾åˆ°æ’å…¥ä½ç½®ï¼Œæ’å…¥æ–°èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">if</span> (root-&gt;data == value) <span class="keyword">return</span> root;<span class="comment">//æ–°æ’å…¥çš„ç»“ç‚¹å·²ç»å­˜åœ¨ï¼Œä¸éœ€è¦æ“ä½œ</span></span><br><span class="line">    <span class="comment">//åœ¨å·¦å­æ ‘ä¸­æ’å…¥</span></span><br><span class="line">    <span class="keyword">if</span> (value &lt; root-&gt;data) root-&gt;lchild = __insert(root-&gt;lchild, value);</span><br><span class="line">    <span class="comment">//åœ¨å³å­æ ‘ä¸­æ’å…¥</span></span><br><span class="line">    <span class="keyword">else</span> root-&gt;rchild = __insert(root-&gt;rchild, value);</span><br><span class="line">    <span class="comment">//æ’å…¥å®Œä¹‹åè¿›è¡Œå¹³è¡¡è°ƒæ•´ï¼Œç„¶å è¿”å›ç»“æœ</span></span><br><span class="line">    <span class="keyword">return</span> insert_maintain(root);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">insert</span><span class="params">(Node *root, <span class="keyword">int</span> value)</span> </span>&#123;<span class="comment">//æ’å…¥</span></span><br><span class="line">    root = __insert(root, value);</span><br><span class="line">    root-&gt;color = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">predecessor</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    Node *temp = root-&gt;lchild;</span><br><span class="line">    <span class="keyword">while</span> (temp-&gt;rchild != NIL) temp = temp-&gt;rchild;</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">erase_maintain</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">     <span class="keyword">if</span> (root-&gt;rchild-&gt;color != <span class="number">2</span> &amp;&amp; root-&gt;lchild-&gt;color !=  <span class="number">2</span>) <span class="keyword">return</span> root;</span><br><span class="line">     <span class="keyword">if</span> (!has_red_child(root)) &#123;<span class="comment">//1.åŒé»‘å…„å¼Ÿæ— çº¢è‰²</span></span><br><span class="line">         <span class="keyword">if</span> (root-&gt;lchild-&gt;color == <span class="number">2</span>) &#123;<span class="comment">//1.2å·¦åŒé»‘ç»“ç‚¹</span></span><br><span class="line">             <span class="keyword">if</span> (!has_red_child(root-&gt;rchild)) &#123;<span class="comment">//1.2.1åŒé»‘ç»“ç‚¹åœ¨å·¦ï¼Œä¸”å³å…„å¼Ÿå­ç»“ç‚¹æ— çº¢è‰²</span></span><br><span class="line">                 <span class="comment">//çˆ¶ç»“ç‚¹å¢åŠ 1é‡é»‘ï¼ŒåŒé‡é»‘ç»“ç‚¹ä¸å…„å¼Ÿç»“ç‚¹å‡å°‘1é‡é»‘</span></span><br><span class="line">                 root-&gt;color += <span class="number">1</span>;</span><br><span class="line">                 root-&gt;lchild-&gt;color -=<span class="number">1</span>;</span><br><span class="line">                 root-&gt;rchild-&gt;color -=<span class="number">1</span>;</span><br><span class="line">             &#125; <span class="keyword">else</span> &#123;<span class="comment">//1.2.2åŒé»‘ç»“ç‚¹åœ¨å·¦ï¼Œä¸”å³å…„å¼Ÿæœ‰çº¢è‰²å­ç»“ç‚¹ï¼Œåˆ†ä¸ºRL,RR</span></span><br><span class="line">                 root-&gt;lchild-&gt;color = <span class="number">1</span>;</span><br><span class="line">                 <span class="keyword">if</span> (root-&gt;rchild-&gt;rchild-&gt;color != <span class="number">0</span>) &#123;<span class="comment">// 1.2.2.3å³å…„å¼Ÿç»“ç‚¹ï¼Œå…¶å³å­©å­ä¸ä¸ºçº¢è‰²,å·¦å­©å­ä¸ºçº¢è‰²ï¼ŒRL</span></span><br><span class="line">                     <span class="comment">//å°å³æ—‹ï¼ŒåŸå…„å¼Ÿç»“ç‚¹æ”¹æˆçº¢è‰²ï¼Œæ–°å…„å¼Ÿç»“ç‚¹æ”¹æˆé»‘è‰²ï¼Œè½¬å˜æˆRRå‹</span></span><br><span class="line">                     <span class="comment">//root-&gt;rchild-&gt;lchild-&gt;color = root-&gt;rchild-&gt;color;//=1æ”¹é»‘**</span></span><br><span class="line">                     root-&gt;rchild-&gt;color = <span class="number">0</span>;<span class="comment">//æ”¹çº¢</span></span><br><span class="line">                     root-&gt;rchild = right_rotate(root-&gt;rchild);</span><br><span class="line">                     root-&gt;rchild-&gt;color = <span class="number">1</span>;<span class="comment">//æ”¹é»‘**</span></span><br><span class="line">                 &#125;</span><br><span class="line">                 <span class="comment">//å¤§å·¦æ—‹ï¼Œæ–°æ ¹ç»“ç‚¹ç­‰äºåŸæ ¹ç»“ç‚¹ [åŒé»‘ç»“ç‚¹çš„çˆ¶ç»“ç‚¹] çš„é¢œè‰²ï¼Œä¸¤ä¸ªæ–°çš„å­ç»“ç‚¹æ”¹ä¸ºé»‘è‰²ï¼ŒåŒé»‘ç»“ç‚¹å‡å°‘1é‡é»‘</span></span><br><span class="line">                 root-&gt;rchild-&gt;color = root-&gt;color;</span><br><span class="line">                 root = left_rotate(root);</span><br><span class="line">                 root-&gt;rchild-&gt;color = root-&gt;lchild-&gt;color = <span class="number">1</span>;</span><br><span class="line">             &#125;</span><br><span class="line">         &#125; <span class="keyword">else</span> <span class="keyword">if</span> (root-&gt;rchild-&gt;color == <span class="number">2</span>)&#123;<span class="comment">//1.3å³åŒé»‘ç»“ç‚¹</span></span><br><span class="line">             <span class="keyword">if</span> (!has_red_child(root-&gt;lchild)) &#123;<span class="comment">//1.3.1åŒé»‘ç»“ç‚¹åœ¨å³ï¼Œä¸”å·¦å…„å¼Ÿå­ç»“ç‚¹æ— çº¢è‰²,</span></span><br><span class="line">                 <span class="comment">//çˆ¶ç»“ç‚¹å¢åŠ 1é‡é»‘ï¼ŒåŒé‡é»‘ç»“ç‚¹ä¸å…„å¼Ÿç»“ç‚¹å‡å°‘1é‡é»‘</span></span><br><span class="line">                 root-&gt;color += <span class="number">1</span>;</span><br><span class="line">                 root-&gt;lchild-&gt;color -=<span class="number">1</span>;</span><br><span class="line">                 root-&gt;rchild-&gt;color -=<span class="number">1</span>;</span><br><span class="line">             &#125; <span class="keyword">else</span> &#123;<span class="comment">//1.3.2åŒé»‘ç»“ç‚¹åœ¨å³ï¼Œä¸”å·¦å…„å¼Ÿæœ‰çº¢è‰²å­ç»“ç‚¹ï¼Œåˆ†ä¸ºLR,LL</span></span><br><span class="line">                 root-&gt;rchild-&gt;color = <span class="number">1</span>;<span class="comment">//åŒé‡é»‘å‡ä¸€é‡é»‘</span></span><br><span class="line">                 <span class="keyword">if</span> (root-&gt;lchild-&gt;lchild-&gt;color != <span class="number">0</span>) &#123;<span class="comment">// 1.3.2.3å·¦å…„å¼Ÿç»“ç‚¹ï¼Œå…¶å³å­©å­ä¸ä¸ºçº¢è‰²,å³å·¦å­©å­ä¸ºçº¢è‰²,LL</span></span><br><span class="line">                     <span class="comment">//å°å·¦æ—‹ï¼ŒåŸå…„å¼Ÿç»“ç‚¹æ”¹æˆçº¢è‰²ï¼Œæ–°å…„å¼Ÿç»“ç‚¹æ”¹æˆé»‘è‰²ï¼Œè½¬å˜æˆLLå‹</span></span><br><span class="line">                     <span class="comment">//root-&gt;lchild-&gt;rchild-&gt;color = root-&gt;lchild-&gt;color;//=1</span></span><br><span class="line">                     root-&gt;lchild-&gt;color = <span class="number">0</span>;<span class="comment">//æ”¹çº¢</span></span><br><span class="line">                     root-&gt;lchild = left_rotate(root-&gt;lchild);</span><br><span class="line">                     root-&gt;lchild-&gt;color = <span class="number">1</span>;<span class="comment">//æ”¹é»‘</span></span><br><span class="line">                 &#125;</span><br><span class="line">                 <span class="comment">//å¤§å³æ—‹ï¼Œæ–°æ ¹ç»“ç‚¹ç­‰äºåŸæ ¹ç»“ç‚¹ [åŒé»‘ç»“ç‚¹çš„çˆ¶ç»“ç‚¹] çš„é¢œè‰²ï¼Œä¸¤ä¸ªæ–°çš„å­ç»“ç‚¹æ”¹ä¸ºé»‘è‰²ï¼ŒåŒé»‘ç»“ç‚¹å‡å°‘1é‡é»‘</span></span><br><span class="line">                 root-&gt;lchild-&gt;color = root-&gt;color;</span><br><span class="line">                 root = right_rotate(root);</span><br><span class="line">                 root-&gt;rchild-&gt;color = root-&gt;lchild-&gt;color = <span class="number">1</span>;</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;</span><br><span class="line">     &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">         <span class="comment">//2.åŒé»‘å…„å¼Ÿç»“ç‚¹æœ‰çº¢è‰²,æŠ“ç€åŒé»‘ç»“ç‚¹çš„çˆ¶ç»“ç‚¹ï¼Œå‘åŒé»‘ç»“ç‚¹æ—‹è½¬ï¼ŒåŸæ ¹ç»“ç‚¹æ”¹ä¸ºçº¢è‰²ï¼Œæ–°æ ¹ç»“ç‚¹æ”¹ä¸ºé»‘è‰²</span></span><br><span class="line">         <span class="keyword">if</span> (root-&gt;lchild-&gt;color == <span class="number">0</span>) &#123;<span class="comment">//2.2å³åŒé»‘,å·¦ä¸ºçº¢,å‘å³æ—‹è½¬,åŸæ ¹ç»“ç‚¹æ”¹ä¸ºçº¢è‰²ï¼Œæ–°æ ¹ç»“ç‚¹æ”¹ä¸ºé»‘è‰²</span></span><br><span class="line">            <span class="comment">//root-&gt;lchild-&gt;color = root-&gt;color;</span></span><br><span class="line">            root-&gt;color = <span class="number">0</span>;</span><br><span class="line">            root = right_rotate(root);</span><br><span class="line">            root-&gt;color = <span class="number">1</span>;</span><br><span class="line">            root-&gt;rchild = erase_maintain(root-&gt;rchild);</span><br><span class="line">         &#125; <span class="keyword">else</span> &#123;<span class="comment">//2.3å·¦åŒé»‘,å³ä¸ºçº¢,å‘å·¦æ—‹è½¬,åŸæ ¹ç»“ç‚¹æ”¹ä¸ºçº¢è‰²ï¼Œæ–°æ ¹ç»“ç‚¹æ”¹ä¸ºé»‘è‰²</span></span><br><span class="line">            <span class="comment">//root-&gt;rchild-&gt;color = root-&gt;color;</span></span><br><span class="line">            root-&gt;color = <span class="number">0</span>;</span><br><span class="line">            root = left_rotate(root);</span><br><span class="line">            root-&gt;color = <span class="number">1</span>;</span><br><span class="line">            root-&gt;lchild = erase_maintain(root-&gt;lchild);</span><br><span class="line">        &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Node *__erase(Node *root, <span class="keyword">int</span> value) &#123;</span><br><span class="line">    <span class="comment">//åˆ é™¤æœ‰ä¸¤ç§æƒ…å†µï¼Œåˆ é™¤åº¦ä¸º2ï¼Œå’Œåˆ é™¤åº¦ä¸º0å’Œ1</span></span><br><span class="line">    <span class="keyword">if</span> (root == NIL) <span class="keyword">return</span> NIL;<span class="comment">//æ²¡æœ‰è¦åˆ é™¤çš„å€¼</span></span><br><span class="line">    <span class="keyword">if</span> (value &lt; root-&gt;data) root-&gt;lchild = __erase(root-&gt;lchild, value);<span class="comment">// è¦åˆ é™¤çš„å€¼åœ¨å·¦å­æ ‘ä¸­</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (value &gt; root-&gt;data) root-&gt;rchild = __erase(root-&gt;rchild, value);<span class="comment">// è¦åˆ é™¤çš„å€¼åœ¨å³å­æ ‘ä¸­</span></span><br><span class="line">    <span class="keyword">else</span> &#123;<span class="comment">// æ‰¾åˆ°è¦åˆ é™¤çš„å€¼ï¼Œæœ‰4ç§æƒ…å†µ</span></span><br><span class="line">        <span class="comment">// 1.è¦åˆ é™¤çš„ç»“ç‚¹çš„å­©å­ç»“ç‚¹æœ‰ç©ºèŠ‚ç‚¹ï¼Œå³åˆ é™¤åº¦ä¸º1æˆ–è€…åº¦ä¸º0çš„ç»“ç‚¹</span></span><br><span class="line">        <span class="keyword">if</span> (root-&gt;lchild == NIL || root-&gt;rchild == NIL) &#123;</span><br><span class="line">            Node *temp = root-&gt;lchild != NIL ? root-&gt;lchild : root-&gt;rchild;</span><br><span class="line">            temp-&gt;color += root-&gt;color;</span><br><span class="line">            <span class="comment">// 1.1åˆ é™¤åº¦ä¸º1çš„ç»“ç‚¹ï¼Œåˆ†ä¸¤ç§æƒ…å†µ</span></span><br><span class="line">            <span class="comment">// 1.1.1è‹¥åˆ é™¤çš„æ ¹èŠ‚ç‚¹ä¸ºçº¢è‰²ï¼Œä¸ä¼šå¯¹çº¢é»‘æ ‘çš„å¹³è¡¡äº§ç”Ÿå½±å“ï¼Œ</span></span><br><span class="line">            <span class="comment">// 1.1.2è‹¥åˆ é™¤çš„æ ¹èŠ‚ç‚¹ä¸ºé»‘è‰²ï¼Œä»–çš„å­å­©å­ä¸€å®šä¸ºçº¢è‰²ï¼Œå¦‚æœä¸ºé»‘è‰²ï¼Œæ ‘ä¸ä¼šå¹³è¡¡ï¼›åˆ é™¤æ ¹èŠ‚ç‚¹ä¸ºé»‘è‰²ï¼Œtemp-&gt;color = 2;äº§ç”ŸåŒé‡é»‘ç»“ç‚¹</span></span><br><span class="line">            <span class="comment">// 1.2åˆ é™¤åº¦ä¸º0çš„ç»“ç‚¹ï¼Œåˆ†ä¸¤ç§æƒ…å†µ</span></span><br><span class="line">            <span class="comment">// 1.2.1åˆ é™¤åº¦ä¸º0çš„çº¢è‰²ç»“ç‚¹ï¼Œä¸ä¼šäº§ç”Ÿå½±å“</span></span><br><span class="line">            <span class="comment">// 1.2.2åˆ é™¤åº¦ä¸º0çš„é»‘è‰²ç»“ç‚¹ï¼Œtemp = NIL,color=2,äº§ç”ŸåŒé»‘ç»“ç‚¹</span></span><br><span class="line">            <span class="built_in">free</span>(root);<span class="comment">//é‡Šæ”¾è¦åˆ é™¤çš„ç»“ç‚¹</span></span><br><span class="line">            <span class="keyword">return</span> temp;</span><br><span class="line">        <span class="comment">// 2.åˆ é™¤åº¦ä¸º2çš„ç»“ç‚¹ï¼Œè½¬æ¢æˆåº¦ä¸º1æˆ–0çš„ç»“ç‚¹ï¼Œè½¬æ¢çš„æ–¹æ³•æ˜¯å’Œä»–çš„å‰é©±ç»“ç‚¹äº¤æ¢ </span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            Node *temp = predecessor(root);</span><br><span class="line">            root-&gt;data = temp-&gt;data;</span><br><span class="line">            root-&gt;lchild = __erase(root-&gt;lchild, temp-&gt;data);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    root = erase_maintain(root);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">erase</span><span class="params">(Node *root, <span class="keyword">int</span> value)</span> </span>&#123;<span class="comment">//åˆ é™¤ç»“ç‚¹</span></span><br><span class="line">    root = __erase(root, value);</span><br><span class="line">    root-&gt;color = <span class="number">1</span>;<span class="comment">//æ ¹èŠ‚ç‚¹ä¸ºé»‘è‰²</span></span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">clear</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == NIL) <span class="keyword">return</span> ;</span><br><span class="line">    clear(root-&gt;lchild);</span><br><span class="line">    clear(root-&gt;rchild);</span><br><span class="line">    <span class="built_in">free</span>(root);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d %d %d %d\n&quot;</span>,</span><br><span class="line">        root-&gt;data, </span><br><span class="line">        root-&gt;color,</span><br><span class="line">        root-&gt;lchild-&gt;data,</span><br><span class="line">        root-&gt;rchild-&gt;data</span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(Node *root)</span> </span>&#123;<span class="comment">//ä¸­åºéå†</span></span><br><span class="line">    <span class="keyword">if</span> (root == NIL) <span class="keyword">return</span> ;</span><br><span class="line">    output(root-&gt;lchild);</span><br><span class="line">    print(root);</span><br><span class="line">    output(root-&gt;rchild);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> op, val;</span><br><span class="line">    Node *root = NIL;</span><br><span class="line">    <span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;op, &amp;val)) &#123;</span><br><span class="line">        <span class="keyword">switch</span> (op) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>: root = insert(root, val); <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>: root = erase(root, val); <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">3</span>: output(root);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//output(root);</span></span><br><span class="line">        <span class="comment">//printf(&quot;------------\n&quot;);</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


















<h1 id="5-å“ˆå¤«æ›¼æ ‘"><a href="#5-å“ˆå¤«æ›¼æ ‘" class="headerlink" title="5.å“ˆå¤«æ›¼æ ‘"></a>5.å“ˆå¤«æ›¼æ ‘</h1><h2 id="1-ç¼–ç "><a href="#1-ç¼–ç " class="headerlink" title="1.ç¼–ç "></a>1.ç¼–ç </h2><h3 id="ä»€ä¹ˆæ˜¯ç¼–ç "><a href="#ä»€ä¹ˆæ˜¯ç¼–ç " class="headerlink" title="ä»€ä¹ˆæ˜¯ç¼–ç "></a>ä»€ä¹ˆæ˜¯ç¼–ç </h3><p>â€˜aâ€™ = 97 = $(0110\ 0001)_2$</p>
<p>â€˜0â€™ = 48 = $(0011\ 0000)_2$</p>
<p>æ³¨æ„ï¼šä»»ä½•ä¿¡æ¯ï¼Œåœ¨è®¡ç®—æœºä¸­ï¼Œéƒ½æ˜¯äºŒè¿›åˆ¶å­˜å‚¨çš„</p>
<p>ä¿¡æ¯ï¼šâ€aa00â€ = $01100001ã€01100001ã€00110000ã€00110000$</p>
<p>ä¸€å°è®¡ç®—æœº   ä¼ è¾“åˆ°  å¦å¤–ä¸€å°è®¡ç®—æœºï¼Œä¼ è¾“ 32 ä¸ªæ¯”ç‰¹ä½</p>
<p>å‡è®¾ï¼šè®¡ç®—æœºçš„ç½‘ç»œæ˜¯ 32bit/sã€‚æ‰€ä»¥ç”¨æ—¶ï¼š1 s</p>
<p>ç‰¹å®šåœºé™ï¼šåªæœ‰ a,b,0,1 å››ç§å­—ç¬¦éœ€è¦ä¼ è¾“</p>
<p>æµ·è´¼ç­ç¼–ç ï¼ša:00, b: 01, 0: 10, 1: 11</p>
<p>â€œaa00â€ = 00001010</p>
<p>åœ¨å¸¦å®½ä¸å˜çš„æƒ…å†µä¸‹ï¼Œå½“å‰åªéœ€è¦ä¼ è¾“ 0.25s</p>
<h3 id="å®šé•¿ä¸å˜é•¿ç¼–ç "><a href="#å®šé•¿ä¸å˜é•¿ç¼–ç " class="headerlink" title="å®šé•¿ä¸å˜é•¿ç¼–ç "></a>å®šé•¿ä¸å˜é•¿ç¼–ç </h3><ol start="2">
<li>Asciiç¼–ç å’Œç‰¹å®šåœºæ™¯ä¸‹çš„ç¼–ç ï¼Œéƒ½å±äºå®šé•¿ç¼–ç </li>
<li>å¯¹äºæ¯ä¸€ä¸ªå­—ç¬¦ï¼Œç¼–ç é•¿åº¦ç›¸åŒï¼Œè¿™å°±æ˜¯å®šé•¿ç¼–ç </li>
<li>UTF-8ç¼–ç æ˜¯å˜é•¿ç¼–ç ï¼ŒUTF-16æ˜¯å®šé•¿ç¼–ç </li>
<li>å¯¹äºæ¯ä¸€ä¸ªå­—ç¬¦ï¼Œç¼–ç é•¿åº¦ä¸åŒï¼Œè¿™å°±æ˜¯å˜é•¿ç¼–ç </li>
<li>å°†å®šé•¿ç¼–ç ï¼Œçœ‹æˆæ˜¯å˜é•¿ç¼–ç çš„ç‰¹ä¾‹</li>
<li>å˜é•¿ç¼–ç ï¼Œä¸€å®šä¸å·®äºå®šé•¿ç¼–ç </li>
</ol>
<h3 id="å˜é•¿ç¼–ç åº”ç”¨åœºæ™¯"><a href="#å˜é•¿ç¼–ç åº”ç”¨åœºæ™¯" class="headerlink" title="å˜é•¿ç¼–ç åº”ç”¨åœºæ™¯"></a>å˜é•¿ç¼–ç åº”ç”¨åœºæ™¯</h3><p>ç‰¹å®šåœºé™ï¼š</p>
<ol>
<li>åªæœ‰å››ç§å­—ç¬¦ : ab01</li>
<li>a: 0.8, b: 0.05, 0: 0.1, 1: 0.05</li>
</ol>
<p>å¹³å‡ç¼–ç é•¿åº¦ï¼š</p>
<p>$l_i$ï¼šç¬¬ i ç§å­—ç¬¦ï¼Œç¼–ç é•¿åº¦</p>
<p>$p_i$ï¼šç¬¬ i ç§å­—ç¬¦ï¼Œå‡ºç°æ¦‚ç‡</p>
<p>$avg(l) = \sum{l_i}\times{p_i}$</p>
<p>å‡è®¾ï¼Œå¹³å‡ç¼–ç é•¿åº¦ï¼š1.16ï¼Œä¼°ç®—ä¼ è¾“100ä¸ªå­—ç¬¦ï¼Œéœ€è¦ä¼ è¾“116ä¸ªæ¯”ç‰¹ä½</p>
<p>æµ·è´¼ç­ç¼–ç çš„å¹³å‡ç¼–ç é•¿åº¦ï¼š$avg(l) = 2\times\sum{p_i}=2$</p>
<p>å¹³å‡ç¼–ç é•¿åº¦å°±æ˜¯ç¼–ç çš„å®šé•¿</p>
<p>æ–°Â·æµ·è´¼ç­ç¼–ç ï¼š</p>
<p>a: 1</p>
<p>b: 01</p>
<p>0: 000</p>
<p>1: 001</p>
<p>å¹³å‡ç¼–ç é•¿åº¦ï¼š$1<em>0.8+2</em>0.05+3<em>0.1+3</em>0.05=1.35$</p>
<p>100ä¸ªå­—ç¬¦ï¼Œä¼ è¾“135ä¸ªæ¯”ç‰¹ä½</p>
<p>==&gt;å°†å®šé•¿ç¼–ç çœ‹æˆå˜é•¿ç¼–ç çš„ç‰¹ä¾‹ï¼Œå˜é•¿ç¼–ç ä¸å·®äºå®šé•¿ç¼–ç </p>
<h2 id="2-å“ˆå¤«æ›¼ç¼–ç "><a href="#2-å“ˆå¤«æ›¼ç¼–ç " class="headerlink" title="2.å“ˆå¤«æ›¼ç¼–ç "></a>2.å“ˆå¤«æ›¼ç¼–ç </h2><ol>
<li>é¦–å…ˆï¼Œç»Ÿè®¡å¾—åˆ°æ¯ä¸€ç§å­—ç¬¦çš„æ¦‚ç‡</li>
<li>å°† n ä¸ªå­—ç¬¦ï¼Œå»ºç«‹æˆä¸€æ£µå“ˆå¼—æ›¼æ ‘</li>
<li>æ¯ä¸€ä¸ªå­—ç¬¦ï¼Œéƒ½è½åœ¨å¶å­ç»“ç‚¹ä¸Š</li>
<li>æŒ‰ç…§å·¦0ï¼Œå³1çš„å½¢å¼ï¼Œå°†ç¼–ç è¯»å–å‡ºæ¥</li>
</ol>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-29%20%E4%B8%8A%E5%8D%8810.14.23.png" alt="æˆªå±2020-12-29 ä¸Šåˆ10.14.23"></p>
<p>å¾—åˆ°æ–°ç¼–ç ï¼š</p>
<p>a: 0 | b: 110 | 0: 10 | 1: 111</p>
<p>å¹³å‡ç¼–ç é•¿åº¦ï¼š$1<em>0.8+3</em>0.05+2<em>0.1+3</em>0.05=1.3$</p>
<p>ç»“è®ºï¼šå“ˆå¼—æ›¼ç¼–ç ï¼Œæ˜¯æœ€ä¼˜çš„å˜é•¿ç¼–ç </p>
<h2 id="4-å…¬å¼è¯æ˜"><a href="#4-å…¬å¼è¯æ˜" class="headerlink" title="4.å…¬å¼è¯æ˜"></a>4.å…¬å¼è¯æ˜</h2><ol>
<li>é¦–å…ˆè¡¨ç¤ºå¹³å‡ç¼–ç é•¿åº¦ï¼Œæ±‚è§£å…¬å¼æœ€ä¼˜è§£</li>
<li>æœ€ç»ˆï¼Œå’Œç†µä¸äº¤å‰ç†µä¹‹é—´çš„å…³ç³»</li>
</ol>
<p>Â è¯æ˜$\sum{l_i}\times{p_i}$æœ€å°ï¼Œä»¤$l = -lâ€™$ï¼Œå³è¯æ˜$-\sum{l_i}\times{p_i}$æœ€å°</p>
<p>çº¦æŸ$\sum{l_i}\times{p_i} &lt;=  1$</p>
<img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-29%20%E4%B8%8B%E5%8D%8812.28.35.png" alt="æˆªå±2020-12-29 ä¸‹åˆ12.28.35" style="zoom: 33%;" />



<img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-29%20%E4%B8%8B%E5%8D%8812.45.54.png" alt="æˆªå±2020-12-29 ä¸‹åˆ12.45.54" style="zoom: 33%;" />



<img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-29%20%E4%B8%8B%E5%8D%881.02.11.png" alt="æˆªå±2020-12-29 ä¸‹åˆ1.02.11" style="zoom:33%;" />





<img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-30%20%E4%B8%8A%E5%8D%889.35.56.png" alt="æˆªå±2020-12-30 ä¸Šåˆ9.35.56" style="zoom:33%;" />



<img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2020-12-30%20%E4%B8%8A%E5%8D%889.51.45.png" alt="æˆªå±2020-12-30 ä¸Šåˆ9.51.45" style="zoom:33%;" />





<h2 id="5-ä»£ç æ¼”ç¤º"><a href="#5-ä»£ç æ¼”ç¤º" class="headerlink" title="5.ä»£ç æ¼”ç¤º"></a>5.ä»£ç æ¼”ç¤º</h2><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> swap(a, b) &#123; \</span></span><br><span class="line">    __typeof(a) __c = a; \</span><br><span class="line">    a = b, b = __c; \</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> &#123;</span></span><br><span class="line">    <span class="keyword">char</span> ch;</span><br><span class="line">    <span class="keyword">double</span> p;<span class="comment">//æ¦‚ç‡å€¼</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">lchild</span>, *<span class="title">rchild</span>;</span></span><br><span class="line">&#125; Node;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">getNewNode</span><span class="params">(<span class="keyword">char</span> _ch, <span class="keyword">double</span> _per)</span> </span>&#123;</span><br><span class="line">    Node *p = (Node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">    p-&gt;ch = _ch;</span><br><span class="line">    p-&gt;p = _per;</span><br><span class="line">    p-&gt;lchild = p-&gt;rchild = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">CombinNode</span><span class="params">(Node *a, Node *b)</span> </span>&#123;<span class="comment">//åˆå¹¶æˆæ–°ç»“ç‚¹</span></span><br><span class="line">    Node *p = getNewNode(<span class="number">0</span>, a-&gt;p + b-&gt;p);</span><br><span class="line">    p-&gt;lchild = a;</span><br><span class="line">    p-&gt;rchild = b;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pick_min</span><span class="params">(Node **arr, <span class="keyword">int</span> n)</span> </span>&#123;<span class="comment">//æ‰¾åˆ°æ¦‚ç‡æœ€å°çš„ç»“ç‚¹</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = n - <span class="number">1</span>; j &gt;= <span class="number">0</span>; --j) &#123;</span><br><span class="line">        <span class="keyword">if</span> (arr[n]-&gt;p &gt; arr[j]-&gt;p) &#123;</span><br><span class="line">            swap(arr[n], arr[j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">getHaffmanTree</span><span class="params">(Node **arr, <span class="keyword">int</span> n)</span> </span>&#123;<span class="comment">//ç”Ÿæˆnä¸ªç»“ç‚¹çš„å“ˆå¤«æ›¼æ ‘ï¼Œnä¸ªç»“ç‚¹å¾ªç¯n-1æ¬¡å½¢æˆæ ‘</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        pick_min(arr, n - i);<span class="comment">//æœ€å°çš„æ”¾åœ¨æœ€åé¢ï¼Œæ¬¡ä¹‹æ”¾å€’æ•°ç¬¬äºŒ</span></span><br><span class="line">        pick_min(arr, n - i - <span class="number">1</span>);</span><br><span class="line">        arr[n - i - <span class="number">1</span>] = CombinNode(arr[n - i], arr[n - i - <span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> __output_encode(Node *root, <span class="keyword">char</span> *str, <span class="keyword">int</span> k) &#123;</span><br><span class="line">    str[k] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (root-&gt;lchild == <span class="literal">NULL</span> &amp;&amp; root-&gt;rchild == <span class="literal">NULL</span>) &#123;<span class="comment">//æ ¹èŠ‚ç‚¹</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c %s\n&quot;</span>, root-&gt;ch, str);</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    str[k] = <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    __output_encode(root-&gt;lchild, str, k + <span class="number">1</span>);<span class="comment">//å·¦0å³1</span></span><br><span class="line">    str[k] = <span class="string">&#x27;1&#x27;</span>;</span><br><span class="line">    __output_encode(root-&gt;rchild, str, k + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output_encode</span><span class="params">(Node *root)</span> </span>&#123;<span class="comment">//</span></span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">100</span>];</span><br><span class="line">    __output_encode(root, str, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">clear</span><span class="params">(Node *root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">NULL</span>) <span class="keyword">return</span> ;</span><br><span class="line">    clear(root-&gt;lchild);</span><br><span class="line">    clear(root-&gt;rchild);</span><br><span class="line">    <span class="built_in">free</span>(root);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    Node **arr;<span class="comment">//æ•°ç»„</span></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);<span class="comment">//è¦è¾“èŠ‚ç‚¹æ•°é‡</span></span><br><span class="line">    arr = (Node **)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node *) * n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">char</span> ch[<span class="number">10</span>];</span><br><span class="line">        <span class="keyword">double</span> p;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s%lf&quot;</span>, ch, &amp;p);<span class="comment">//è¾“å…¥èŠ‚ç‚¹</span></span><br><span class="line">        arr[i] = getNewNode(ch[<span class="number">0</span>], p);</span><br><span class="line">    &#125;</span><br><span class="line">    Node *root = getHaffmanTree(arr, n);<span class="comment">//è·å–å“ˆå¤«æ›¼æ ‘</span></span><br><span class="line">    output_encode(root);<span class="comment">//è¾“å‡ºå“ˆå¤«æ›¼æ ‘</span></span><br><span class="line">    clear(root);</span><br><span class="line">    <span class="built_in">free</span>(arr);</span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>








<h1 id="6-å•è°ƒæ ˆå’Œå•è°ƒé˜Ÿåˆ—"><a href="#6-å•è°ƒæ ˆå’Œå•è°ƒé˜Ÿåˆ—" class="headerlink" title="6.å•è°ƒæ ˆå’Œå•è°ƒé˜Ÿåˆ—"></a>6.å•è°ƒæ ˆå’Œå•è°ƒé˜Ÿåˆ—</h1><h2 id="6-1è¯¾å‰çƒ­èº«"><a href="#6-1è¯¾å‰çƒ­èº«" class="headerlink" title="6.1è¯¾å‰çƒ­èº«"></a>6.1è¯¾å‰çƒ­èº«</h2><h3 id="6-1HZOJ-261-æ•°æ®ç»“æ„"><a href="#6-1HZOJ-261-æ•°æ®ç»“æ„" class="headerlink" title="6.1HZOJ-261-æ•°æ®ç»“æ„"></a>6.1HZOJ-261-æ•°æ®ç»“æ„</h3><p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2021-01-14%20%E4%B8%8B%E5%8D%889.40.35.png" alt="æˆªå±2021-01-14 ä¸‹åˆ9.40.35"></p>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2021-01-14%20%E4%B8%8B%E5%8D%889.40.47.png" alt="æˆªå±2021-01-14 ä¸‹åˆ9.40.47"></p>
<ol>
<li><p>å…³é”®å°±æ˜¯æ–°é€ ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œç»“æ„å®šä¹‰ + ç»“æ„æ“ä½œ</p>
</li>
<li><p>æ¨¡æ‹Ÿå…‰æ ‡çš„åŠŸèƒ½ï¼Œå·¦ç§»åŠ¨ã€å³ç§»åŠ¨ã€æ’å…¥ã€åˆ é™¤ï¼Œç”¨å¯¹é¡¶æ ˆæ¨¡æ‹Ÿ</p>
</li>
<li><p>å®ç°å¯¹é¡¶æ ˆï¼Œç”¨æ•°ç»„æ¨¡æ‹Ÿã€ç”¨é“¾è¡¨æ¨¡æ‹Ÿ</p>
</li>
<li><p>é¢˜ç›®ä¸­çš„ BUGï¼šQuery K ä¸­ï¼ŒK å¯èƒ½å¤§äºå½“å‰ä½ç½®</p>
<hr>
</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cinttypes&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NewStruct</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    NewStruct() &#123;</span><br><span class="line">        sum[<span class="number">0</span>] = <span class="number">0</span>;<span class="comment">//sum[0] = 0;</span></span><br><span class="line">        ans[<span class="number">0</span>] = INT64_MIN;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;<span class="comment">//æ’å…¥å…ƒç´ </span></span><br><span class="line">        s1.push(x);<span class="comment">//åœ¨s1ä¸­æ’å…¥</span></span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> val = s1.top() + sum[s1.size() - <span class="number">1</span>];</span><br><span class="line">        sum[s1.size()] = val;<span class="comment">//å‰ié¡¹å’Œ</span></span><br><span class="line">        ans[s1.size()] = max(ans[s1.size() - <span class="number">1</span>], val);<span class="comment">//å‰ié¡¹å’Œçš„æœ€å¤§å€¼ï¼Œåœ¨å‰ié¡¹å’Œsumå’Œå‰i-1é¡¹å’Œä¸­çš„æœ€å¤§å€¼åšæ¯”è¾ƒ</span></span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">del</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (s1.empty()) <span class="keyword">return</span> ;</span><br><span class="line">        s1.pop();</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">move_left</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (s1.empty()) <span class="keyword">return</span> ;</span><br><span class="line">        s2.push(s1.top());</span><br><span class="line">        del();</span><br><span class="line">        <span class="comment">//s1.pop();</span></span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">move_right</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (s2.empty()) <span class="keyword">return</span> ;</span><br><span class="line">        insert(s2.top());</span><br><span class="line">        <span class="comment">//s1.push(s2.top());</span></span><br><span class="line">        s2.pop();</span><br><span class="line">        <span class="comment">//sum.pop_back(s2.top());</span></span><br><span class="line">        <span class="comment">//ans.push_back(s1.top() + sum[sum.size() - 1]);</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ans[k];</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">stack</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt; s1, s2;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> sum[<span class="number">1005</span>];</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> ans[<span class="number">1005</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> n;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;<span class="comment">//è¾“å…¥ç¬¬ä¸€è¡Œä¸ºæ“ä½œæ•° ğ‘ã€‚</span></span><br><span class="line">    <span class="built_in">string</span> op;</span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    NewStruct s;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; op;</span><br><span class="line">        <span class="keyword">switch</span>(op[<span class="number">0</span>]) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;I&#x27;</span>: <span class="built_in">cin</span> &gt;&gt; val; s.insert(val); <span class="keyword">break</span>;<span class="comment">//åœ¨å½“å‰ä½ç½®æ’å…¥ ğ‘¥ å…ƒç´ ï¼›</span></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;D&#x27;</span>: s.del(); <span class="keyword">break</span>;<span class="comment">// åˆ é™¤å½“å‰ä½ç½®çš„å…ƒç´ ï¼›</span></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;L&#x27;</span>: s.move_left(); <span class="keyword">break</span>;<span class="comment">//å°†å½“å‰ä½ç½®å·¦ç§»ä¸€ä½ï¼Œé™¤éå®ƒå·²ç»æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ ï¼›</span></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;R&#x27;</span>: s.move_right(); <span class="keyword">break</span>;<span class="comment">//å°†å½“å‰ä½ç½®å³ç§»ä¸€ä½ï¼Œé™¤éå®ƒå·²ç»æ˜¯æœ€åä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;Q&#x27;</span>: <span class="built_in">cin</span> &gt;&gt; val; <span class="built_in">cout</span> &lt;&lt; s.query(val) &lt;&lt; <span class="built_in">endl</span>; <span class="keyword">break</span>;<span class="comment">//ğ‘˜  åœ¨å½“å‰ä½ç½®ä¹‹å‰ï¼Œæ‰¾åˆ°ä¸€ä¸ªæœ€å¤§çš„ ğ‘†ğ‘–(1â‰¤ğ‘–â‰¤ğ‘˜,ğ‘†ğ‘–=ğ‘1+ğ‘2+...+ğ‘ğ‘–)</span></span><br><span class="line">        <span class="keyword">default</span> : <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;error&quot;</span> &lt;&lt; <span class="built_in">endl</span>; <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="6-2HZOJ-263-ç«è½¦è¿›æ ˆ"><a href="#6-2HZOJ-263-ç«è½¦è¿›æ ˆ" class="headerlink" title="6.2HZOJ-263-ç«è½¦è¿›æ ˆ"></a>6.2HZOJ-263-ç«è½¦è¿›æ ˆ</h3><hr>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2021-01-15%20%E4%B8%8A%E5%8D%8810.56.08.png" alt="æˆªå±2021-01-15 ä¸Šåˆ10.55.49"></p>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2021-01-15%20%E4%B8%8A%E5%8D%8810.56.08.png" alt="æˆªå±2021-01-15 ä¸Šåˆ10.56.08"></p>
<hr>
<ol>
<li><p>å½“å‰è¦è¿›æ ˆçš„æœ€å¤§æ•°å­—æ˜¯ xï¼Œåºåˆ—ä¸­å½“å‰å¾…å‡ºæ ˆçš„æ•°å­—æ˜¯ y</p>
</li>
<li><p>$y &lt;= x$ï¼Œè¯´æ˜ y ä¸€å®šæ˜¯æ ˆé¡¶å…ƒç´ </p>
</li>
<li><p>$y &gt; x$ï¼Œå°† $[x + 1, y]$ å…¥æ ˆï¼Œæ­¤æ—¶æ ˆé¡¶å…ƒç´ ä¸€å®šæ˜¯ y</p>
<p>a[i]=3421</p>
<p>è¦è¿›æ ˆçš„1ï¼Œå¾…å‡º3</p>
<p>3&gt;1,123è¿›æ ˆï¼Œstack=123</p>
<p>4è¿›æ ˆï¼šstack=123ï¼Œå¾…å‡ºæ ˆ3(y)ï¼Œå¾…è¿›æ ˆ4(x)ï¼Œ4&gt;3==&gt;3æ˜¯æ ˆé¡¶ï¼Œ3å‡ºæ ˆï¼Œ4è¿›æ ˆ</p>
<p>stack=124,a[i]=3421</p>
<p>ä¾æ¬¡å‡ºæ ˆ</p>
</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">30</span>], <span class="built_in">stack</span>[<span class="number">30</span>], top;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">is_valid</span><span class="params">(<span class="keyword">int</span> *a, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> j = <span class="number">0</span>;<span class="comment">//è¦è¿›æ ˆå…ƒç´ </span></span><br><span class="line">    top = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">while</span>(j &lt; a[i]) &#123;</span><br><span class="line">            <span class="built_in">stack</span>[++top] = ++j;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (top == <span class="number">-1</span> || <span class="built_in">stack</span>[top] - a[i]) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        --top;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, ans = <span class="number">20</span>;;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) a[i] = i + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!is_valid(a, n)) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; a[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        --ans;</span><br><span class="line">    &#125; <span class="keyword">while</span>(ans &amp;&amp; next_permutation(a, a + n));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="6-2-å•è°ƒé˜Ÿåˆ—"><a href="#6-2-å•è°ƒé˜Ÿåˆ—" class="headerlink" title="6.2.å•è°ƒé˜Ÿåˆ—"></a>6.2.å•è°ƒé˜Ÿåˆ—</h2><p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2021-01-15%20%E4%B8%8B%E5%8D%882.11.28.png" alt="æˆªå±2021-01-15 ä¸‹åˆ2.11.28"></p>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2021-01-15%20%E4%B8%8B%E5%8D%882.14.28.png" alt="æˆªå±2021-01-15 ä¸‹åˆ2.14.28"></p>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2021-01-15%20%E4%B8%8B%E5%8D%882.16.34.png" alt="æˆªå±2021-01-15 ä¸‹åˆ2.16.34"></p>
<ol>
<li>æœ¬è´¨é—®é¢˜æ˜¯ï¼šå›ºå®šæŸ¥è¯¢ç»“å°¾çš„ RMQ é—®é¢˜ï¼Œä¾‹å¦‚ $RMQ(x, 7)$</li>
<li>é—®é¢˜æ€§è´¨ï¼šç»´æŠ¤æ»‘åŠ¨çª—å£æœ€å€¼é—®é¢˜</li>
<li>å…¥é˜Ÿï¼šå°†é˜Ÿå°¾è¿åå•è°ƒæ€§çš„å…ƒç´ æ·˜æ±°å‡ºå±€ï¼Œå†å°†å½“å‰å…ƒç´ å…¥é˜Ÿ</li>
<li>å‡ºé˜Ÿï¼šå¦‚æœé˜Ÿé¦–å…ƒç´ è¶…å‡ºäº†æ»‘åŠ¨çª—å£çš„èŒƒå›´ï¼Œé˜Ÿé¦–å‡ºé˜Ÿ</li>
<li>é˜Ÿé¦–å…ƒç´ ï¼šæ»‘åŠ¨çª—å£å†…çš„æœ€å€¼</li>
<li>å‡æ‘Šæ—¶é—´å¤æ‚åº¦ï¼š$O(1)$</li>
</ol>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2021-01-15%20%E4%B8%8B%E5%8D%882.18.02.png" alt="æˆªå±2021-01-15 ä¸‹åˆ2.18.02"></p>
<p>æ³¨ï¼šå•è°ƒé˜Ÿåˆ—ç»´æŠ¤çš„åŒºé—´æœ€å°å€¼ä¸€å®šåœ¨é˜Ÿé¦–</p>
<p>å…¥é˜Ÿæ“ä½œï¼š</p>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2021-01-15%20%E4%B8%8B%E5%8D%882.28.58.png" alt="æˆªå±2021-01-15 ä¸‹åˆ2.28.58"></p>
<h2 id="6-3å•è°ƒé˜Ÿåˆ—ä¾‹é¢˜HZOJ-271-æ»‘åŠ¨çª—å£"><a href="#6-3å•è°ƒé˜Ÿåˆ—ä¾‹é¢˜HZOJ-271-æ»‘åŠ¨çª—å£" class="headerlink" title="6.3å•è°ƒé˜Ÿåˆ—ä¾‹é¢˜HZOJ-271-æ»‘åŠ¨çª—å£"></a>6.3å•è°ƒé˜Ÿåˆ—ä¾‹é¢˜HZOJ-271-æ»‘åŠ¨çª—å£</h2><p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2021-01-15%20%E4%B8%8B%E5%8D%882.43.25.png" alt="æˆªå±2021-01-15 ä¸‹åˆ2.43.25"></p>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2021-01-15%20%E4%B8%8B%E5%8D%882.43.34.png" alt="æˆªå±2021-01-15 ä¸‹åˆ2.43.34"></p>
<p>å•è°ƒé˜Ÿåˆ—çš„è£¸é¢˜,ä¸»è¦è¦å­¦ä¹ ä»£ç å®ç°</p>
<p><strong>æ€è€ƒï¼š</strong>å•è°ƒé˜Ÿåˆ—ä¸­æ˜¯è®°å½•å€¼è¿˜æ˜¯è®°å½•ä¸‹æ ‡çš„é—®é¢˜</p>
<p><strong>ç»“è®ºï¼š</strong>==è®°å½•ä¸‹æ ‡ï¼Œå› ä¸ºæœ‰äº†ä¸‹æ ‡å¯ä»¥ç´¢å¼•åˆ°å€¼ï¼Œè®°å½•å€¼åˆ™åå‘ä¸å¯æŸ¥==</p>
<h2 id="6-4å•è°ƒé˜Ÿåˆ—åŠHZOJ271ä»£ç å®ç°"><a href="#6-4å•è°ƒé˜Ÿåˆ—åŠHZOJ271ä»£ç å®ç°" class="headerlink" title="6.4å•è°ƒé˜Ÿåˆ—åŠHZOJ271ä»£ç å®ç°"></a>6.4å•è°ƒé˜Ÿåˆ—åŠHZOJ271ä»£ç å®ç°</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_N 300000</span></span><br><span class="line"><span class="keyword">int</span> <span class="built_in">queue</span>[MAX_N + <span class="number">5</span>];<span class="comment">//ç»´æŠ¤æ•°ç»„çš„å•è°ƒé˜Ÿåˆ—ï¼Œå­˜å‚¨æ•°ç»„ä¸‹æ ‡</span></span><br><span class="line"><span class="keyword">int</span> head = <span class="number">0</span>, tail = <span class="number">0</span>;<span class="comment">//å¤´æŒ‡é’ˆï¼Œå°¾æŒ‡é’ˆ</span></span><br><span class="line"><span class="keyword">int</span> val[MAX_N + <span class="number">5</span>];<span class="comment">//æ•°ç»„</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, k;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; k;<span class="comment">//ç»™å‡ºä¸€ä¸ªé•¿åº¦ä¸º ğ‘ çš„æ•°ç»„,ä¸€ä¸ªé•¿ä¸º ğ¾ çš„æ»‘åŠ¨çª—å£</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; val[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;<span class="comment">//æ»‘åŠ¨çª—å£æœ€å°å€¼ï¼Œç”¨å•è°ƒé€’å¢é˜Ÿåˆ—</span></span><br><span class="line">        <span class="keyword">while</span> ((tail - head) &amp;&amp; val[<span class="built_in">queue</span>[tail - <span class="number">1</span>]] &gt; val[i]) --tail;</span><br><span class="line">        <span class="comment">//é˜Ÿåˆ—ä¸­æœ‰å…ƒç´ ï¼Œå¹¶ä¸”å½“å‰é˜Ÿå°¾å…ƒç´ çš„å€¼&gt;è¦å…¥é˜Ÿçš„å…ƒç´ ï¼Œå¤§äºè¦å…¥é˜Ÿçš„å…ƒç´ å…¨éƒ¨å‡ºé˜Ÿ</span></span><br><span class="line">      <span class="comment">//ç»´æŠ¤å•è°ƒé˜Ÿåˆ—çš„å•è°ƒæ€§</span></span><br><span class="line">        <span class="built_in">queue</span>[tail++] = i;<span class="comment">//å­˜å‚¨ä¸‹æ ‡</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">queue</span>[head] &lt;= i - k) head++;</span><br><span class="line">        <span class="keyword">if</span> (i &gt;= k) &#123;</span><br><span class="line">            i &gt; k &amp;&amp; <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; val[<span class="built_in">queue</span>[head]];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    head = tail = <span class="number">0</span>;<span class="comment">//é˜Ÿåˆ—æ¸…ç©º</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;<span class="comment">//æ»‘åŠ¨çª—å£æœ€å¤§å€¼ï¼Œç”¨å•è°ƒé€’å‡é˜Ÿåˆ—</span></span><br><span class="line">        <span class="keyword">while</span> ((tail - head) &amp;&amp; val[<span class="built_in">queue</span>[tail - <span class="number">1</span>]] &lt; val[i]) --tail;</span><br><span class="line">        <span class="comment">//é˜Ÿåˆ—ä¸­æœ‰å…ƒç´ ï¼Œå¹¶ä¸”å½“å‰é˜Ÿå°¾å…ƒç´ çš„å€¼ &lt; è¦å…¥é˜Ÿçš„å…ƒç´ ï¼Œå°äºè¦å…¥é˜Ÿçš„å…ƒç´ å…¨éƒ¨å‡ºé˜Ÿ</span></span><br><span class="line">        <span class="built_in">queue</span>[tail++] = i;<span class="comment">//å­˜å‚¨ä¸‹æ ‡</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">queue</span>[head] &lt;= i - k) head++;</span><br><span class="line">        <span class="keyword">if</span> (i &gt;= k) &#123;</span><br><span class="line">            i &gt; k &amp;&amp; <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; val[<span class="built_in">queue</span>[head]];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h2 id="6-5å•è°ƒæ ˆ"><a href="#6-5å•è°ƒæ ˆ" class="headerlink" title="6.5å•è°ƒæ ˆ"></a>6.5å•è°ƒæ ˆ</h2><p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2021-01-151%20%E4%B8%8B%E5%8D%884.34.26.png" alt="æˆªå±2021-01-151 ä¸‹åˆ4.34.26"></p>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2021-01-15%20%E4%B8%8B%E5%8D%884.34.59.png" alt="æˆªå±2021-01-15 ä¸‹åˆ4.34.59"></p>
<ol>
<li>å•è°ƒæ ˆä¿ç•™äº†å•è°ƒé˜Ÿåˆ—çš„ã€å…¥é˜Ÿã€æ“ä½œ</li>
<li>å•è°ƒæ ˆä¾ç„¶æ˜¯ç»´æŠ¤äº†ä¸€ç§å•è°ƒæ€§</li>
<li>é—®é¢˜æ€§è´¨ï¼šæœ€è¿‘ï¼ˆå¤§äº/å°äºï¼‰å…³ç³»</li>
<li>å…¥æ ˆä¹‹å‰ï¼Œç¬¦åˆå•è°ƒæ€§çš„æ ˆé¡¶å…ƒç´ ï¼Œå°±æ˜¯æˆ‘ä»¬è¦æ‰¾çš„æœ€è¿‘ï¼ˆå¤§äº/å°äºï¼‰å…³ç³»</li>
<li>å‡æ‘Šæ—¶é—´å¤æ‚åº¦ï¼š$O(1)$</li>
</ol>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2021-01-15%20%E4%B8%8B%E5%8D%884.30.37.png" alt="æˆªå±2021-01-15 ä¸‹åˆ4.30.37"></p>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2021-01-15%20%E4%B8%8B%E5%8D%884.30.50.png" alt="æˆªå±2021-01-15 ä¸‹åˆ4.30.50"></p>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2021-01-15%20%E4%B8%8B%E5%8D%884.31.08.png" alt="æˆªå±2021-01-15 ä¸‹åˆ4.31.08"></p>
<h2 id="6-6å•è°ƒæ ˆä¾‹é¢˜HZOJ-264-æœ€å¤§çŸ©å½¢é¢ç§¯"><a href="#6-6å•è°ƒæ ˆä¾‹é¢˜HZOJ-264-æœ€å¤§çŸ©å½¢é¢ç§¯" class="headerlink" title="6.6å•è°ƒæ ˆä¾‹é¢˜HZOJ-264-æœ€å¤§çŸ©å½¢é¢ç§¯"></a>6.6å•è°ƒæ ˆä¾‹é¢˜HZOJ-264-æœ€å¤§çŸ©å½¢é¢ç§¯</h2><p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2021-01-15%20%E4%B8%8B%E5%8D%884.56.33.png" alt="æˆªå±2021-01-15 ä¸‹åˆ4.56.22"></p>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2021-01-15%20%E4%B8%8B%E5%8D%884.56.33.png" alt="æˆªå±2021-01-15 ä¸‹åˆ4.56.33"></p>
<ol>
<li>åˆ†ææœ€ä¼˜è§£çš„æ€§è´¨ï¼Œæ˜¯è§£å†³é—®é¢˜çš„ç¬¬ä¸€æ­¥</li>
<li>æœ€å¤§çŸ©å½¢çš„æ€§è´¨ï¼šä¸€å®šæ˜¯ä»¥å…¶æ‰€åœ¨åŒºåŸŸä¸­æœ€çŸ®çš„æœ¨æ¿ä¸ºé«˜åº¦çš„</li>
<li>ä»¥æ¯ä¸€å—æœ¨æ¿åšä¸ºçŸ©å½¢é«˜åº¦ï¼Œæ±‚èƒ½å¾—åˆ°çš„æœ€å¤§çŸ©å½¢é¢ç§¯ï¼Œæœ€ååœ¨æ‰€æœ‰é¢ç§¯ä¸­ï¼Œå–ä¸€ä¸ªæœ€å¤§å€¼</li>
<li>éœ€è¦æ±‚è§£ï¼šæ¯ä¸€å—æœ¨æ¿æœ€è¿‘çš„é«˜åº¦å°äºå½“å‰æœ¨æ¿çš„ä½ç½®ï¼Œæ‰€ä»¥éœ€è¦ç”¨å•è°ƒæ ˆ</li>
</ol>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2021-01-15%20%E4%B8%8B%E5%8D%884.57.45.png" alt="æˆªå±2021-01-15 ä¸‹åˆ4.57.18"></p>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2021-01-15%20%E4%B8%8B%E5%8D%884.57.45.png" alt="æˆªå±2021-01-15 ä¸‹åˆ4.57.45"></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_N 100000</span></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> <span class="built_in">stack</span>[MAX_N + <span class="number">5</span>];<span class="comment">//å•è°ƒæ ˆï¼Œè®°å½•ä¸‹æ ‡</span></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> top;<span class="comment">//æ ˆé¡¶æŒ‡é’ˆ</span></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> h[MAX_N + <span class="number">5</span>];<span class="comment">//è®°å½•æ¯ä¸€å—æœ¨æ¿çš„é•¿åº¦</span></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> n;</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> l[MAX_N + <span class="number">5</span>],r[MAX_N + <span class="number">5</span>];<span class="comment">//l</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">read</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">//cin &gt;&gt; n;</span></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%lld&quot;</span>, &amp;n);</span><br><span class="line">    <span class="comment">//è¾“å…¥å…±ä¸€è¡Œï¼Œç¬¬ä¸€ä¸ªæ•°è¡¨ç¤ºçŸ©å½¢çš„ä¸ªæ•° ğ‘ã€‚æ¥ä¸‹æ¥ ğ‘ ä¸ªæ•°è¡¨ç¤ºçŸ©å½¢çš„å¤§å°ã€‚ï¼ˆ1â‰¤ğ‘â‰¤100000ï¼‰</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">long</span> <span class="keyword">long</span> i = <span class="number">1</span>; i &lt;= n; i++) <span class="built_in">scanf</span>(<span class="string">&quot;%lld&quot;</span>, h + i);</span><br><span class="line">        <span class="comment">//cin &gt;&gt; h[i];</span></span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    h[<span class="number">0</span>] = h[n + <span class="number">1</span>] = <span class="number">-1</span>;<span class="comment">//æœ€è¾¹ä¸Šçš„ä¸¤å—æœ¨æ¿,å³è¾¹ç•Œæœ¨æ¿</span></span><br><span class="line">    top = <span class="number">-1</span>;</span><br><span class="line">    <span class="comment">//æ±‚æœ€è¿‘å°äºå…³ç³»ï¼Œå•è°ƒé€’å¢æ ˆ</span></span><br><span class="line">    <span class="comment">//å·¦è¾¹æœ¨æ¿</span></span><br><span class="line">    <span class="built_in">stack</span>[++top] = <span class="number">0</span>;<span class="comment">//0åæ ‡å…ˆå‹æ ˆ</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">long</span> <span class="keyword">long</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">while</span> (top != <span class="number">-1</span> &amp;&amp; h[<span class="built_in">stack</span>[top]] &gt;= h[i]) --top;<span class="comment">//å‡ºæ ˆ</span></span><br><span class="line">        l[i] = <span class="built_in">stack</span>[top];</span><br><span class="line">      <span class="comment">//ç¬¬iå—æœ¨æ¿å·¦è¾¹ç¦»ä»–æœ€è¿‘çš„ä¸”é«˜åº¦å°äºä»–çš„æœ¨æ¿ç¼–å·</span></span><br><span class="line">        <span class="built_in">stack</span>[++top] = i;<span class="comment">//å…¥æ ˆ</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å³è¾¹æœ¨æ¿</span></span><br><span class="line">    top = <span class="number">-1</span>;<span class="comment">//æ¸…ç©ºæ ˆ</span></span><br><span class="line">    <span class="comment">//æ±‚æœ€è¿‘å°äºå…³ç³»ï¼Œå•è°ƒé€’å¢æ ˆ</span></span><br><span class="line">    <span class="built_in">stack</span>[++top] = n + <span class="number">1</span>;<span class="comment">//æœ€å³è¾¹åæ ‡å…ˆå‹æ ˆ</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">long</span> <span class="keyword">long</span> i = n; i &gt;= <span class="number">1</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">while</span> (top != <span class="number">-1</span> &amp;&amp; h[<span class="built_in">stack</span>[top]] &gt;= h[i]) --top;<span class="comment">//å‡ºæ ˆ</span></span><br><span class="line">        r[i] = <span class="built_in">stack</span>[top];</span><br><span class="line">      <span class="comment">//ç¬¬iå—æœ¨æ¿å³è¾¹ç¦»ä»–æœ€è¿‘çš„ä¸”é«˜åº¦å°äºä»–çš„æœ¨æ¿ç¼–å·</span></span><br><span class="line">        <span class="built_in">stack</span>[++top] = i;<span class="comment">//å…¥æ ˆ</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">long</span> <span class="keyword">long</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        ans = max(ans, h[i] * (r[i] - l[i] - <span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    read();</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; solve() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>




<h1 id="7-å•è°ƒé˜Ÿåˆ—å’Œå•è°ƒæ ˆä¹ é¢˜"><a href="#7-å•è°ƒé˜Ÿåˆ—å’Œå•è°ƒæ ˆä¹ é¢˜" class="headerlink" title="7.å•è°ƒé˜Ÿåˆ—å’Œå•è°ƒæ ˆä¹ é¢˜"></a>7.å•è°ƒé˜Ÿåˆ—å’Œå•è°ƒæ ˆä¹ é¢˜</h1><h2 id="7-1HAIZEIOJ51çŸ©å½¢"><a href="#7-1HAIZEIOJ51çŸ©å½¢" class="headerlink" title="7.1HAIZEIOJ51çŸ©å½¢"></a>7.1HAIZEIOJ51çŸ©å½¢</h2><p><img src="Desktop/%E6%88%AA%E5%B1%8F2021-01-15%20%E4%B8%8B%E5%8D%888.29.41.png" alt="æˆªå±2021-01-15 ä¸‹åˆ8.29.41"></p>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2021-01-15%20%E4%B8%8B%E5%8D%888.29.51.png" alt="æˆªå±2021-01-15 ä¸‹åˆ8.29.51"></p>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2021-01-17%20%E4%B8%8A%E5%8D%889.46.36.png" alt="æˆªå±2021-01-17 ä¸Šåˆ9.46.36"></p>
<ol>
<li>å·¦ä¸Šè§’åæ ‡å’Œå³ä¸‹è§’åæ ‡å¯ä»¥å”¯ä¸€ç¡®å®šä¸€ä¸ªå­çŸ©å½¢</li>
<li>ç¡®å®šä¸€è¡Œï¼Œå°†é—®é¢˜è½¬æ¢æˆå­é—®é¢˜ï¼Œå³ä¸‹è§’åæ ‡è½åœ¨å›ºå®šçš„ä¸€è¡Œä¸Šï¼Œæ±‚æ¯ä¸ªç‚¹èƒ½æ„æˆçš„åˆæ³•å­çŸ©å½¢æ•°é‡</li>
<li>é€šè¿‡è§‚å¯Ÿï¼Œå°†é—®é¢˜å˜æˆä¸¤éƒ¨åˆ†å­é—®é¢˜</li>
<li>$f(x)$ ä»£è¡¨ä»¥ X åšä¸ºå³ä¸‹è§’åæ ‡æ‰€èƒ½æ„æˆçš„åˆæ³•å­çŸ©å½¢æ•°é‡</li>
<li>é¦–å…ˆæ‰¾åˆ°å·¦ä¾§ç¦» X ç‚¹æœ€è¿‘çš„ï¼Œå°äº X ç‚¹çš„ä½ç½® i</li>
<li>$f(x) = h_x\times (x-i) + f(i)$</li>
<li>å› ä¸ºéœ€è¦æ±‚è§£ç¦» X æœ€è¿‘çš„å°äº X çš„ä½ç½®ï¼Œæ‰€ä»¥è¦ç”¨åˆ°å•è°ƒæ ˆ</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_N 1000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MOD_NUM 100007</span></span><br><span class="line"><span class="keyword">int</span> <span class="built_in">stack</span>[MAX_N + <span class="number">5</span>], top;</span><br><span class="line"><span class="keyword">int</span> c[MAX_N + <span class="number">5</span>][MAX_N + <span class="number">5</span>];<span class="comment">//c[i][j]ä»[i,j]å‘ä¸Šæ•°ï¼Œæœ‰å¤šå°‘ä¸ªè¿ç»­çš„ç™½è‰²æ ¼å­ï¼Œå³çŸ©å½¢é«˜</span></span><br><span class="line"><span class="keyword">int</span> f[MAX_N + <span class="number">5</span>];<span class="comment">//</span></span><br><span class="line"><span class="keyword">int</span> n, m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">read</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;<span class="comment">//ç¬¬ä¸€è¡Œè¾“å…¥ä¸¤ä¸ªæ•°å­— ğ‘›,ğ‘šï¼ˆ2â‰¤ğ‘›,ğ‘šâ‰¤1000ï¼‰ï¼Œä»£è¡¨çŸ©å½¢çš„é•¿å’Œå®½ã€‚</span></span><br><span class="line">    <span class="comment">//æ¥ä¸‹æ¥ ğ‘› è¡Œï¼Œæ¯è¡Œ ğ‘š ä¸ªæ•°å­—ï¼Œ0 ä»£è¡¨é»‘è‰²æ ¼å­ï¼Œ1 ä»£è¡¨ç™½è‰²æ ¼å­ã€‚</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; j++) &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; c[i][j];</span><br><span class="line">            <span class="keyword">if</span> (c[i][j] == <span class="number">1</span>) c[i][j] += c[i - <span class="number">1</span>][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;<span class="comment">//nè¡Œ</span></span><br><span class="line">        top = <span class="number">-1</span>;</span><br><span class="line">        <span class="built_in">stack</span>[++top] = <span class="number">0</span>;</span><br><span class="line">        c[i][<span class="number">0</span>] = <span class="number">-1</span>;</span><br><span class="line">        f[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; j++) &#123;<span class="comment">//æ¯è¡Œmä¸ªæ•°å­—</span></span><br><span class="line">            <span class="keyword">while</span>(top != <span class="number">-1</span> &amp;&amp; c[i][<span class="built_in">stack</span>[top]] &gt; c[i][j]) --top;<span class="comment">//å‡ºæ ˆï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¯”c[i][j]çŸ®çš„</span></span><br><span class="line">            f[j] = c[i][j] * (j - <span class="built_in">stack</span>[top]) + f[<span class="built_in">stack</span>[top]];<span class="comment">//å­çŸ©å½¢ä¸ªæ•°=çŸ©å½¢é«˜xå®½(å³f(i)å³è¾¹çš„å­çŸ©å½¢ä¸ªæ•°) + f(i)å·¦è¾¹çš„å­çŸ©å½¢ä¸ªæ•°</span></span><br><span class="line">            <span class="comment">//cout &lt;&lt; &quot;f[j]&quot; &lt;&lt; j &lt;&lt; &quot; &quot; &lt;&lt; f[j] &lt;&lt; endl;</span></span><br><span class="line">            <span class="built_in">stack</span>[++top] = j;</span><br><span class="line">            f[j] %= MOD_NUM;</span><br><span class="line">            ans += f[j];</span><br><span class="line">            ans %= MOD_NUM;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    read();</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; solve() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>






<h2 id="7-2HZOJ-52-å¤è€çš„æ‰“å­—æœº"><a href="#7-2HZOJ-52-å¤è€çš„æ‰“å­—æœº" class="headerlink" title="7.2HZOJ-52-å¤è€çš„æ‰“å­—æœº"></a>7.2HZOJ-52-å¤è€çš„æ‰“å­—æœº</h2><p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2021-01-17%20%E4%B8%8A%E5%8D%8811.00.47.png" alt="æˆªå±2021-01-17 ä¸Šåˆ11.00.47"></p>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2021-01-17%20%E4%B8%8A%E5%8D%8811.00.58.png" alt="æˆªå±2021-01-17 ä¸Šåˆ11.00.58"></p>
<h3 id="çŠ¶æ€å®šä¹‰"><a href="#çŠ¶æ€å®šä¹‰" class="headerlink" title="çŠ¶æ€å®šä¹‰"></a>çŠ¶æ€å®šä¹‰</h3><p>$dp[i]$ ä»£è¡¨æ‰“å°å‰ i ä¸ªå­—ç¬¦çš„æœ€å°æ¶ˆè€—å€¼</p>
<h3 id="çŠ¶æ€è½¬ç§»æ–¹ç¨‹"><a href="#çŠ¶æ€è½¬ç§»æ–¹ç¨‹" class="headerlink" title="çŠ¶æ€è½¬ç§»æ–¹ç¨‹"></a>çŠ¶æ€è½¬ç§»æ–¹ç¨‹</h3><p>å®šä¹‰ï¼š $s_i = \sum_{k=1}^{i}c_k$</p>
<p>$dp[i] = min(dp[j] + (s_i - s_j)^2 + M)$</p>
<p><strong>æ—¶é—´å¤æ‚åº¦ï¼š</strong>$O(n^2)$</p>
<h3 id="æ–œç‡ä¼˜åŒ–"><a href="#æ–œç‡ä¼˜åŒ–" class="headerlink" title="æ–œç‡ä¼˜åŒ–"></a>æ–œç‡ä¼˜åŒ–</h3><p>å‡è®¾ä» j è½¬ç§»è¦ä¼˜äºä» k è½¬ç§»</p>
<p>$dp[j] + (s_i-s_j)^2+M &lt; dp[k] + (s_i-s_k)^2+M$</p>
<p>$dp[j] + s_j^2-2s_is_j &lt; dp[k] + s_k^2-2s_is_k$</p>
<p>$(dp[j] + s_j^2) -(dp[k] + s_k^2)&lt; 2s_i(s_j-s_k)$</p>
<p>$\frac{(dp[j] + s_j^2) -(dp[k] + s_k^2)}{s_j-s_k}&lt; 2s_i$</p>
<p>è®¾ï¼š$f(i) = dp[i] + s_i^2$</p>
<p>$\frac{f(j) - f(k)}{s_j-s_k}&lt; 2s_i$ ï¼Œè¿™ä¸œè¥¿å°±æ˜¯ä¸€ä¸ªæ–œç‡</p>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2021-01-17%20%E4%B8%8A%E5%8D%8811.08.58.png" alt="æˆªå±2021-01-17 ä¸Šåˆ11.08.30"></p>
<p><img src="Desktop/%E6%88%AA%E5%B1%8F2021-01-17%20%E4%B8%8A%E5%8D%8811.09.10.png" alt="æˆªå±2021-01-17 ä¸Šåˆ11.09.10"></p>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2021-01-17%20%E4%B8%8A%E5%8D%8811.09.25.png" alt="æˆªå±2021-01-17 ä¸Šåˆ11.09.25"></p>
<p>==&gt;$\frac{f(j) - f(k)}{s_j-s_k}&lt; 2s_i$ æ„å‘³ç€ä»jç‚¹è½¬ç§»æ¯”ä»kç‚¹è½¬ç§»æ›´ä¼˜ç§€</p>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2021-01-17%20%E4%B8%8A%E5%8D%8811.09.34.png" alt="æˆªå±2021-01-17 ä¸Šåˆ11.09.34"></p>
<p>1.ä»kè½¬ç§»ä¼˜äºä»jè½¬ç§»ï¼Œä»lè½¬ç§»ä¼˜äºä»kè½¬ç§»ï¼Œæ‰€ä»¥é€‰æ‹©ä»lè½¬ç§»</p>
<p>2.ã€‚</p>
<p>3..</p>
<p><img src="https://guziqiu-pictures.oss-cn-hangzhou.aliyuncs.com/img/%E6%88%AA%E5%B1%8F2021-01-17%20%E4%B8%8A%E5%8D%8811.09.39.png" alt="æˆªå±2021-01-17 ä¸Šåˆ11.09.39"></p>
<p>ç»è¿‡æ–œç‡ä¼˜åŒ–ä»¥åï¼Œæ—¶é—´å¤æ‚åº¦ä¼˜åŒ–æˆäº†ï¼š$O(n)$</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_N 1000000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> S(a) ((a) * (a))</span></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span>  dp[MAX_N + <span class="number">5</span>], c[MAX_N + <span class="number">5</span>], s[MAX_N + <span class="number">5</span>];</span><br><span class="line"><span class="keyword">int</span> n, M;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> f[MAX_N + <span class="number">5</span>];</span><br><span class="line"><span class="keyword">int</span> q[MAX_N + <span class="number">5</span>], head, tail;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">slope</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;<span class="comment">//æ±‚æ–œç‡</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1.0</span> * (f[i] - f[j])/(s[i] - s[j]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">read</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; M;</span><br><span class="line">    <span class="comment">//ç¬¬ä¸€è¡Œè¾“å…¥ä¸¤ä¸ªæ•°å­—ï¼Œğ‘›,ğ‘€(1â‰¤ğ‘›â‰¤106,1â‰¤ğ‘€â‰¤104) ä»£è¡¨æ–‡ç« ä¸­å­—ç¬¦æ•°é‡å’Œæ‰“å­—æœºå•æ¬¡å¯åŠ¨çš„å›ºå®šç£¨æŸå€¼ã€‚</span></span><br><span class="line">    <span class="comment">//ç¬¬äºŒè¡Œè¾“å…¥ ğ‘› ä¸ªæ•°å­—ï¼Œç¬¬ ğ‘– ä¸ªæ•°å­—ä»£è¡¨æ–‡ç« ä¸­ç¬¬ ğ‘– ä¸ªå­—ç¬¦çš„ç£¨æŸå€¼ ğ¶ğ‘–(1â‰¤ğ¶ğ‘–â‰¤100)ã€‚</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; c[i];<span class="comment">//cin &gt;&gt; s[i];</span></span><br><span class="line">        s[i] = s[i - <span class="number">1</span>] + c[i];<span class="comment">//s[i] = s[i - 1] + s[i];</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">set_dp</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;<span class="comment">//ä»iç‚¹è½¬ç§»åˆ°jç‚¹</span></span><br><span class="line">    dp[i] = dp[j] + S(s[i] - s[j]) + M;</span><br><span class="line">    f[i] = dp[i] + S(s[i]);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">solve</span><span class="params">()</span>  </span>&#123;</span><br><span class="line">    head = tail = <span class="number">0</span>;</span><br><span class="line">    q[tail++] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">while</span> (tail - head &gt;= <span class="number">2</span> &amp;&amp; slope(q[head + <span class="number">1</span>], q[head]) &lt; <span class="number">2</span> * s[i]) ++head;<span class="comment">//</span></span><br><span class="line">        set_dp(i, q[head]);</span><br><span class="line">        <span class="keyword">while</span> (tail - head &gt;= <span class="number">2</span> &amp;&amp; slope(i, q[tail - <span class="number">1</span>]) &lt; slope(q[tail - <span class="number">2</span>], q[tail - <span class="number">1</span>])) --tail;</span><br><span class="line">        q[tail++] = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    read();</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; solve() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="ä¸‰ã€HZOJ-372-åŒç”Ÿåºåˆ—"><a href="#ä¸‰ã€HZOJ-372-åŒç”Ÿåºåˆ—" class="headerlink" title="ä¸‰ã€HZOJ-372-åŒç”Ÿåºåˆ—"></a>ä¸‰ã€HZOJ-372-åŒç”Ÿåºåˆ—</h2><ol>
<li>å› ä¸ºä¸¤ä¸ªåºåˆ—çš„æ¯ä¸ªåŒºé—´çš„ RMQ å€¼éƒ½ç›¸ç­‰ï¼Œç­‰ä»·äºä¸¤ä¸ªåºåˆ—çš„å•è°ƒé˜Ÿåˆ—é•¿å¾—ä¸€æ ·</li>
<li>å°†ä¸¤ä¸ªåºåˆ—ï¼Œä¾æ¬¡æ’å…¥åˆ°å•è°ƒé˜Ÿåˆ—ä¸­ï¼Œè¿‡ç¨‹ä¸­åˆ¤æ–­å•è°ƒé˜Ÿåˆ—æ˜¯å¦ä¸€æ ·ï¼Œå¦‚æœä¸ä¸€æ ·ï¼Œå°±é€€å‡º</li>
<li>æ‰€ä»¥ï¼Œéœ€è¦ä½¿ç”¨å•è°ƒé˜Ÿåˆ—</li>
</ol>
<h2 id="å››ã€HZOJ-270-æœ€å¤§å­åºå’Œ"><a href="#å››ã€HZOJ-270-æœ€å¤§å­åºå’Œ" class="headerlink" title="å››ã€HZOJ-270-æœ€å¤§å­åºå’Œ"></a>å››ã€HZOJ-270-æœ€å¤§å­åºå’Œ</h2><ol>
<li>æœ‰ä¸ªé™åˆ¶æ¡ä»¶ï¼šå­åºåˆ—çš„é•¿åº¦ä¸è¶…è¿‡ M</li>
<li>è½¬æ¢æˆå‰ç¼€å’Œæ•°ç»„ä¸Šçš„é—®é¢˜ï¼Œå°±æ˜¯ $S_i - S_j$ï¼Œå…¶ä¸­$i-j &lt;= M$</li>
<li>åœ¨å‰ç¼€å’Œæ•°ç»„ä¸Šï¼Œç»´æŠ¤ä¸€ä¸ªå¤§å°ä¸º M çš„æ»‘åŠ¨çª—å£ä¸­çš„æœ€å°å€¼</li>
<li>æ‰€ä»¥ï¼Œé‡‡ç”¨å•è°ƒé˜Ÿåˆ—ç»´æŠ¤åŒºé—´æœ€å°å€¼</li>
</ol>
<p><img src="../guanghu/Library/Application%20Support/typora-user-images/image-20210110214945169.png" alt="image-20210110214945169"></p>
<h1 id="0-00000"><a href="#0-00000" class="headerlink" title="0.00000"></a>0.00000</h1><h2 id="-1"><a href="#-1" class="headerlink" title=""></a></h2><h1 id="0000000000"><a href="#0000000000" class="headerlink" title="0000000000"></a>0000000000</h1>]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
  </entry>
</search>
